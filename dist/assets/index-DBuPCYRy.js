var Jv=Object.defineProperty;var Xv=(e,t,r)=>t in e?Jv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Nt=(e,t,r)=>Xv(e,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();function ex(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ym={exports:{}},vl={},vm={exports:{}},pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vi=Symbol.for("react.element"),tx=Symbol.for("react.portal"),rx=Symbol.for("react.fragment"),nx=Symbol.for("react.strict_mode"),sx=Symbol.for("react.profiler"),ax=Symbol.for("react.provider"),ix=Symbol.for("react.context"),ox=Symbol.for("react.forward_ref"),lx=Symbol.for("react.suspense"),ux=Symbol.for("react.memo"),cx=Symbol.for("react.lazy"),Kf=Symbol.iterator;function dx(e){return e===null||typeof e!="object"?null:(e=Kf&&e[Kf]||e["@@iterator"],typeof e=="function"?e:null)}var xm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wm=Object.assign,bm={};function Xs(e,t,r){this.props=e,this.context=t,this.refs=bm,this.updater=r||xm}Xs.prototype.isReactComponent={};Xs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Xs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function _m(){}_m.prototype=Xs.prototype;function _d(e,t,r){this.props=e,this.context=t,this.refs=bm,this.updater=r||xm}var Sd=_d.prototype=new _m;Sd.constructor=_d;wm(Sd,Xs.prototype);Sd.isPureReactComponent=!0;var Hf=Array.isArray,Sm=Object.prototype.hasOwnProperty,kd={current:null},km={key:!0,ref:!0,__self:!0,__source:!0};function Nm(e,t,r){var n,s={},a=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)Sm.call(t,n)&&!km.hasOwnProperty(n)&&(s[n]=t[n]);var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)s[n]===void 0&&(s[n]=o[n]);return{$$typeof:vi,type:e,key:a,ref:i,props:s,_owner:kd.current}}function fx(e,t){return{$$typeof:vi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Nd(e){return typeof e=="object"&&e!==null&&e.$$typeof===vi}function hx(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Wf=/\/+/g;function zl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?hx(""+e.key):t.toString(36)}function ro(e,t,r,n,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case vi:case tx:i=!0}}if(i)return i=e,s=s(i),e=n===""?"."+zl(i,0):n,Hf(s)?(r="",e!=null&&(r=e.replace(Wf,"$&/")+"/"),ro(s,t,r,"",function(c){return c})):s!=null&&(Nd(s)&&(s=fx(s,r+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(Wf,"$&/")+"/")+e)),t.push(s)),1;if(i=0,n=n===""?".":n+":",Hf(e))for(var o=0;o<e.length;o++){a=e[o];var l=n+zl(a,o);i+=ro(a,t,r,l,s)}else if(l=dx(e),typeof l=="function")for(e=l.call(e),o=0;!(a=e.next()).done;)a=a.value,l=n+zl(a,o++),i+=ro(a,t,r,l,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Ai(e,t,r){if(e==null)return e;var n=[],s=0;return ro(e,n,"","",function(a){return t.call(r,a,s++)}),n}function px(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var St={current:null},no={transition:null},mx={ReactCurrentDispatcher:St,ReactCurrentBatchConfig:no,ReactCurrentOwner:kd};function Em(){throw Error("act(...) is not supported in production builds of React.")}pe.Children={map:Ai,forEach:function(e,t,r){Ai(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ai(e,function(){t++}),t},toArray:function(e){return Ai(e,function(t){return t})||[]},only:function(e){if(!Nd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};pe.Component=Xs;pe.Fragment=rx;pe.Profiler=sx;pe.PureComponent=_d;pe.StrictMode=nx;pe.Suspense=lx;pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mx;pe.act=Em;pe.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=wm({},e.props),s=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=kd.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)Sm.call(t,l)&&!km.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:vi,type:e.type,key:s,ref:a,props:n,_owner:i}};pe.createContext=function(e){return e={$$typeof:ix,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ax,_context:e},e.Consumer=e};pe.createElement=Nm;pe.createFactory=function(e){var t=Nm.bind(null,e);return t.type=e,t};pe.createRef=function(){return{current:null}};pe.forwardRef=function(e){return{$$typeof:ox,render:e}};pe.isValidElement=Nd;pe.lazy=function(e){return{$$typeof:cx,_payload:{_status:-1,_result:e},_init:px}};pe.memo=function(e,t){return{$$typeof:ux,type:e,compare:t===void 0?null:t}};pe.startTransition=function(e){var t=no.transition;no.transition={};try{e()}finally{no.transition=t}};pe.unstable_act=Em;pe.useCallback=function(e,t){return St.current.useCallback(e,t)};pe.useContext=function(e){return St.current.useContext(e)};pe.useDebugValue=function(){};pe.useDeferredValue=function(e){return St.current.useDeferredValue(e)};pe.useEffect=function(e,t){return St.current.useEffect(e,t)};pe.useId=function(){return St.current.useId()};pe.useImperativeHandle=function(e,t,r){return St.current.useImperativeHandle(e,t,r)};pe.useInsertionEffect=function(e,t){return St.current.useInsertionEffect(e,t)};pe.useLayoutEffect=function(e,t){return St.current.useLayoutEffect(e,t)};pe.useMemo=function(e,t){return St.current.useMemo(e,t)};pe.useReducer=function(e,t,r){return St.current.useReducer(e,t,r)};pe.useRef=function(e){return St.current.useRef(e)};pe.useState=function(e){return St.current.useState(e)};pe.useSyncExternalStore=function(e,t,r){return St.current.useSyncExternalStore(e,t,r)};pe.useTransition=function(){return St.current.useTransition()};pe.version="18.3.1";vm.exports=pe;var C=vm.exports;const ge=ex(C);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gx=C,yx=Symbol.for("react.element"),vx=Symbol.for("react.fragment"),xx=Object.prototype.hasOwnProperty,wx=gx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bx={key:!0,ref:!0,__self:!0,__source:!0};function Cm(e,t,r){var n,s={},a=null,i=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)xx.call(t,n)&&!bx.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:yx,type:e,key:a,ref:i,props:s,_owner:wx.current}}vl.Fragment=vx;vl.jsx=Cm;vl.jsxs=Cm;ym.exports=vl;var u=ym.exports,$u={},jm={exports:{}},$t={},Tm={exports:{}},Am={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,D){var U=M.length;M.push(D);e:for(;0<U;){var H=U-1>>>1,re=M[H];if(0<s(re,D))M[H]=D,M[U]=re,U=H;else break e}}function r(M){return M.length===0?null:M[0]}function n(M){if(M.length===0)return null;var D=M[0],U=M.pop();if(U!==D){M[0]=U;e:for(var H=0,re=M.length,fe=re>>>1;H<fe;){var T=2*(H+1)-1,O=M[T],oe=T+1,Ee=M[oe];if(0>s(O,U))oe<re&&0>s(Ee,O)?(M[H]=Ee,M[oe]=U,H=oe):(M[H]=O,M[T]=U,H=T);else if(oe<re&&0>s(Ee,U))M[H]=Ee,M[oe]=U,H=oe;else break e}}return D}function s(M,D){var U=M.sortIndex-D.sortIndex;return U!==0?U:M.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var l=[],c=[],d=1,h=null,f=3,y=!1,m=!1,w=!1,k=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(M){for(var D=r(c);D!==null;){if(D.callback===null)n(c);else if(D.startTime<=M)n(c),D.sortIndex=D.expirationTime,t(l,D);else break;D=r(c)}}function S(M){if(w=!1,x(M),!m)if(r(l)!==null)m=!0,ae(b);else{var D=r(c);D!==null&&ie(S,D.startTime-M)}}function b(M,D){m=!1,w&&(w=!1,g(E),E=-1),y=!0;var U=f;try{for(x(D),h=r(l);h!==null&&(!(h.expirationTime>D)||M&&!R());){var H=h.callback;if(typeof H=="function"){h.callback=null,f=h.priorityLevel;var re=H(h.expirationTime<=D);D=e.unstable_now(),typeof re=="function"?h.callback=re:h===r(l)&&n(l),x(D)}else n(l);h=r(l)}if(h!==null)var fe=!0;else{var T=r(c);T!==null&&ie(S,T.startTime-D),fe=!1}return fe}finally{h=null,f=U,y=!1}}var _=!1,v=null,E=-1,j=5,A=-1;function R(){return!(e.unstable_now()-A<j)}function F(){if(v!==null){var M=e.unstable_now();A=M;var D=!0;try{D=v(!0,M)}finally{D?V():(_=!1,v=null)}}else _=!1}var V;if(typeof p=="function")V=function(){p(F)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,se=K.port2;K.port1.onmessage=F,V=function(){se.postMessage(null)}}else V=function(){k(F,0)};function ae(M){v=M,_||(_=!0,V())}function ie(M,D){E=k(function(){M(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){m||y||(m=!0,ae(b))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(M){switch(f){case 1:case 2:case 3:var D=3;break;default:D=f}var U=f;f=D;try{return M()}finally{f=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,D){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var U=f;f=M;try{return D()}finally{f=U}},e.unstable_scheduleCallback=function(M,D,U){var H=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?H+U:H):U=H,M){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=U+re,M={id:d++,callback:D,priorityLevel:M,startTime:U,expirationTime:re,sortIndex:-1},U>H?(M.sortIndex=U,t(c,M),r(l)===null&&M===r(c)&&(w?(g(E),E=-1):w=!0,ie(S,U-H))):(M.sortIndex=re,t(l,M),m||y||(m=!0,ae(b))),M},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(M){var D=f;return function(){var U=f;f=D;try{return M.apply(this,arguments)}finally{f=U}}}})(Am);Tm.exports=Am;var _x=Tm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sx=C,Lt=_x;function $(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Im=new Set,Ua={};function as(e,t){Fs(e,t),Fs(e+"Capture",t)}function Fs(e,t){for(Ua[e]=t,e=0;e<t.length;e++)Im.add(t[e])}var Vr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Uu=Object.prototype.hasOwnProperty,kx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Zf={},qf={};function Nx(e){return Uu.call(qf,e)?!0:Uu.call(Zf,e)?!1:kx.test(e)?qf[e]=!0:(Zf[e]=!0,!1)}function Ex(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Cx(e,t,r,n){if(t===null||typeof t>"u"||Ex(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function kt(e,t,r,n,s,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var at={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){at[e]=new kt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];at[t]=new kt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){at[e]=new kt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){at[e]=new kt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){at[e]=new kt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){at[e]=new kt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){at[e]=new kt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){at[e]=new kt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){at[e]=new kt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ed=/[\-:]([a-z])/g;function Cd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ed,Cd);at[t]=new kt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ed,Cd);at[t]=new kt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ed,Cd);at[t]=new kt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){at[e]=new kt(e,1,!1,e.toLowerCase(),null,!1,!1)});at.xlinkHref=new kt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){at[e]=new kt(e,1,!1,e.toLowerCase(),null,!0,!0)});function jd(e,t,r,n){var s=at.hasOwnProperty(t)?at[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Cx(t,r,s,n)&&(r=null),n||s===null?Nx(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Br=Sx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ii=Symbol.for("react.element"),gs=Symbol.for("react.portal"),ys=Symbol.for("react.fragment"),Td=Symbol.for("react.strict_mode"),zu=Symbol.for("react.profiler"),Pm=Symbol.for("react.provider"),Dm=Symbol.for("react.context"),Ad=Symbol.for("react.forward_ref"),Bu=Symbol.for("react.suspense"),Ku=Symbol.for("react.suspense_list"),Id=Symbol.for("react.memo"),Yr=Symbol.for("react.lazy"),Rm=Symbol.for("react.offscreen"),Qf=Symbol.iterator;function oa(e){return e===null||typeof e!="object"?null:(e=Qf&&e[Qf]||e["@@iterator"],typeof e=="function"?e:null)}var Fe=Object.assign,Bl;function xa(e){if(Bl===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Bl=t&&t[1]||""}return`
`+Bl+e}var Kl=!1;function Hl(e,t){if(!e||Kl)return"";Kl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),a=n.stack.split(`
`),i=s.length-1,o=a.length-1;1<=i&&0<=o&&s[i]!==a[o];)o--;for(;1<=i&&0<=o;i--,o--)if(s[i]!==a[o]){if(i!==1||o!==1)do if(i--,o--,0>o||s[i]!==a[o]){var l=`
`+s[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=o);break}}}finally{Kl=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?xa(e):""}function jx(e){switch(e.tag){case 5:return xa(e.type);case 16:return xa("Lazy");case 13:return xa("Suspense");case 19:return xa("SuspenseList");case 0:case 2:case 15:return e=Hl(e.type,!1),e;case 11:return e=Hl(e.type.render,!1),e;case 1:return e=Hl(e.type,!0),e;default:return""}}function Hu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ys:return"Fragment";case gs:return"Portal";case zu:return"Profiler";case Td:return"StrictMode";case Bu:return"Suspense";case Ku:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Dm:return(e.displayName||"Context")+".Consumer";case Pm:return(e._context.displayName||"Context")+".Provider";case Ad:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Id:return t=e.displayName||null,t!==null?t:Hu(e.type)||"Memo";case Yr:t=e._payload,e=e._init;try{return Hu(e(t))}catch{}}return null}function Tx(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Hu(t);case 8:return t===Td?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Sn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Om(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ax(e){var t=Om(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){n=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Pi(e){e._valueTracker||(e._valueTracker=Ax(e))}function Lm(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Om(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function ko(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Wu(e,t){var r=t.checked;return Fe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Gf(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Sn(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Mm(e,t){t=t.checked,t!=null&&jd(e,"checked",t,!1)}function Zu(e,t){Mm(e,t);var r=Sn(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?qu(e,t.type,r):t.hasOwnProperty("defaultValue")&&qu(e,t.type,Sn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Yf(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function qu(e,t,r){(t!=="number"||ko(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var wa=Array.isArray;function Ts(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Sn(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Qu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error($(91));return Fe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Jf(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error($(92));if(wa(r)){if(1<r.length)throw Error($(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Sn(r)}}function Vm(e,t){var r=Sn(t.value),n=Sn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Xf(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Fm(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Fm(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Di,$m=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Di=Di||document.createElement("div"),Di.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Di.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function za(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ea={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ix=["Webkit","ms","Moz","O"];Object.keys(Ea).forEach(function(e){Ix.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ea[t]=Ea[e]})});function Um(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ea.hasOwnProperty(e)&&Ea[e]?(""+t).trim():t+"px"}function zm(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Um(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Px=Fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yu(e,t){if(t){if(Px[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error($(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error($(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error($(61))}if(t.style!=null&&typeof t.style!="object")throw Error($(62))}}function Ju(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xu=null;function Pd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ec=null,As=null,Is=null;function eh(e){if(e=bi(e)){if(typeof ec!="function")throw Error($(280));var t=e.stateNode;t&&(t=Sl(t),ec(e.stateNode,e.type,t))}}function Bm(e){As?Is?Is.push(e):Is=[e]:As=e}function Km(){if(As){var e=As,t=Is;if(Is=As=null,eh(e),t)for(e=0;e<t.length;e++)eh(t[e])}}function Hm(e,t){return e(t)}function Wm(){}var Wl=!1;function Zm(e,t,r){if(Wl)return e(t,r);Wl=!0;try{return Hm(e,t,r)}finally{Wl=!1,(As!==null||Is!==null)&&(Wm(),Km())}}function Ba(e,t){var r=e.stateNode;if(r===null)return null;var n=Sl(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error($(231,t,typeof r));return r}var tc=!1;if(Vr)try{var la={};Object.defineProperty(la,"passive",{get:function(){tc=!0}}),window.addEventListener("test",la,la),window.removeEventListener("test",la,la)}catch{tc=!1}function Dx(e,t,r,n,s,a,i,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var Ca=!1,No=null,Eo=!1,rc=null,Rx={onError:function(e){Ca=!0,No=e}};function Ox(e,t,r,n,s,a,i,o,l){Ca=!1,No=null,Dx.apply(Rx,arguments)}function Lx(e,t,r,n,s,a,i,o,l){if(Ox.apply(this,arguments),Ca){if(Ca){var c=No;Ca=!1,No=null}else throw Error($(198));Eo||(Eo=!0,rc=c)}}function is(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function qm(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function th(e){if(is(e)!==e)throw Error($(188))}function Mx(e){var t=e.alternate;if(!t){if(t=is(e),t===null)throw Error($(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return th(s),e;if(a===n)return th(s),t;a=a.sibling}throw Error($(188))}if(r.return!==n.return)r=s,n=a;else{for(var i=!1,o=s.child;o;){if(o===r){i=!0,r=s,n=a;break}if(o===n){i=!0,n=s,r=a;break}o=o.sibling}if(!i){for(o=a.child;o;){if(o===r){i=!0,r=a,n=s;break}if(o===n){i=!0,n=a,r=s;break}o=o.sibling}if(!i)throw Error($(189))}}if(r.alternate!==n)throw Error($(190))}if(r.tag!==3)throw Error($(188));return r.stateNode.current===r?e:t}function Qm(e){return e=Mx(e),e!==null?Gm(e):null}function Gm(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Gm(e);if(t!==null)return t;e=e.sibling}return null}var Ym=Lt.unstable_scheduleCallback,rh=Lt.unstable_cancelCallback,Vx=Lt.unstable_shouldYield,Fx=Lt.unstable_requestPaint,ze=Lt.unstable_now,$x=Lt.unstable_getCurrentPriorityLevel,Dd=Lt.unstable_ImmediatePriority,Jm=Lt.unstable_UserBlockingPriority,Co=Lt.unstable_NormalPriority,Ux=Lt.unstable_LowPriority,Xm=Lt.unstable_IdlePriority,xl=null,vr=null;function zx(e){if(vr&&typeof vr.onCommitFiberRoot=="function")try{vr.onCommitFiberRoot(xl,e,void 0,(e.current.flags&128)===128)}catch{}}var sr=Math.clz32?Math.clz32:Hx,Bx=Math.log,Kx=Math.LN2;function Hx(e){return e>>>=0,e===0?32:31-(Bx(e)/Kx|0)|0}var Ri=64,Oi=4194304;function ba(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function jo(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,a=e.pingedLanes,i=r&268435455;if(i!==0){var o=i&~s;o!==0?n=ba(o):(a&=i,a!==0&&(n=ba(a)))}else i=r&~s,i!==0?n=ba(i):a!==0&&(n=ba(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-sr(t),s=1<<r,n|=e[r],t&=~s;return n}function Wx(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zx(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-sr(a),o=1<<i,l=s[i];l===-1?(!(o&r)||o&n)&&(s[i]=Wx(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}function nc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function eg(){var e=Ri;return Ri<<=1,!(Ri&4194240)&&(Ri=64),e}function Zl(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function xi(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-sr(t),e[t]=r}function qx(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-sr(r),a=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~a}}function Rd(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-sr(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var ke=0;function tg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var rg,Od,ng,sg,ag,sc=!1,Li=[],cn=null,dn=null,fn=null,Ka=new Map,Ha=new Map,tn=[],Qx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nh(e,t){switch(e){case"focusin":case"focusout":cn=null;break;case"dragenter":case"dragleave":dn=null;break;case"mouseover":case"mouseout":fn=null;break;case"pointerover":case"pointerout":Ka.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ha.delete(t.pointerId)}}function ua(e,t,r,n,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},t!==null&&(t=bi(t),t!==null&&Od(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Gx(e,t,r,n,s){switch(t){case"focusin":return cn=ua(cn,e,t,r,n,s),!0;case"dragenter":return dn=ua(dn,e,t,r,n,s),!0;case"mouseover":return fn=ua(fn,e,t,r,n,s),!0;case"pointerover":var a=s.pointerId;return Ka.set(a,ua(Ka.get(a)||null,e,t,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,Ha.set(a,ua(Ha.get(a)||null,e,t,r,n,s)),!0}return!1}function ig(e){var t=$n(e.target);if(t!==null){var r=is(t);if(r!==null){if(t=r.tag,t===13){if(t=qm(r),t!==null){e.blockedOn=t,ag(e.priority,function(){ng(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function so(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=ac(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Xu=n,r.target.dispatchEvent(n),Xu=null}else return t=bi(r),t!==null&&Od(t),e.blockedOn=r,!1;t.shift()}return!0}function sh(e,t,r){so(e)&&r.delete(t)}function Yx(){sc=!1,cn!==null&&so(cn)&&(cn=null),dn!==null&&so(dn)&&(dn=null),fn!==null&&so(fn)&&(fn=null),Ka.forEach(sh),Ha.forEach(sh)}function ca(e,t){e.blockedOn===t&&(e.blockedOn=null,sc||(sc=!0,Lt.unstable_scheduleCallback(Lt.unstable_NormalPriority,Yx)))}function Wa(e){function t(s){return ca(s,e)}if(0<Li.length){ca(Li[0],e);for(var r=1;r<Li.length;r++){var n=Li[r];n.blockedOn===e&&(n.blockedOn=null)}}for(cn!==null&&ca(cn,e),dn!==null&&ca(dn,e),fn!==null&&ca(fn,e),Ka.forEach(t),Ha.forEach(t),r=0;r<tn.length;r++)n=tn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<tn.length&&(r=tn[0],r.blockedOn===null);)ig(r),r.blockedOn===null&&tn.shift()}var Ps=Br.ReactCurrentBatchConfig,To=!0;function Jx(e,t,r,n){var s=ke,a=Ps.transition;Ps.transition=null;try{ke=1,Ld(e,t,r,n)}finally{ke=s,Ps.transition=a}}function Xx(e,t,r,n){var s=ke,a=Ps.transition;Ps.transition=null;try{ke=4,Ld(e,t,r,n)}finally{ke=s,Ps.transition=a}}function Ld(e,t,r,n){if(To){var s=ac(e,t,r,n);if(s===null)nu(e,t,n,Ao,r),nh(e,n);else if(Gx(s,e,t,r,n))n.stopPropagation();else if(nh(e,n),t&4&&-1<Qx.indexOf(e)){for(;s!==null;){var a=bi(s);if(a!==null&&rg(a),a=ac(e,t,r,n),a===null&&nu(e,t,n,Ao,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else nu(e,t,n,null,r)}}var Ao=null;function ac(e,t,r,n){if(Ao=null,e=Pd(n),e=$n(e),e!==null)if(t=is(e),t===null)e=null;else if(r=t.tag,r===13){if(e=qm(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ao=e,null}function og(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($x()){case Dd:return 1;case Jm:return 4;case Co:case Ux:return 16;case Xm:return 536870912;default:return 16}default:return 16}}var an=null,Md=null,ao=null;function lg(){if(ao)return ao;var e,t=Md,r=t.length,n,s="value"in an?an.value:an.textContent,a=s.length;for(e=0;e<r&&t[e]===s[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===s[a-n];n++);return ao=s.slice(e,1<n?1-n:void 0)}function io(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Mi(){return!0}function ah(){return!1}function Ut(e){function t(r,n,s,a,i){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Mi:ah,this.isPropagationStopped=ah,this}return Fe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Mi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Mi)},persist:function(){},isPersistent:Mi}),t}var ea={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vd=Ut(ea),wi=Fe({},ea,{view:0,detail:0}),e0=Ut(wi),ql,Ql,da,wl=Fe({},wi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==da&&(da&&e.type==="mousemove"?(ql=e.screenX-da.screenX,Ql=e.screenY-da.screenY):Ql=ql=0,da=e),ql)},movementY:function(e){return"movementY"in e?e.movementY:Ql}}),ih=Ut(wl),t0=Fe({},wl,{dataTransfer:0}),r0=Ut(t0),n0=Fe({},wi,{relatedTarget:0}),Gl=Ut(n0),s0=Fe({},ea,{animationName:0,elapsedTime:0,pseudoElement:0}),a0=Ut(s0),i0=Fe({},ea,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),o0=Ut(i0),l0=Fe({},ea,{data:0}),oh=Ut(l0),u0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},c0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},d0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function f0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=d0[e])?!!t[e]:!1}function Fd(){return f0}var h0=Fe({},wi,{key:function(e){if(e.key){var t=u0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=io(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?c0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fd,charCode:function(e){return e.type==="keypress"?io(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?io(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),p0=Ut(h0),m0=Fe({},wl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lh=Ut(m0),g0=Fe({},wi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fd}),y0=Ut(g0),v0=Fe({},ea,{propertyName:0,elapsedTime:0,pseudoElement:0}),x0=Ut(v0),w0=Fe({},wl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),b0=Ut(w0),_0=[9,13,27,32],$d=Vr&&"CompositionEvent"in window,ja=null;Vr&&"documentMode"in document&&(ja=document.documentMode);var S0=Vr&&"TextEvent"in window&&!ja,ug=Vr&&(!$d||ja&&8<ja&&11>=ja),uh=" ",ch=!1;function cg(e,t){switch(e){case"keyup":return _0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var vs=!1;function k0(e,t){switch(e){case"compositionend":return dg(t);case"keypress":return t.which!==32?null:(ch=!0,uh);case"textInput":return e=t.data,e===uh&&ch?null:e;default:return null}}function N0(e,t){if(vs)return e==="compositionend"||!$d&&cg(e,t)?(e=lg(),ao=Md=an=null,vs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ug&&t.locale!=="ko"?null:t.data;default:return null}}var E0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!E0[e.type]:t==="textarea"}function fg(e,t,r,n){Bm(n),t=Io(t,"onChange"),0<t.length&&(r=new Vd("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Ta=null,Za=null;function C0(e){Sg(e,0)}function bl(e){var t=bs(e);if(Lm(t))return e}function j0(e,t){if(e==="change")return t}var hg=!1;if(Vr){var Yl;if(Vr){var Jl="oninput"in document;if(!Jl){var fh=document.createElement("div");fh.setAttribute("oninput","return;"),Jl=typeof fh.oninput=="function"}Yl=Jl}else Yl=!1;hg=Yl&&(!document.documentMode||9<document.documentMode)}function hh(){Ta&&(Ta.detachEvent("onpropertychange",pg),Za=Ta=null)}function pg(e){if(e.propertyName==="value"&&bl(Za)){var t=[];fg(t,Za,e,Pd(e)),Zm(C0,t)}}function T0(e,t,r){e==="focusin"?(hh(),Ta=t,Za=r,Ta.attachEvent("onpropertychange",pg)):e==="focusout"&&hh()}function A0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bl(Za)}function I0(e,t){if(e==="click")return bl(t)}function P0(e,t){if(e==="input"||e==="change")return bl(t)}function D0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var lr=typeof Object.is=="function"?Object.is:D0;function qa(e,t){if(lr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Uu.call(t,s)||!lr(e[s],t[s]))return!1}return!0}function ph(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mh(e,t){var r=ph(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ph(r)}}function mg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?mg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function gg(){for(var e=window,t=ko();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ko(e.document)}return t}function Ud(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function R0(e){var t=gg(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&mg(r.ownerDocument.documentElement,r)){if(n!==null&&Ud(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!e.extend&&a>n&&(s=n,n=a,a=s),s=mh(r,a);var i=mh(r,n);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var O0=Vr&&"documentMode"in document&&11>=document.documentMode,xs=null,ic=null,Aa=null,oc=!1;function gh(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;oc||xs==null||xs!==ko(n)||(n=xs,"selectionStart"in n&&Ud(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Aa&&qa(Aa,n)||(Aa=n,n=Io(ic,"onSelect"),0<n.length&&(t=new Vd("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=xs)))}function Vi(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ws={animationend:Vi("Animation","AnimationEnd"),animationiteration:Vi("Animation","AnimationIteration"),animationstart:Vi("Animation","AnimationStart"),transitionend:Vi("Transition","TransitionEnd")},Xl={},yg={};Vr&&(yg=document.createElement("div").style,"AnimationEvent"in window||(delete ws.animationend.animation,delete ws.animationiteration.animation,delete ws.animationstart.animation),"TransitionEvent"in window||delete ws.transitionend.transition);function _l(e){if(Xl[e])return Xl[e];if(!ws[e])return e;var t=ws[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in yg)return Xl[e]=t[r];return e}var vg=_l("animationend"),xg=_l("animationiteration"),wg=_l("animationstart"),bg=_l("transitionend"),_g=new Map,yh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function An(e,t){_g.set(e,t),as(t,[e])}for(var eu=0;eu<yh.length;eu++){var tu=yh[eu],L0=tu.toLowerCase(),M0=tu[0].toUpperCase()+tu.slice(1);An(L0,"on"+M0)}An(vg,"onAnimationEnd");An(xg,"onAnimationIteration");An(wg,"onAnimationStart");An("dblclick","onDoubleClick");An("focusin","onFocus");An("focusout","onBlur");An(bg,"onTransitionEnd");Fs("onMouseEnter",["mouseout","mouseover"]);Fs("onMouseLeave",["mouseout","mouseover"]);Fs("onPointerEnter",["pointerout","pointerover"]);Fs("onPointerLeave",["pointerout","pointerover"]);as("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));as("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));as("onBeforeInput",["compositionend","keypress","textInput","paste"]);as("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));as("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));as("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _a="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),V0=new Set("cancel close invalid load scroll toggle".split(" ").concat(_a));function vh(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Lx(n,t,void 0,e),e.currentTarget=null}function Sg(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var i=n.length-1;0<=i;i--){var o=n[i],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&s.isPropagationStopped())break e;vh(s,o,c),a=l}else for(i=0;i<n.length;i++){if(o=n[i],l=o.instance,c=o.currentTarget,o=o.listener,l!==a&&s.isPropagationStopped())break e;vh(s,o,c),a=l}}}if(Eo)throw e=rc,Eo=!1,rc=null,e}function Te(e,t){var r=t[fc];r===void 0&&(r=t[fc]=new Set);var n=e+"__bubble";r.has(n)||(kg(t,e,2,!1),r.add(n))}function ru(e,t,r){var n=0;t&&(n|=4),kg(r,e,n,t)}var Fi="_reactListening"+Math.random().toString(36).slice(2);function Qa(e){if(!e[Fi]){e[Fi]=!0,Im.forEach(function(r){r!=="selectionchange"&&(V0.has(r)||ru(r,!1,e),ru(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Fi]||(t[Fi]=!0,ru("selectionchange",!1,t))}}function kg(e,t,r,n){switch(og(t)){case 1:var s=Jx;break;case 4:s=Xx;break;default:s=Ld}r=s.bind(null,t,r,e),s=void 0,!tc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function nu(e,t,r,n,s){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var o=n.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(i===4)for(i=n.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;i=i.return}for(;o!==null;){if(i=$n(o),i===null)return;if(l=i.tag,l===5||l===6){n=a=i;continue e}o=o.parentNode}}n=n.return}Zm(function(){var c=a,d=Pd(r),h=[];e:{var f=_g.get(e);if(f!==void 0){var y=Vd,m=e;switch(e){case"keypress":if(io(r)===0)break e;case"keydown":case"keyup":y=p0;break;case"focusin":m="focus",y=Gl;break;case"focusout":m="blur",y=Gl;break;case"beforeblur":case"afterblur":y=Gl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=ih;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=r0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=y0;break;case vg:case xg:case wg:y=a0;break;case bg:y=x0;break;case"scroll":y=e0;break;case"wheel":y=b0;break;case"copy":case"cut":case"paste":y=o0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=lh}var w=(t&4)!==0,k=!w&&e==="scroll",g=w?f!==null?f+"Capture":null:f;w=[];for(var p=c,x;p!==null;){x=p;var S=x.stateNode;if(x.tag===5&&S!==null&&(x=S,g!==null&&(S=Ba(p,g),S!=null&&w.push(Ga(p,S,x)))),k)break;p=p.return}0<w.length&&(f=new y(f,m,null,r,d),h.push({event:f,listeners:w}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",f&&r!==Xu&&(m=r.relatedTarget||r.fromElement)&&($n(m)||m[Fr]))break e;if((y||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,y?(m=r.relatedTarget||r.toElement,y=c,m=m?$n(m):null,m!==null&&(k=is(m),m!==k||m.tag!==5&&m.tag!==6)&&(m=null)):(y=null,m=c),y!==m)){if(w=ih,S="onMouseLeave",g="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(w=lh,S="onPointerLeave",g="onPointerEnter",p="pointer"),k=y==null?f:bs(y),x=m==null?f:bs(m),f=new w(S,p+"leave",y,r,d),f.target=k,f.relatedTarget=x,S=null,$n(d)===c&&(w=new w(g,p+"enter",m,r,d),w.target=x,w.relatedTarget=k,S=w),k=S,y&&m)t:{for(w=y,g=m,p=0,x=w;x;x=us(x))p++;for(x=0,S=g;S;S=us(S))x++;for(;0<p-x;)w=us(w),p--;for(;0<x-p;)g=us(g),x--;for(;p--;){if(w===g||g!==null&&w===g.alternate)break t;w=us(w),g=us(g)}w=null}else w=null;y!==null&&xh(h,f,y,w,!1),m!==null&&k!==null&&xh(h,k,m,w,!0)}}e:{if(f=c?bs(c):window,y=f.nodeName&&f.nodeName.toLowerCase(),y==="select"||y==="input"&&f.type==="file")var b=j0;else if(dh(f))if(hg)b=P0;else{b=A0;var _=T0}else(y=f.nodeName)&&y.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(b=I0);if(b&&(b=b(e,c))){fg(h,b,r,d);break e}_&&_(e,f,c),e==="focusout"&&(_=f._wrapperState)&&_.controlled&&f.type==="number"&&qu(f,"number",f.value)}switch(_=c?bs(c):window,e){case"focusin":(dh(_)||_.contentEditable==="true")&&(xs=_,ic=c,Aa=null);break;case"focusout":Aa=ic=xs=null;break;case"mousedown":oc=!0;break;case"contextmenu":case"mouseup":case"dragend":oc=!1,gh(h,r,d);break;case"selectionchange":if(O0)break;case"keydown":case"keyup":gh(h,r,d)}var v;if($d)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else vs?cg(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(ug&&r.locale!=="ko"&&(vs||E!=="onCompositionStart"?E==="onCompositionEnd"&&vs&&(v=lg()):(an=d,Md="value"in an?an.value:an.textContent,vs=!0)),_=Io(c,E),0<_.length&&(E=new oh(E,e,null,r,d),h.push({event:E,listeners:_}),v?E.data=v:(v=dg(r),v!==null&&(E.data=v)))),(v=S0?k0(e,r):N0(e,r))&&(c=Io(c,"onBeforeInput"),0<c.length&&(d=new oh("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:c}),d.data=v))}Sg(h,t)})}function Ga(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Io(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=Ba(e,r),a!=null&&n.unshift(Ga(e,a,s)),a=Ba(e,t),a!=null&&n.push(Ga(e,a,s))),e=e.return}return n}function us(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function xh(e,t,r,n,s){for(var a=t._reactName,i=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,s?(l=Ba(r,a),l!=null&&i.unshift(Ga(r,l,o))):s||(l=Ba(r,a),l!=null&&i.push(Ga(r,l,o)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var F0=/\r\n?/g,$0=/\u0000|\uFFFD/g;function wh(e){return(typeof e=="string"?e:""+e).replace(F0,`
`).replace($0,"")}function $i(e,t,r){if(t=wh(t),wh(e)!==t&&r)throw Error($(425))}function Po(){}var lc=null,uc=null;function cc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var dc=typeof setTimeout=="function"?setTimeout:void 0,U0=typeof clearTimeout=="function"?clearTimeout:void 0,bh=typeof Promise=="function"?Promise:void 0,z0=typeof queueMicrotask=="function"?queueMicrotask:typeof bh<"u"?function(e){return bh.resolve(null).then(e).catch(B0)}:dc;function B0(e){setTimeout(function(){throw e})}function su(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Wa(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Wa(t)}function hn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function _h(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ta=Math.random().toString(36).slice(2),mr="__reactFiber$"+ta,Ya="__reactProps$"+ta,Fr="__reactContainer$"+ta,fc="__reactEvents$"+ta,K0="__reactListeners$"+ta,H0="__reactHandles$"+ta;function $n(e){var t=e[mr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Fr]||r[mr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=_h(e);e!==null;){if(r=e[mr])return r;e=_h(e)}return t}e=r,r=e.parentNode}return null}function bi(e){return e=e[mr]||e[Fr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function bs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error($(33))}function Sl(e){return e[Ya]||null}var hc=[],_s=-1;function In(e){return{current:e}}function Ie(e){0>_s||(e.current=hc[_s],hc[_s]=null,_s--)}function je(e,t){_s++,hc[_s]=e.current,e.current=t}var kn={},pt=In(kn),Tt=In(!1),Yn=kn;function $s(e,t){var r=e.type.contextTypes;if(!r)return kn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function At(e){return e=e.childContextTypes,e!=null}function Do(){Ie(Tt),Ie(pt)}function Sh(e,t,r){if(pt.current!==kn)throw Error($(168));je(pt,t),je(Tt,r)}function Ng(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error($(108,Tx(e)||"Unknown",s));return Fe({},r,n)}function Ro(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||kn,Yn=pt.current,je(pt,e),je(Tt,Tt.current),!0}function kh(e,t,r){var n=e.stateNode;if(!n)throw Error($(169));r?(e=Ng(e,t,Yn),n.__reactInternalMemoizedMergedChildContext=e,Ie(Tt),Ie(pt),je(pt,e)):Ie(Tt),je(Tt,r)}var jr=null,kl=!1,au=!1;function Eg(e){jr===null?jr=[e]:jr.push(e)}function W0(e){kl=!0,Eg(e)}function Pn(){if(!au&&jr!==null){au=!0;var e=0,t=ke;try{var r=jr;for(ke=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}jr=null,kl=!1}catch(s){throw jr!==null&&(jr=jr.slice(e+1)),Ym(Dd,Pn),s}finally{ke=t,au=!1}}return null}var Ss=[],ks=0,Oo=null,Lo=0,Ht=[],Wt=0,Jn=null,Ir=1,Pr="";function Mn(e,t){Ss[ks++]=Lo,Ss[ks++]=Oo,Oo=e,Lo=t}function Cg(e,t,r){Ht[Wt++]=Ir,Ht[Wt++]=Pr,Ht[Wt++]=Jn,Jn=e;var n=Ir;e=Pr;var s=32-sr(n)-1;n&=~(1<<s),r+=1;var a=32-sr(t)+s;if(30<a){var i=s-s%5;a=(n&(1<<i)-1).toString(32),n>>=i,s-=i,Ir=1<<32-sr(t)+s|r<<s|n,Pr=a+e}else Ir=1<<a|r<<s|n,Pr=e}function zd(e){e.return!==null&&(Mn(e,1),Cg(e,1,0))}function Bd(e){for(;e===Oo;)Oo=Ss[--ks],Ss[ks]=null,Lo=Ss[--ks],Ss[ks]=null;for(;e===Jn;)Jn=Ht[--Wt],Ht[Wt]=null,Pr=Ht[--Wt],Ht[Wt]=null,Ir=Ht[--Wt],Ht[Wt]=null}var Ot=null,Rt=null,Oe=!1,rr=null;function jg(e,t){var r=qt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Nh(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ot=e,Rt=hn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ot=e,Rt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Jn!==null?{id:Ir,overflow:Pr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=qt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ot=e,Rt=null,!0):!1;default:return!1}}function pc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function mc(e){if(Oe){var t=Rt;if(t){var r=t;if(!Nh(e,t)){if(pc(e))throw Error($(418));t=hn(r.nextSibling);var n=Ot;t&&Nh(e,t)?jg(n,r):(e.flags=e.flags&-4097|2,Oe=!1,Ot=e)}}else{if(pc(e))throw Error($(418));e.flags=e.flags&-4097|2,Oe=!1,Ot=e}}}function Eh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ot=e}function Ui(e){if(e!==Ot)return!1;if(!Oe)return Eh(e),Oe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!cc(e.type,e.memoizedProps)),t&&(t=Rt)){if(pc(e))throw Tg(),Error($(418));for(;t;)jg(e,t),t=hn(t.nextSibling)}if(Eh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Rt=hn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Rt=null}}else Rt=Ot?hn(e.stateNode.nextSibling):null;return!0}function Tg(){for(var e=Rt;e;)e=hn(e.nextSibling)}function Us(){Rt=Ot=null,Oe=!1}function Kd(e){rr===null?rr=[e]:rr.push(e)}var Z0=Br.ReactCurrentBatchConfig;function fa(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error($(309));var n=r.stateNode}if(!n)throw Error($(147,e));var s=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var o=s.refs;i===null?delete o[a]:o[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error($(284));if(!r._owner)throw Error($(290,e))}return e}function zi(e,t){throw e=Object.prototype.toString.call(t),Error($(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ch(e){var t=e._init;return t(e._payload)}function Ag(e){function t(g,p){if(e){var x=g.deletions;x===null?(g.deletions=[p],g.flags|=16):x.push(p)}}function r(g,p){if(!e)return null;for(;p!==null;)t(g,p),p=p.sibling;return null}function n(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function s(g,p){return g=yn(g,p),g.index=0,g.sibling=null,g}function a(g,p,x){return g.index=x,e?(x=g.alternate,x!==null?(x=x.index,x<p?(g.flags|=2,p):x):(g.flags|=2,p)):(g.flags|=1048576,p)}function i(g){return e&&g.alternate===null&&(g.flags|=2),g}function o(g,p,x,S){return p===null||p.tag!==6?(p=fu(x,g.mode,S),p.return=g,p):(p=s(p,x),p.return=g,p)}function l(g,p,x,S){var b=x.type;return b===ys?d(g,p,x.props.children,S,x.key):p!==null&&(p.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Yr&&Ch(b)===p.type)?(S=s(p,x.props),S.ref=fa(g,p,x),S.return=g,S):(S=po(x.type,x.key,x.props,null,g.mode,S),S.ref=fa(g,p,x),S.return=g,S)}function c(g,p,x,S){return p===null||p.tag!==4||p.stateNode.containerInfo!==x.containerInfo||p.stateNode.implementation!==x.implementation?(p=hu(x,g.mode,S),p.return=g,p):(p=s(p,x.children||[]),p.return=g,p)}function d(g,p,x,S,b){return p===null||p.tag!==7?(p=Wn(x,g.mode,S,b),p.return=g,p):(p=s(p,x),p.return=g,p)}function h(g,p,x){if(typeof p=="string"&&p!==""||typeof p=="number")return p=fu(""+p,g.mode,x),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ii:return x=po(p.type,p.key,p.props,null,g.mode,x),x.ref=fa(g,null,p),x.return=g,x;case gs:return p=hu(p,g.mode,x),p.return=g,p;case Yr:var S=p._init;return h(g,S(p._payload),x)}if(wa(p)||oa(p))return p=Wn(p,g.mode,x,null),p.return=g,p;zi(g,p)}return null}function f(g,p,x,S){var b=p!==null?p.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return b!==null?null:o(g,p,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ii:return x.key===b?l(g,p,x,S):null;case gs:return x.key===b?c(g,p,x,S):null;case Yr:return b=x._init,f(g,p,b(x._payload),S)}if(wa(x)||oa(x))return b!==null?null:d(g,p,x,S,null);zi(g,x)}return null}function y(g,p,x,S,b){if(typeof S=="string"&&S!==""||typeof S=="number")return g=g.get(x)||null,o(p,g,""+S,b);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ii:return g=g.get(S.key===null?x:S.key)||null,l(p,g,S,b);case gs:return g=g.get(S.key===null?x:S.key)||null,c(p,g,S,b);case Yr:var _=S._init;return y(g,p,x,_(S._payload),b)}if(wa(S)||oa(S))return g=g.get(x)||null,d(p,g,S,b,null);zi(p,S)}return null}function m(g,p,x,S){for(var b=null,_=null,v=p,E=p=0,j=null;v!==null&&E<x.length;E++){v.index>E?(j=v,v=null):j=v.sibling;var A=f(g,v,x[E],S);if(A===null){v===null&&(v=j);break}e&&v&&A.alternate===null&&t(g,v),p=a(A,p,E),_===null?b=A:_.sibling=A,_=A,v=j}if(E===x.length)return r(g,v),Oe&&Mn(g,E),b;if(v===null){for(;E<x.length;E++)v=h(g,x[E],S),v!==null&&(p=a(v,p,E),_===null?b=v:_.sibling=v,_=v);return Oe&&Mn(g,E),b}for(v=n(g,v);E<x.length;E++)j=y(v,g,E,x[E],S),j!==null&&(e&&j.alternate!==null&&v.delete(j.key===null?E:j.key),p=a(j,p,E),_===null?b=j:_.sibling=j,_=j);return e&&v.forEach(function(R){return t(g,R)}),Oe&&Mn(g,E),b}function w(g,p,x,S){var b=oa(x);if(typeof b!="function")throw Error($(150));if(x=b.call(x),x==null)throw Error($(151));for(var _=b=null,v=p,E=p=0,j=null,A=x.next();v!==null&&!A.done;E++,A=x.next()){v.index>E?(j=v,v=null):j=v.sibling;var R=f(g,v,A.value,S);if(R===null){v===null&&(v=j);break}e&&v&&R.alternate===null&&t(g,v),p=a(R,p,E),_===null?b=R:_.sibling=R,_=R,v=j}if(A.done)return r(g,v),Oe&&Mn(g,E),b;if(v===null){for(;!A.done;E++,A=x.next())A=h(g,A.value,S),A!==null&&(p=a(A,p,E),_===null?b=A:_.sibling=A,_=A);return Oe&&Mn(g,E),b}for(v=n(g,v);!A.done;E++,A=x.next())A=y(v,g,E,A.value,S),A!==null&&(e&&A.alternate!==null&&v.delete(A.key===null?E:A.key),p=a(A,p,E),_===null?b=A:_.sibling=A,_=A);return e&&v.forEach(function(F){return t(g,F)}),Oe&&Mn(g,E),b}function k(g,p,x,S){if(typeof x=="object"&&x!==null&&x.type===ys&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Ii:e:{for(var b=x.key,_=p;_!==null;){if(_.key===b){if(b=x.type,b===ys){if(_.tag===7){r(g,_.sibling),p=s(_,x.props.children),p.return=g,g=p;break e}}else if(_.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Yr&&Ch(b)===_.type){r(g,_.sibling),p=s(_,x.props),p.ref=fa(g,_,x),p.return=g,g=p;break e}r(g,_);break}else t(g,_);_=_.sibling}x.type===ys?(p=Wn(x.props.children,g.mode,S,x.key),p.return=g,g=p):(S=po(x.type,x.key,x.props,null,g.mode,S),S.ref=fa(g,p,x),S.return=g,g=S)}return i(g);case gs:e:{for(_=x.key;p!==null;){if(p.key===_)if(p.tag===4&&p.stateNode.containerInfo===x.containerInfo&&p.stateNode.implementation===x.implementation){r(g,p.sibling),p=s(p,x.children||[]),p.return=g,g=p;break e}else{r(g,p);break}else t(g,p);p=p.sibling}p=hu(x,g.mode,S),p.return=g,g=p}return i(g);case Yr:return _=x._init,k(g,p,_(x._payload),S)}if(wa(x))return m(g,p,x,S);if(oa(x))return w(g,p,x,S);zi(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,p!==null&&p.tag===6?(r(g,p.sibling),p=s(p,x),p.return=g,g=p):(r(g,p),p=fu(x,g.mode,S),p.return=g,g=p),i(g)):r(g,p)}return k}var zs=Ag(!0),Ig=Ag(!1),Mo=In(null),Vo=null,Ns=null,Hd=null;function Wd(){Hd=Ns=Vo=null}function Zd(e){var t=Mo.current;Ie(Mo),e._currentValue=t}function gc(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ds(e,t){Vo=e,Hd=Ns=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ct=!0),e.firstContext=null)}function Gt(e){var t=e._currentValue;if(Hd!==e)if(e={context:e,memoizedValue:t,next:null},Ns===null){if(Vo===null)throw Error($(308));Ns=e,Vo.dependencies={lanes:0,firstContext:e}}else Ns=Ns.next=e;return t}var Un=null;function qd(e){Un===null?Un=[e]:Un.push(e)}function Pg(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,qd(t)):(r.next=s.next,s.next=r),t.interleaved=r,$r(e,n)}function $r(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Jr=!1;function Qd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Dg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Rr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function pn(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ye&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,$r(e,r)}return s=n.interleaved,s===null?(t.next=t,qd(n)):(t.next=s.next,s.next=t),n.interleaved=t,$r(e,r)}function oo(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Rd(e,r)}}function jh(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=i:a=a.next=i,r=r.next}while(r!==null);a===null?s=a=t:a=a.next=t}else s=a=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Fo(e,t,r,n){var s=e.updateQueue;Jr=!1;var a=s.firstBaseUpdate,i=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,c=l.next;l.next=null,i===null?a=c:i.next=c,i=l;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==i&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(a!==null){var h=s.baseState;i=0,d=c=l=null,o=a;do{var f=o.lane,y=o.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:y,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=e,w=o;switch(f=t,y=r,w.tag){case 1:if(m=w.payload,typeof m=="function"){h=m.call(y,h,f);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=w.payload,f=typeof m=="function"?m.call(y,h,f):m,f==null)break e;h=Fe({},h,f);break e;case 2:Jr=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[o]:f.push(o))}else y={eventTime:y,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=y,l=h):d=d.next=y,i|=f;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;f=o,o=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);es|=i,e.lanes=i,e.memoizedState=h}}function Th(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error($(191,s));s.call(n)}}}var _i={},xr=In(_i),Ja=In(_i),Xa=In(_i);function zn(e){if(e===_i)throw Error($(174));return e}function Gd(e,t){switch(je(Xa,t),je(Ja,e),je(xr,_i),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Gu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Gu(t,e)}Ie(xr),je(xr,t)}function Bs(){Ie(xr),Ie(Ja),Ie(Xa)}function Rg(e){zn(Xa.current);var t=zn(xr.current),r=Gu(t,e.type);t!==r&&(je(Ja,e),je(xr,r))}function Yd(e){Ja.current===e&&(Ie(xr),Ie(Ja))}var Le=In(0);function $o(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var iu=[];function Jd(){for(var e=0;e<iu.length;e++)iu[e]._workInProgressVersionPrimary=null;iu.length=0}var lo=Br.ReactCurrentDispatcher,ou=Br.ReactCurrentBatchConfig,Xn=0,Ve=null,Qe=null,Xe=null,Uo=!1,Ia=!1,ei=0,q0=0;function ut(){throw Error($(321))}function Xd(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!lr(e[r],t[r]))return!1;return!0}function ef(e,t,r,n,s,a){if(Xn=a,Ve=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,lo.current=e===null||e.memoizedState===null?J0:X0,e=r(n,s),Ia){a=0;do{if(Ia=!1,ei=0,25<=a)throw Error($(301));a+=1,Xe=Qe=null,t.updateQueue=null,lo.current=ew,e=r(n,s)}while(Ia)}if(lo.current=zo,t=Qe!==null&&Qe.next!==null,Xn=0,Xe=Qe=Ve=null,Uo=!1,t)throw Error($(300));return e}function tf(){var e=ei!==0;return ei=0,e}function fr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?Ve.memoizedState=Xe=e:Xe=Xe.next=e,Xe}function Yt(){if(Qe===null){var e=Ve.alternate;e=e!==null?e.memoizedState:null}else e=Qe.next;var t=Xe===null?Ve.memoizedState:Xe.next;if(t!==null)Xe=t,Qe=e;else{if(e===null)throw Error($(310));Qe=e,e={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},Xe===null?Ve.memoizedState=Xe=e:Xe=Xe.next=e}return Xe}function ti(e,t){return typeof t=="function"?t(e):t}function lu(e){var t=Yt(),r=t.queue;if(r===null)throw Error($(311));r.lastRenderedReducer=e;var n=Qe,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var i=s.next;s.next=a.next,a.next=i}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var o=i=null,l=null,c=a;do{var d=c.lane;if((Xn&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=h,i=n):l=l.next=h,Ve.lanes|=d,es|=d}c=c.next}while(c!==null&&c!==a);l===null?i=n:l.next=o,lr(n,t.memoizedState)||(Ct=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do a=s.lane,Ve.lanes|=a,es|=a,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function uu(e){var t=Yt(),r=t.queue;if(r===null)throw Error($(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,a=t.memoizedState;if(s!==null){r.pending=null;var i=s=s.next;do a=e(a,i.action),i=i.next;while(i!==s);lr(a,t.memoizedState)||(Ct=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function Og(){}function Lg(e,t){var r=Ve,n=Yt(),s=t(),a=!lr(n.memoizedState,s);if(a&&(n.memoizedState=s,Ct=!0),n=n.queue,rf(Fg.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||Xe!==null&&Xe.memoizedState.tag&1){if(r.flags|=2048,ri(9,Vg.bind(null,r,n,s,t),void 0,null),et===null)throw Error($(349));Xn&30||Mg(r,t,s)}return s}function Mg(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ve.updateQueue,t===null?(t={lastEffect:null,stores:null},Ve.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Vg(e,t,r,n){t.value=r,t.getSnapshot=n,$g(t)&&Ug(e)}function Fg(e,t,r){return r(function(){$g(t)&&Ug(e)})}function $g(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!lr(e,r)}catch{return!0}}function Ug(e){var t=$r(e,1);t!==null&&ar(t,e,1,-1)}function Ah(e){var t=fr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:e},t.queue=e,e=e.dispatch=Y0.bind(null,Ve,e),[t.memoizedState,e]}function ri(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ve.updateQueue,t===null?(t={lastEffect:null,stores:null},Ve.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function zg(){return Yt().memoizedState}function uo(e,t,r,n){var s=fr();Ve.flags|=e,s.memoizedState=ri(1|t,r,void 0,n===void 0?null:n)}function Nl(e,t,r,n){var s=Yt();n=n===void 0?null:n;var a=void 0;if(Qe!==null){var i=Qe.memoizedState;if(a=i.destroy,n!==null&&Xd(n,i.deps)){s.memoizedState=ri(t,r,a,n);return}}Ve.flags|=e,s.memoizedState=ri(1|t,r,a,n)}function Ih(e,t){return uo(8390656,8,e,t)}function rf(e,t){return Nl(2048,8,e,t)}function Bg(e,t){return Nl(4,2,e,t)}function Kg(e,t){return Nl(4,4,e,t)}function Hg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Wg(e,t,r){return r=r!=null?r.concat([e]):null,Nl(4,4,Hg.bind(null,t,e),r)}function nf(){}function Zg(e,t){var r=Yt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Xd(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function qg(e,t){var r=Yt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Xd(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Qg(e,t,r){return Xn&21?(lr(r,t)||(r=eg(),Ve.lanes|=r,es|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ct=!0),e.memoizedState=r)}function Q0(e,t){var r=ke;ke=r!==0&&4>r?r:4,e(!0);var n=ou.transition;ou.transition={};try{e(!1),t()}finally{ke=r,ou.transition=n}}function Gg(){return Yt().memoizedState}function G0(e,t,r){var n=gn(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Yg(e))Jg(t,r);else if(r=Pg(e,t,r,n),r!==null){var s=bt();ar(r,e,n,s),Xg(r,t,n)}}function Y0(e,t,r){var n=gn(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Yg(e))Jg(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,o=a(i,r);if(s.hasEagerState=!0,s.eagerState=o,lr(o,i)){var l=t.interleaved;l===null?(s.next=s,qd(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}r=Pg(e,t,s,n),r!==null&&(s=bt(),ar(r,e,n,s),Xg(r,t,n))}}function Yg(e){var t=e.alternate;return e===Ve||t!==null&&t===Ve}function Jg(e,t){Ia=Uo=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Xg(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Rd(e,r)}}var zo={readContext:Gt,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useInsertionEffect:ut,useLayoutEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useMutableSource:ut,useSyncExternalStore:ut,useId:ut,unstable_isNewReconciler:!1},J0={readContext:Gt,useCallback:function(e,t){return fr().memoizedState=[e,t===void 0?null:t],e},useContext:Gt,useEffect:Ih,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,uo(4194308,4,Hg.bind(null,t,e),r)},useLayoutEffect:function(e,t){return uo(4194308,4,e,t)},useInsertionEffect:function(e,t){return uo(4,2,e,t)},useMemo:function(e,t){var r=fr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=fr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=G0.bind(null,Ve,e),[n.memoizedState,e]},useRef:function(e){var t=fr();return e={current:e},t.memoizedState=e},useState:Ah,useDebugValue:nf,useDeferredValue:function(e){return fr().memoizedState=e},useTransition:function(){var e=Ah(!1),t=e[0];return e=Q0.bind(null,e[1]),fr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ve,s=fr();if(Oe){if(r===void 0)throw Error($(407));r=r()}else{if(r=t(),et===null)throw Error($(349));Xn&30||Mg(n,t,r)}s.memoizedState=r;var a={value:r,getSnapshot:t};return s.queue=a,Ih(Fg.bind(null,n,a,e),[e]),n.flags|=2048,ri(9,Vg.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=fr(),t=et.identifierPrefix;if(Oe){var r=Pr,n=Ir;r=(n&~(1<<32-sr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=ei++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=q0++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},X0={readContext:Gt,useCallback:Zg,useContext:Gt,useEffect:rf,useImperativeHandle:Wg,useInsertionEffect:Bg,useLayoutEffect:Kg,useMemo:qg,useReducer:lu,useRef:zg,useState:function(){return lu(ti)},useDebugValue:nf,useDeferredValue:function(e){var t=Yt();return Qg(t,Qe.memoizedState,e)},useTransition:function(){var e=lu(ti)[0],t=Yt().memoizedState;return[e,t]},useMutableSource:Og,useSyncExternalStore:Lg,useId:Gg,unstable_isNewReconciler:!1},ew={readContext:Gt,useCallback:Zg,useContext:Gt,useEffect:rf,useImperativeHandle:Wg,useInsertionEffect:Bg,useLayoutEffect:Kg,useMemo:qg,useReducer:uu,useRef:zg,useState:function(){return uu(ti)},useDebugValue:nf,useDeferredValue:function(e){var t=Yt();return Qe===null?t.memoizedState=e:Qg(t,Qe.memoizedState,e)},useTransition:function(){var e=uu(ti)[0],t=Yt().memoizedState;return[e,t]},useMutableSource:Og,useSyncExternalStore:Lg,useId:Gg,unstable_isNewReconciler:!1};function er(e,t){if(e&&e.defaultProps){t=Fe({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function yc(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Fe({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var El={isMounted:function(e){return(e=e._reactInternals)?is(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=bt(),s=gn(e),a=Rr(n,s);a.payload=t,r!=null&&(a.callback=r),t=pn(e,a,s),t!==null&&(ar(t,e,s,n),oo(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=bt(),s=gn(e),a=Rr(n,s);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=pn(e,a,s),t!==null&&(ar(t,e,s,n),oo(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=bt(),n=gn(e),s=Rr(r,n);s.tag=2,t!=null&&(s.callback=t),t=pn(e,s,n),t!==null&&(ar(t,e,n,r),oo(t,e,n))}};function Ph(e,t,r,n,s,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,i):t.prototype&&t.prototype.isPureReactComponent?!qa(r,n)||!qa(s,a):!0}function ey(e,t,r){var n=!1,s=kn,a=t.contextType;return typeof a=="object"&&a!==null?a=Gt(a):(s=At(t)?Yn:pt.current,n=t.contextTypes,a=(n=n!=null)?$s(e,s):kn),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=El,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function Dh(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&El.enqueueReplaceState(t,t.state,null)}function vc(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Qd(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=Gt(a):(a=At(t)?Yn:pt.current,s.context=$s(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(yc(e,t,a,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&El.enqueueReplaceState(s,s.state,null),Fo(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ks(e,t){try{var r="",n=t;do r+=jx(n),n=n.return;while(n);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function cu(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function xc(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var tw=typeof WeakMap=="function"?WeakMap:Map;function ty(e,t,r){r=Rr(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ko||(Ko=!0,Tc=n),xc(e,t)},r}function ry(e,t,r){r=Rr(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){xc(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){xc(e,t),typeof n!="function"&&(mn===null?mn=new Set([this]):mn.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function Rh(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new tw;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=mw.bind(null,e,t,r),t.then(e,e))}function Oh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Lh(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Rr(-1,1),t.tag=2,pn(r,t,1))),r.lanes|=1),e)}var rw=Br.ReactCurrentOwner,Ct=!1;function vt(e,t,r,n){t.child=e===null?Ig(t,null,r,n):zs(t,e.child,r,n)}function Mh(e,t,r,n,s){r=r.render;var a=t.ref;return Ds(t,s),n=ef(e,t,r,n,a,s),r=tf(),e!==null&&!Ct?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ur(e,t,s)):(Oe&&r&&zd(t),t.flags|=1,vt(e,t,n,s),t.child)}function Vh(e,t,r,n,s){if(e===null){var a=r.type;return typeof a=="function"&&!ff(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,ny(e,t,a,n,s)):(e=po(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var i=a.memoizedProps;if(r=r.compare,r=r!==null?r:qa,r(i,n)&&e.ref===t.ref)return Ur(e,t,s)}return t.flags|=1,e=yn(a,n),e.ref=t.ref,e.return=t,t.child=e}function ny(e,t,r,n,s){if(e!==null){var a=e.memoizedProps;if(qa(a,n)&&e.ref===t.ref)if(Ct=!1,t.pendingProps=n=a,(e.lanes&s)!==0)e.flags&131072&&(Ct=!0);else return t.lanes=e.lanes,Ur(e,t,s)}return wc(e,t,r,n,s)}function sy(e,t,r){var n=t.pendingProps,s=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(Cs,Dt),Dt|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,je(Cs,Dt),Dt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,je(Cs,Dt),Dt|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,je(Cs,Dt),Dt|=n;return vt(e,t,s,r),t.child}function ay(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function wc(e,t,r,n,s){var a=At(r)?Yn:pt.current;return a=$s(t,a),Ds(t,s),r=ef(e,t,r,n,a,s),n=tf(),e!==null&&!Ct?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ur(e,t,s)):(Oe&&n&&zd(t),t.flags|=1,vt(e,t,r,s),t.child)}function Fh(e,t,r,n,s){if(At(r)){var a=!0;Ro(t)}else a=!1;if(Ds(t,s),t.stateNode===null)co(e,t),ey(t,r,n),vc(t,r,n,s),n=!0;else if(e===null){var i=t.stateNode,o=t.memoizedProps;i.props=o;var l=i.context,c=r.contextType;typeof c=="object"&&c!==null?c=Gt(c):(c=At(r)?Yn:pt.current,c=$s(t,c));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==n||l!==c)&&Dh(t,i,n,c),Jr=!1;var f=t.memoizedState;i.state=f,Fo(t,n,i,s),l=t.memoizedState,o!==n||f!==l||Tt.current||Jr?(typeof d=="function"&&(yc(t,r,d,n),l=t.memoizedState),(o=Jr||Ph(t,r,o,n,f,l,c))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),i.props=n,i.state=l,i.context=c,n=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,Dg(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:er(t.type,o),i.props=c,h=t.pendingProps,f=i.context,l=r.contextType,typeof l=="object"&&l!==null?l=Gt(l):(l=At(r)?Yn:pt.current,l=$s(t,l));var y=r.getDerivedStateFromProps;(d=typeof y=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==h||f!==l)&&Dh(t,i,n,l),Jr=!1,f=t.memoizedState,i.state=f,Fo(t,n,i,s);var m=t.memoizedState;o!==h||f!==m||Tt.current||Jr?(typeof y=="function"&&(yc(t,r,y,n),m=t.memoizedState),(c=Jr||Ph(t,r,c,n,f,m,l)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,m,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,m,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),i.props=n,i.state=m,i.context=l,n=c):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return bc(e,t,r,n,a,s)}function bc(e,t,r,n,s,a){ay(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return s&&kh(t,r,!1),Ur(e,t,a);n=t.stateNode,rw.current=t;var o=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=zs(t,e.child,null,a),t.child=zs(t,null,o,a)):vt(e,t,o,a),t.memoizedState=n.state,s&&kh(t,r,!0),t.child}function iy(e){var t=e.stateNode;t.pendingContext?Sh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Sh(e,t.context,!1),Gd(e,t.containerInfo)}function $h(e,t,r,n,s){return Us(),Kd(s),t.flags|=256,vt(e,t,r,n),t.child}var _c={dehydrated:null,treeContext:null,retryLane:0};function Sc(e){return{baseLanes:e,cachePool:null,transitions:null}}function oy(e,t,r){var n=t.pendingProps,s=Le.current,a=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),je(Le,s&1),e===null)return mc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,a?(n=t.mode,a=t.child,i={mode:"hidden",children:i},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=Tl(i,n,0,null),e=Wn(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Sc(r),t.memoizedState=_c,e):sf(t,i));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return nw(e,t,i,n,o,s,r);if(a){a=n.fallback,i=t.mode,s=e.child,o=s.sibling;var l={mode:"hidden",children:n.children};return!(i&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=yn(s,l),n.subtreeFlags=s.subtreeFlags&14680064),o!==null?a=yn(o,a):(a=Wn(a,i,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,i=e.child.memoizedState,i=i===null?Sc(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~r,t.memoizedState=_c,n}return a=e.child,e=a.sibling,n=yn(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function sf(e,t){return t=Tl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Bi(e,t,r,n){return n!==null&&Kd(n),zs(t,e.child,null,r),e=sf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function nw(e,t,r,n,s,a,i){if(r)return t.flags&256?(t.flags&=-257,n=cu(Error($(422))),Bi(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,s=t.mode,n=Tl({mode:"visible",children:n.children},s,0,null),a=Wn(a,s,i,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&zs(t,e.child,null,i),t.child.memoizedState=Sc(i),t.memoizedState=_c,a);if(!(t.mode&1))return Bi(e,t,i,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error($(419)),n=cu(a,n,void 0),Bi(e,t,i,n)}if(o=(i&e.childLanes)!==0,Ct||o){if(n=et,n!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|i)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,$r(e,s),ar(n,e,s,-1))}return df(),n=cu(Error($(421))),Bi(e,t,i,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=gw.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,Rt=hn(s.nextSibling),Ot=t,Oe=!0,rr=null,e!==null&&(Ht[Wt++]=Ir,Ht[Wt++]=Pr,Ht[Wt++]=Jn,Ir=e.id,Pr=e.overflow,Jn=t),t=sf(t,n.children),t.flags|=4096,t)}function Uh(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),gc(e.return,t,r)}function du(e,t,r,n,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function ly(e,t,r){var n=t.pendingProps,s=n.revealOrder,a=n.tail;if(vt(e,t,n.children,r),n=Le.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Uh(e,r,t);else if(e.tag===19)Uh(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(je(Le,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&$o(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),du(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&$o(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}du(t,!0,r,null,a);break;case"together":du(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function co(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ur(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),es|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error($(153));if(t.child!==null){for(e=t.child,r=yn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=yn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function sw(e,t,r){switch(t.tag){case 3:iy(t),Us();break;case 5:Rg(t);break;case 1:At(t.type)&&Ro(t);break;case 4:Gd(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;je(Mo,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(je(Le,Le.current&1),t.flags|=128,null):r&t.child.childLanes?oy(e,t,r):(je(Le,Le.current&1),e=Ur(e,t,r),e!==null?e.sibling:null);je(Le,Le.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return ly(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),je(Le,Le.current),n)break;return null;case 22:case 23:return t.lanes=0,sy(e,t,r)}return Ur(e,t,r)}var uy,kc,cy,dy;uy=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};kc=function(){};cy=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,zn(xr.current);var a=null;switch(r){case"input":s=Wu(e,s),n=Wu(e,n),a=[];break;case"select":s=Fe({},s,{value:void 0}),n=Fe({},n,{value:void 0}),a=[];break;case"textarea":s=Qu(e,s),n=Qu(e,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Po)}Yu(r,n);var i;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var o=s[c];for(i in o)o.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ua.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in n){var l=n[c];if(o=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(i in o)!o.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in l)l.hasOwnProperty(i)&&o[i]!==l[i]&&(r||(r={}),r[i]=l[i])}else r||(a||(a=[]),a.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ua.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Te("scroll",e),a||o===l||(a=[])):(a=a||[]).push(c,l))}r&&(a=a||[]).push("style",r);var c=a;(t.updateQueue=c)&&(t.flags|=4)}};dy=function(e,t,r,n){r!==n&&(t.flags|=4)};function ha(e,t){if(!Oe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ct(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function aw(e,t,r){var n=t.pendingProps;switch(Bd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(t),null;case 1:return At(t.type)&&Do(),ct(t),null;case 3:return n=t.stateNode,Bs(),Ie(Tt),Ie(pt),Jd(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ui(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,rr!==null&&(Pc(rr),rr=null))),kc(e,t),ct(t),null;case 5:Yd(t);var s=zn(Xa.current);if(r=t.type,e!==null&&t.stateNode!=null)cy(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error($(166));return ct(t),null}if(e=zn(xr.current),Ui(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[mr]=t,n[Ya]=a,e=(t.mode&1)!==0,r){case"dialog":Te("cancel",n),Te("close",n);break;case"iframe":case"object":case"embed":Te("load",n);break;case"video":case"audio":for(s=0;s<_a.length;s++)Te(_a[s],n);break;case"source":Te("error",n);break;case"img":case"image":case"link":Te("error",n),Te("load",n);break;case"details":Te("toggle",n);break;case"input":Gf(n,a),Te("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Te("invalid",n);break;case"textarea":Jf(n,a),Te("invalid",n)}Yu(r,a),s=null;for(var i in a)if(a.hasOwnProperty(i)){var o=a[i];i==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&$i(n.textContent,o,e),s=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&$i(n.textContent,o,e),s=["children",""+o]):Ua.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&Te("scroll",n)}switch(r){case"input":Pi(n),Yf(n,a,!0);break;case"textarea":Pi(n),Xf(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Po)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Fm(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[mr]=t,e[Ya]=n,uy(e,t,!1,!1),t.stateNode=e;e:{switch(i=Ju(r,n),r){case"dialog":Te("cancel",e),Te("close",e),s=n;break;case"iframe":case"object":case"embed":Te("load",e),s=n;break;case"video":case"audio":for(s=0;s<_a.length;s++)Te(_a[s],e);s=n;break;case"source":Te("error",e),s=n;break;case"img":case"image":case"link":Te("error",e),Te("load",e),s=n;break;case"details":Te("toggle",e),s=n;break;case"input":Gf(e,n),s=Wu(e,n),Te("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Fe({},n,{value:void 0}),Te("invalid",e);break;case"textarea":Jf(e,n),s=Qu(e,n),Te("invalid",e);break;default:s=n}Yu(r,s),o=s;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?zm(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&$m(e,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&za(e,l):typeof l=="number"&&za(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Ua.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Te("scroll",e):l!=null&&jd(e,a,l,i))}switch(r){case"input":Pi(e),Yf(e,n,!1);break;case"textarea":Pi(e),Xf(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Sn(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Ts(e,!!n.multiple,a,!1):n.defaultValue!=null&&Ts(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Po)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ct(t),null;case 6:if(e&&t.stateNode!=null)dy(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error($(166));if(r=zn(Xa.current),zn(xr.current),Ui(t)){if(n=t.stateNode,r=t.memoizedProps,n[mr]=t,(a=n.nodeValue!==r)&&(e=Ot,e!==null))switch(e.tag){case 3:$i(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&$i(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[mr]=t,t.stateNode=n}return ct(t),null;case 13:if(Ie(Le),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Oe&&Rt!==null&&t.mode&1&&!(t.flags&128))Tg(),Us(),t.flags|=98560,a=!1;else if(a=Ui(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error($(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error($(317));a[mr]=t}else Us(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ct(t),a=!1}else rr!==null&&(Pc(rr),rr=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Le.current&1?Ye===0&&(Ye=3):df())),t.updateQueue!==null&&(t.flags|=4),ct(t),null);case 4:return Bs(),kc(e,t),e===null&&Qa(t.stateNode.containerInfo),ct(t),null;case 10:return Zd(t.type._context),ct(t),null;case 17:return At(t.type)&&Do(),ct(t),null;case 19:if(Ie(Le),a=t.memoizedState,a===null)return ct(t),null;if(n=(t.flags&128)!==0,i=a.rendering,i===null)if(n)ha(a,!1);else{if(Ye!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=$o(e),i!==null){for(t.flags|=128,ha(a,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return je(Le,Le.current&1|2),t.child}e=e.sibling}a.tail!==null&&ze()>Hs&&(t.flags|=128,n=!0,ha(a,!1),t.lanes=4194304)}else{if(!n)if(e=$o(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ha(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!Oe)return ct(t),null}else 2*ze()-a.renderingStartTime>Hs&&r!==1073741824&&(t.flags|=128,n=!0,ha(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(r=a.last,r!==null?r.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ze(),t.sibling=null,r=Le.current,je(Le,n?r&1|2:r&1),t):(ct(t),null);case 22:case 23:return cf(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Dt&1073741824&&(ct(t),t.subtreeFlags&6&&(t.flags|=8192)):ct(t),null;case 24:return null;case 25:return null}throw Error($(156,t.tag))}function iw(e,t){switch(Bd(t),t.tag){case 1:return At(t.type)&&Do(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Bs(),Ie(Tt),Ie(pt),Jd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Yd(t),null;case 13:if(Ie(Le),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error($(340));Us()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ie(Le),null;case 4:return Bs(),null;case 10:return Zd(t.type._context),null;case 22:case 23:return cf(),null;case 24:return null;default:return null}}var Ki=!1,dt=!1,ow=typeof WeakSet=="function"?WeakSet:Set,J=null;function Es(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){$e(e,t,n)}else r.current=null}function Nc(e,t,r){try{r()}catch(n){$e(e,t,n)}}var zh=!1;function lw(e,t){if(lc=To,e=gg(),Ud(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var i=0,o=-1,l=-1,c=0,d=0,h=e,f=null;t:for(;;){for(var y;h!==r||s!==0&&h.nodeType!==3||(o=i+s),h!==a||n!==0&&h.nodeType!==3||(l=i+n),h.nodeType===3&&(i+=h.nodeValue.length),(y=h.firstChild)!==null;)f=h,h=y;for(;;){if(h===e)break t;if(f===r&&++c===s&&(o=i),f===a&&++d===n&&(l=i),(y=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=y}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(uc={focusedElem:e,selectionRange:r},To=!1,J=t;J!==null;)if(t=J,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,J=e;else for(;J!==null;){t=J;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var w=m.memoizedProps,k=m.memoizedState,g=t.stateNode,p=g.getSnapshotBeforeUpdate(t.elementType===t.type?w:er(t.type,w),k);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(S){$e(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,J=e;break}J=t.return}return m=zh,zh=!1,m}function Pa(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&Nc(t,r,a)}s=s.next}while(s!==n)}}function Cl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Ec(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function fy(e){var t=e.alternate;t!==null&&(e.alternate=null,fy(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[mr],delete t[Ya],delete t[fc],delete t[K0],delete t[H0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function hy(e){return e.tag===5||e.tag===3||e.tag===4}function Bh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||hy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Cc(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Po));else if(n!==4&&(e=e.child,e!==null))for(Cc(e,t,r),e=e.sibling;e!==null;)Cc(e,t,r),e=e.sibling}function jc(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(jc(e,t,r),e=e.sibling;e!==null;)jc(e,t,r),e=e.sibling}var nt=null,tr=!1;function qr(e,t,r){for(r=r.child;r!==null;)py(e,t,r),r=r.sibling}function py(e,t,r){if(vr&&typeof vr.onCommitFiberUnmount=="function")try{vr.onCommitFiberUnmount(xl,r)}catch{}switch(r.tag){case 5:dt||Es(r,t);case 6:var n=nt,s=tr;nt=null,qr(e,t,r),nt=n,tr=s,nt!==null&&(tr?(e=nt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):nt.removeChild(r.stateNode));break;case 18:nt!==null&&(tr?(e=nt,r=r.stateNode,e.nodeType===8?su(e.parentNode,r):e.nodeType===1&&su(e,r),Wa(e)):su(nt,r.stateNode));break;case 4:n=nt,s=tr,nt=r.stateNode.containerInfo,tr=!0,qr(e,t,r),nt=n,tr=s;break;case 0:case 11:case 14:case 15:if(!dt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&Nc(r,t,i),s=s.next}while(s!==n)}qr(e,t,r);break;case 1:if(!dt&&(Es(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){$e(r,t,o)}qr(e,t,r);break;case 21:qr(e,t,r);break;case 22:r.mode&1?(dt=(n=dt)||r.memoizedState!==null,qr(e,t,r),dt=n):qr(e,t,r);break;default:qr(e,t,r)}}function Kh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new ow),t.forEach(function(n){var s=yw.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Xt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=e,i=t,o=i;e:for(;o!==null;){switch(o.tag){case 5:nt=o.stateNode,tr=!1;break e;case 3:nt=o.stateNode.containerInfo,tr=!0;break e;case 4:nt=o.stateNode.containerInfo,tr=!0;break e}o=o.return}if(nt===null)throw Error($(160));py(a,i,s),nt=null,tr=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){$e(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)my(t,e),t=t.sibling}function my(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Xt(t,e),cr(e),n&4){try{Pa(3,e,e.return),Cl(3,e)}catch(w){$e(e,e.return,w)}try{Pa(5,e,e.return)}catch(w){$e(e,e.return,w)}}break;case 1:Xt(t,e),cr(e),n&512&&r!==null&&Es(r,r.return);break;case 5:if(Xt(t,e),cr(e),n&512&&r!==null&&Es(r,r.return),e.flags&32){var s=e.stateNode;try{za(s,"")}catch(w){$e(e,e.return,w)}}if(n&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,i=r!==null?r.memoizedProps:a,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&Mm(s,a),Ju(o,i);var c=Ju(o,a);for(i=0;i<l.length;i+=2){var d=l[i],h=l[i+1];d==="style"?zm(s,h):d==="dangerouslySetInnerHTML"?$m(s,h):d==="children"?za(s,h):jd(s,d,h,c)}switch(o){case"input":Zu(s,a);break;case"textarea":Vm(s,a);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var y=a.value;y!=null?Ts(s,!!a.multiple,y,!1):f!==!!a.multiple&&(a.defaultValue!=null?Ts(s,!!a.multiple,a.defaultValue,!0):Ts(s,!!a.multiple,a.multiple?[]:"",!1))}s[Ya]=a}catch(w){$e(e,e.return,w)}}break;case 6:if(Xt(t,e),cr(e),n&4){if(e.stateNode===null)throw Error($(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(w){$e(e,e.return,w)}}break;case 3:if(Xt(t,e),cr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Wa(t.containerInfo)}catch(w){$e(e,e.return,w)}break;case 4:Xt(t,e),cr(e);break;case 13:Xt(t,e),cr(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(lf=ze())),n&4&&Kh(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(dt=(c=dt)||d,Xt(t,e),dt=c):Xt(t,e),cr(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(J=e,d=e.child;d!==null;){for(h=J=d;J!==null;){switch(f=J,y=f.child,f.tag){case 0:case 11:case 14:case 15:Pa(4,f,f.return);break;case 1:Es(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(w){$e(n,r,w)}}break;case 5:Es(f,f.return);break;case 22:if(f.memoizedState!==null){Wh(h);continue}}y!==null?(y.return=f,J=y):Wh(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=h.stateNode,l=h.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=Um("display",i))}catch(w){$e(e,e.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(w){$e(e,e.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Xt(t,e),cr(e),n&4&&Kh(e);break;case 21:break;default:Xt(t,e),cr(e)}}function cr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(hy(r)){var n=r;break e}r=r.return}throw Error($(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(za(s,""),n.flags&=-33);var a=Bh(e);jc(e,a,s);break;case 3:case 4:var i=n.stateNode.containerInfo,o=Bh(e);Cc(e,o,i);break;default:throw Error($(161))}}catch(l){$e(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function uw(e,t,r){J=e,gy(e)}function gy(e,t,r){for(var n=(e.mode&1)!==0;J!==null;){var s=J,a=s.child;if(s.tag===22&&n){var i=s.memoizedState!==null||Ki;if(!i){var o=s.alternate,l=o!==null&&o.memoizedState!==null||dt;o=Ki;var c=dt;if(Ki=i,(dt=l)&&!c)for(J=s;J!==null;)i=J,l=i.child,i.tag===22&&i.memoizedState!==null?Zh(s):l!==null?(l.return=i,J=l):Zh(s);for(;a!==null;)J=a,gy(a),a=a.sibling;J=s,Ki=o,dt=c}Hh(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,J=a):Hh(e)}}function Hh(e){for(;J!==null;){var t=J;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:dt||Cl(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!dt)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:er(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Th(t,a,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Th(t,i,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Wa(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}dt||t.flags&512&&Ec(t)}catch(f){$e(t,t.return,f)}}if(t===e){J=null;break}if(r=t.sibling,r!==null){r.return=t.return,J=r;break}J=t.return}}function Wh(e){for(;J!==null;){var t=J;if(t===e){J=null;break}var r=t.sibling;if(r!==null){r.return=t.return,J=r;break}J=t.return}}function Zh(e){for(;J!==null;){var t=J;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Cl(4,t)}catch(l){$e(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(l){$e(t,s,l)}}var a=t.return;try{Ec(t)}catch(l){$e(t,a,l)}break;case 5:var i=t.return;try{Ec(t)}catch(l){$e(t,i,l)}}}catch(l){$e(t,t.return,l)}if(t===e){J=null;break}var o=t.sibling;if(o!==null){o.return=t.return,J=o;break}J=t.return}}var cw=Math.ceil,Bo=Br.ReactCurrentDispatcher,af=Br.ReactCurrentOwner,Qt=Br.ReactCurrentBatchConfig,ye=0,et=null,We=null,st=0,Dt=0,Cs=In(0),Ye=0,ni=null,es=0,jl=0,of=0,Da=null,Et=null,lf=0,Hs=1/0,Cr=null,Ko=!1,Tc=null,mn=null,Hi=!1,on=null,Ho=0,Ra=0,Ac=null,fo=-1,ho=0;function bt(){return ye&6?ze():fo!==-1?fo:fo=ze()}function gn(e){return e.mode&1?ye&2&&st!==0?st&-st:Z0.transition!==null?(ho===0&&(ho=eg()),ho):(e=ke,e!==0||(e=window.event,e=e===void 0?16:og(e.type)),e):1}function ar(e,t,r,n){if(50<Ra)throw Ra=0,Ac=null,Error($(185));xi(e,r,n),(!(ye&2)||e!==et)&&(e===et&&(!(ye&2)&&(jl|=r),Ye===4&&rn(e,st)),It(e,n),r===1&&ye===0&&!(t.mode&1)&&(Hs=ze()+500,kl&&Pn()))}function It(e,t){var r=e.callbackNode;Zx(e,t);var n=jo(e,e===et?st:0);if(n===0)r!==null&&rh(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&rh(r),t===1)e.tag===0?W0(qh.bind(null,e)):Eg(qh.bind(null,e)),z0(function(){!(ye&6)&&Pn()}),r=null;else{switch(tg(n)){case 1:r=Dd;break;case 4:r=Jm;break;case 16:r=Co;break;case 536870912:r=Xm;break;default:r=Co}r=ky(r,yy.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function yy(e,t){if(fo=-1,ho=0,ye&6)throw Error($(327));var r=e.callbackNode;if(Rs()&&e.callbackNode!==r)return null;var n=jo(e,e===et?st:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Wo(e,n);else{t=n;var s=ye;ye|=2;var a=xy();(et!==e||st!==t)&&(Cr=null,Hs=ze()+500,Hn(e,t));do try{hw();break}catch(o){vy(e,o)}while(!0);Wd(),Bo.current=a,ye=s,We!==null?t=0:(et=null,st=0,t=Ye)}if(t!==0){if(t===2&&(s=nc(e),s!==0&&(n=s,t=Ic(e,s))),t===1)throw r=ni,Hn(e,0),rn(e,n),It(e,ze()),r;if(t===6)rn(e,n);else{if(s=e.current.alternate,!(n&30)&&!dw(s)&&(t=Wo(e,n),t===2&&(a=nc(e),a!==0&&(n=a,t=Ic(e,a))),t===1))throw r=ni,Hn(e,0),rn(e,n),It(e,ze()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error($(345));case 2:Vn(e,Et,Cr);break;case 3:if(rn(e,n),(n&130023424)===n&&(t=lf+500-ze(),10<t)){if(jo(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){bt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=dc(Vn.bind(null,e,Et,Cr),t);break}Vn(e,Et,Cr);break;case 4:if(rn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var i=31-sr(n);a=1<<i,i=t[i],i>s&&(s=i),n&=~a}if(n=s,n=ze()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*cw(n/1960))-n,10<n){e.timeoutHandle=dc(Vn.bind(null,e,Et,Cr),n);break}Vn(e,Et,Cr);break;case 5:Vn(e,Et,Cr);break;default:throw Error($(329))}}}return It(e,ze()),e.callbackNode===r?yy.bind(null,e):null}function Ic(e,t){var r=Da;return e.current.memoizedState.isDehydrated&&(Hn(e,t).flags|=256),e=Wo(e,t),e!==2&&(t=Et,Et=r,t!==null&&Pc(t)),e}function Pc(e){Et===null?Et=e:Et.push.apply(Et,e)}function dw(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!lr(a(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function rn(e,t){for(t&=~of,t&=~jl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-sr(t),n=1<<r;e[r]=-1,t&=~n}}function qh(e){if(ye&6)throw Error($(327));Rs();var t=jo(e,0);if(!(t&1))return It(e,ze()),null;var r=Wo(e,t);if(e.tag!==0&&r===2){var n=nc(e);n!==0&&(t=n,r=Ic(e,n))}if(r===1)throw r=ni,Hn(e,0),rn(e,t),It(e,ze()),r;if(r===6)throw Error($(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Vn(e,Et,Cr),It(e,ze()),null}function uf(e,t){var r=ye;ye|=1;try{return e(t)}finally{ye=r,ye===0&&(Hs=ze()+500,kl&&Pn())}}function ts(e){on!==null&&on.tag===0&&!(ye&6)&&Rs();var t=ye;ye|=1;var r=Qt.transition,n=ke;try{if(Qt.transition=null,ke=1,e)return e()}finally{ke=n,Qt.transition=r,ye=t,!(ye&6)&&Pn()}}function cf(){Dt=Cs.current,Ie(Cs)}function Hn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,U0(r)),We!==null)for(r=We.return;r!==null;){var n=r;switch(Bd(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Do();break;case 3:Bs(),Ie(Tt),Ie(pt),Jd();break;case 5:Yd(n);break;case 4:Bs();break;case 13:Ie(Le);break;case 19:Ie(Le);break;case 10:Zd(n.type._context);break;case 22:case 23:cf()}r=r.return}if(et=e,We=e=yn(e.current,null),st=Dt=t,Ye=0,ni=null,of=jl=es=0,Et=Da=null,Un!==null){for(t=0;t<Un.length;t++)if(r=Un[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var i=a.next;a.next=s,n.next=i}r.pending=n}Un=null}return e}function vy(e,t){do{var r=We;try{if(Wd(),lo.current=zo,Uo){for(var n=Ve.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Uo=!1}if(Xn=0,Xe=Qe=Ve=null,Ia=!1,ei=0,af.current=null,r===null||r.return===null){Ye=1,ni=t,We=null;break}e:{var a=e,i=r.return,o=r,l=t;if(t=st,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=Oh(i);if(y!==null){y.flags&=-257,Lh(y,i,o,a,t),y.mode&1&&Rh(a,c,t),t=y,l=c;var m=t.updateQueue;if(m===null){var w=new Set;w.add(l),t.updateQueue=w}else m.add(l);break e}else{if(!(t&1)){Rh(a,c,t),df();break e}l=Error($(426))}}else if(Oe&&o.mode&1){var k=Oh(i);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Lh(k,i,o,a,t),Kd(Ks(l,o));break e}}a=l=Ks(l,o),Ye!==4&&(Ye=2),Da===null?Da=[a]:Da.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var g=ty(a,l,t);jh(a,g);break e;case 1:o=l;var p=a.type,x=a.stateNode;if(!(a.flags&128)&&(typeof p.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(mn===null||!mn.has(x)))){a.flags|=65536,t&=-t,a.lanes|=t;var S=ry(a,o,t);jh(a,S);break e}}a=a.return}while(a!==null)}by(r)}catch(b){t=b,We===r&&r!==null&&(We=r=r.return);continue}break}while(!0)}function xy(){var e=Bo.current;return Bo.current=zo,e===null?zo:e}function df(){(Ye===0||Ye===3||Ye===2)&&(Ye=4),et===null||!(es&268435455)&&!(jl&268435455)||rn(et,st)}function Wo(e,t){var r=ye;ye|=2;var n=xy();(et!==e||st!==t)&&(Cr=null,Hn(e,t));do try{fw();break}catch(s){vy(e,s)}while(!0);if(Wd(),ye=r,Bo.current=n,We!==null)throw Error($(261));return et=null,st=0,Ye}function fw(){for(;We!==null;)wy(We)}function hw(){for(;We!==null&&!Vx();)wy(We)}function wy(e){var t=Sy(e.alternate,e,Dt);e.memoizedProps=e.pendingProps,t===null?by(e):We=t,af.current=null}function by(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=iw(r,t),r!==null){r.flags&=32767,We=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ye=6,We=null;return}}else if(r=aw(r,t,Dt),r!==null){We=r;return}if(t=t.sibling,t!==null){We=t;return}We=t=e}while(t!==null);Ye===0&&(Ye=5)}function Vn(e,t,r){var n=ke,s=Qt.transition;try{Qt.transition=null,ke=1,pw(e,t,r,n)}finally{Qt.transition=s,ke=n}return null}function pw(e,t,r,n){do Rs();while(on!==null);if(ye&6)throw Error($(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error($(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(qx(e,a),e===et&&(We=et=null,st=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Hi||(Hi=!0,ky(Co,function(){return Rs(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Qt.transition,Qt.transition=null;var i=ke;ke=1;var o=ye;ye|=4,af.current=null,lw(e,r),my(r,e),R0(uc),To=!!lc,uc=lc=null,e.current=r,uw(r),Fx(),ye=o,ke=i,Qt.transition=a}else e.current=r;if(Hi&&(Hi=!1,on=e,Ho=s),a=e.pendingLanes,a===0&&(mn=null),zx(r.stateNode),It(e,ze()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Ko)throw Ko=!1,e=Tc,Tc=null,e;return Ho&1&&e.tag!==0&&Rs(),a=e.pendingLanes,a&1?e===Ac?Ra++:(Ra=0,Ac=e):Ra=0,Pn(),null}function Rs(){if(on!==null){var e=tg(Ho),t=Qt.transition,r=ke;try{if(Qt.transition=null,ke=16>e?16:e,on===null)var n=!1;else{if(e=on,on=null,Ho=0,ye&6)throw Error($(331));var s=ye;for(ye|=4,J=e.current;J!==null;){var a=J,i=a.child;if(J.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(J=c;J!==null;){var d=J;switch(d.tag){case 0:case 11:case 15:Pa(8,d,a)}var h=d.child;if(h!==null)h.return=d,J=h;else for(;J!==null;){d=J;var f=d.sibling,y=d.return;if(fy(d),d===c){J=null;break}if(f!==null){f.return=y,J=f;break}J=y}}}var m=a.alternate;if(m!==null){var w=m.child;if(w!==null){m.child=null;do{var k=w.sibling;w.sibling=null,w=k}while(w!==null)}}J=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,J=i;else e:for(;J!==null;){if(a=J,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Pa(9,a,a.return)}var g=a.sibling;if(g!==null){g.return=a.return,J=g;break e}J=a.return}}var p=e.current;for(J=p;J!==null;){i=J;var x=i.child;if(i.subtreeFlags&2064&&x!==null)x.return=i,J=x;else e:for(i=p;J!==null;){if(o=J,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Cl(9,o)}}catch(b){$e(o,o.return,b)}if(o===i){J=null;break e}var S=o.sibling;if(S!==null){S.return=o.return,J=S;break e}J=o.return}}if(ye=s,Pn(),vr&&typeof vr.onPostCommitFiberRoot=="function")try{vr.onPostCommitFiberRoot(xl,e)}catch{}n=!0}return n}finally{ke=r,Qt.transition=t}}return!1}function Qh(e,t,r){t=Ks(r,t),t=ty(e,t,1),e=pn(e,t,1),t=bt(),e!==null&&(xi(e,1,t),It(e,t))}function $e(e,t,r){if(e.tag===3)Qh(e,e,r);else for(;t!==null;){if(t.tag===3){Qh(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(mn===null||!mn.has(n))){e=Ks(r,e),e=ry(t,e,1),t=pn(t,e,1),e=bt(),t!==null&&(xi(t,1,e),It(t,e));break}}t=t.return}}function mw(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=bt(),e.pingedLanes|=e.suspendedLanes&r,et===e&&(st&r)===r&&(Ye===4||Ye===3&&(st&130023424)===st&&500>ze()-lf?Hn(e,0):of|=r),It(e,t)}function _y(e,t){t===0&&(e.mode&1?(t=Oi,Oi<<=1,!(Oi&130023424)&&(Oi=4194304)):t=1);var r=bt();e=$r(e,t),e!==null&&(xi(e,t,r),It(e,r))}function gw(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),_y(e,r)}function yw(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error($(314))}n!==null&&n.delete(t),_y(e,r)}var Sy;Sy=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Tt.current)Ct=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ct=!1,sw(e,t,r);Ct=!!(e.flags&131072)}else Ct=!1,Oe&&t.flags&1048576&&Cg(t,Lo,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;co(e,t),e=t.pendingProps;var s=$s(t,pt.current);Ds(t,r),s=ef(null,t,n,e,s,r);var a=tf();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,At(n)?(a=!0,Ro(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Qd(t),s.updater=El,t.stateNode=s,s._reactInternals=t,vc(t,n,e,r),t=bc(null,t,n,!0,a,r)):(t.tag=0,Oe&&a&&zd(t),vt(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(co(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=xw(n),e=er(n,e),s){case 0:t=wc(null,t,n,e,r);break e;case 1:t=Fh(null,t,n,e,r);break e;case 11:t=Mh(null,t,n,e,r);break e;case 14:t=Vh(null,t,n,er(n.type,e),r);break e}throw Error($(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:er(n,s),wc(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:er(n,s),Fh(e,t,n,s,r);case 3:e:{if(iy(t),e===null)throw Error($(387));n=t.pendingProps,a=t.memoizedState,s=a.element,Dg(e,t),Fo(t,n,null,r);var i=t.memoizedState;if(n=i.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=Ks(Error($(423)),t),t=$h(e,t,n,r,s);break e}else if(n!==s){s=Ks(Error($(424)),t),t=$h(e,t,n,r,s);break e}else for(Rt=hn(t.stateNode.containerInfo.firstChild),Ot=t,Oe=!0,rr=null,r=Ig(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Us(),n===s){t=Ur(e,t,r);break e}vt(e,t,n,r)}t=t.child}return t;case 5:return Rg(t),e===null&&mc(t),n=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,i=s.children,cc(n,s)?i=null:a!==null&&cc(n,a)&&(t.flags|=32),ay(e,t),vt(e,t,i,r),t.child;case 6:return e===null&&mc(t),null;case 13:return oy(e,t,r);case 4:return Gd(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=zs(t,null,n,r):vt(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:er(n,s),Mh(e,t,n,s,r);case 7:return vt(e,t,t.pendingProps,r),t.child;case 8:return vt(e,t,t.pendingProps.children,r),t.child;case 12:return vt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,a=t.memoizedProps,i=s.value,je(Mo,n._currentValue),n._currentValue=i,a!==null)if(lr(a.value,i)){if(a.children===s.children&&!Tt.current){t=Ur(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){i=a.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=Rr(-1,r&-r),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),gc(a.return,r,t),o.lanes|=r;break}l=l.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error($(341));i.lanes|=r,o=i.alternate,o!==null&&(o.lanes|=r),gc(i,r,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}vt(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Ds(t,r),s=Gt(s),n=n(s),t.flags|=1,vt(e,t,n,r),t.child;case 14:return n=t.type,s=er(n,t.pendingProps),s=er(n.type,s),Vh(e,t,n,s,r);case 15:return ny(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:er(n,s),co(e,t),t.tag=1,At(n)?(e=!0,Ro(t)):e=!1,Ds(t,r),ey(t,n,s),vc(t,n,s,r),bc(null,t,n,!0,e,r);case 19:return ly(e,t,r);case 22:return sy(e,t,r)}throw Error($(156,t.tag))};function ky(e,t){return Ym(e,t)}function vw(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qt(e,t,r,n){return new vw(e,t,r,n)}function ff(e){return e=e.prototype,!(!e||!e.isReactComponent)}function xw(e){if(typeof e=="function")return ff(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ad)return 11;if(e===Id)return 14}return 2}function yn(e,t){var r=e.alternate;return r===null?(r=qt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function po(e,t,r,n,s,a){var i=2;if(n=e,typeof e=="function")ff(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case ys:return Wn(r.children,s,a,t);case Td:i=8,s|=8;break;case zu:return e=qt(12,r,t,s|2),e.elementType=zu,e.lanes=a,e;case Bu:return e=qt(13,r,t,s),e.elementType=Bu,e.lanes=a,e;case Ku:return e=qt(19,r,t,s),e.elementType=Ku,e.lanes=a,e;case Rm:return Tl(r,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Pm:i=10;break e;case Dm:i=9;break e;case Ad:i=11;break e;case Id:i=14;break e;case Yr:i=16,n=null;break e}throw Error($(130,e==null?e:typeof e,""))}return t=qt(i,r,t,s),t.elementType=e,t.type=n,t.lanes=a,t}function Wn(e,t,r,n){return e=qt(7,e,n,t),e.lanes=r,e}function Tl(e,t,r,n){return e=qt(22,e,n,t),e.elementType=Rm,e.lanes=r,e.stateNode={isHidden:!1},e}function fu(e,t,r){return e=qt(6,e,null,t),e.lanes=r,e}function hu(e,t,r){return t=qt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ww(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zl(0),this.expirationTimes=Zl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zl(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function hf(e,t,r,n,s,a,i,o,l){return e=new ww(e,t,r,o,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=qt(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qd(a),e}function bw(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:gs,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Ny(e){if(!e)return kn;e=e._reactInternals;e:{if(is(e)!==e||e.tag!==1)throw Error($(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(At(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error($(171))}if(e.tag===1){var r=e.type;if(At(r))return Ng(e,r,t)}return t}function Ey(e,t,r,n,s,a,i,o,l){return e=hf(r,n,!0,e,s,a,i,o,l),e.context=Ny(null),r=e.current,n=bt(),s=gn(r),a=Rr(n,s),a.callback=t??null,pn(r,a,s),e.current.lanes=s,xi(e,s,n),It(e,n),e}function Al(e,t,r,n){var s=t.current,a=bt(),i=gn(s);return r=Ny(r),t.context===null?t.context=r:t.pendingContext=r,t=Rr(a,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=pn(s,t,i),e!==null&&(ar(e,s,i,a),oo(e,s,i)),i}function Zo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Gh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function pf(e,t){Gh(e,t),(e=e.alternate)&&Gh(e,t)}function _w(){return null}var Cy=typeof reportError=="function"?reportError:function(e){console.error(e)};function mf(e){this._internalRoot=e}Il.prototype.render=mf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error($(409));Al(e,t,null,null)};Il.prototype.unmount=mf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ts(function(){Al(null,e,null,null)}),t[Fr]=null}};function Il(e){this._internalRoot=e}Il.prototype.unstable_scheduleHydration=function(e){if(e){var t=sg();e={blockedOn:null,target:e,priority:t};for(var r=0;r<tn.length&&t!==0&&t<tn[r].priority;r++);tn.splice(r,0,e),r===0&&ig(e)}};function gf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Pl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Yh(){}function Sw(e,t,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var c=Zo(i);a.call(c)}}var i=Ey(t,n,e,0,null,!1,!1,"",Yh);return e._reactRootContainer=i,e[Fr]=i.current,Qa(e.nodeType===8?e.parentNode:e),ts(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var o=n;n=function(){var c=Zo(l);o.call(c)}}var l=hf(e,0,!1,null,null,!1,!1,"",Yh);return e._reactRootContainer=l,e[Fr]=l.current,Qa(e.nodeType===8?e.parentNode:e),ts(function(){Al(t,l,r,n)}),l}function Dl(e,t,r,n,s){var a=r._reactRootContainer;if(a){var i=a;if(typeof s=="function"){var o=s;s=function(){var l=Zo(i);o.call(l)}}Al(t,i,e,s)}else i=Sw(r,t,e,s,n);return Zo(i)}rg=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ba(t.pendingLanes);r!==0&&(Rd(t,r|1),It(t,ze()),!(ye&6)&&(Hs=ze()+500,Pn()))}break;case 13:ts(function(){var n=$r(e,1);if(n!==null){var s=bt();ar(n,e,1,s)}}),pf(e,1)}};Od=function(e){if(e.tag===13){var t=$r(e,134217728);if(t!==null){var r=bt();ar(t,e,134217728,r)}pf(e,134217728)}};ng=function(e){if(e.tag===13){var t=gn(e),r=$r(e,t);if(r!==null){var n=bt();ar(r,e,t,n)}pf(e,t)}};sg=function(){return ke};ag=function(e,t){var r=ke;try{return ke=e,t()}finally{ke=r}};ec=function(e,t,r){switch(t){case"input":if(Zu(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Sl(n);if(!s)throw Error($(90));Lm(n),Zu(n,s)}}}break;case"textarea":Vm(e,r);break;case"select":t=r.value,t!=null&&Ts(e,!!r.multiple,t,!1)}};Hm=uf;Wm=ts;var kw={usingClientEntryPoint:!1,Events:[bi,bs,Sl,Bm,Km,uf]},pa={findFiberByHostInstance:$n,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Nw={bundleType:pa.bundleType,version:pa.version,rendererPackageName:pa.rendererPackageName,rendererConfig:pa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Br.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Qm(e),e===null?null:e.stateNode},findFiberByHostInstance:pa.findFiberByHostInstance||_w,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wi.isDisabled&&Wi.supportsFiber)try{xl=Wi.inject(Nw),vr=Wi}catch{}}$t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kw;$t.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gf(t))throw Error($(200));return bw(e,t,null,r)};$t.createRoot=function(e,t){if(!gf(e))throw Error($(299));var r=!1,n="",s=Cy;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=hf(e,1,!1,null,null,r,!1,n,s),e[Fr]=t.current,Qa(e.nodeType===8?e.parentNode:e),new mf(t)};$t.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error($(188)):(e=Object.keys(e).join(","),Error($(268,e)));return e=Qm(t),e=e===null?null:e.stateNode,e};$t.flushSync=function(e){return ts(e)};$t.hydrate=function(e,t,r){if(!Pl(t))throw Error($(200));return Dl(null,e,t,!0,r)};$t.hydrateRoot=function(e,t,r){if(!gf(e))throw Error($(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",i=Cy;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=Ey(t,null,e,1,r??null,s,!1,a,i),e[Fr]=t.current,Qa(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Il(t)};$t.render=function(e,t,r){if(!Pl(t))throw Error($(200));return Dl(null,e,t,!1,r)};$t.unmountComponentAtNode=function(e){if(!Pl(e))throw Error($(40));return e._reactRootContainer?(ts(function(){Dl(null,null,e,!1,function(){e._reactRootContainer=null,e[Fr]=null})}),!0):!1};$t.unstable_batchedUpdates=uf;$t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Pl(r))throw Error($(200));if(e==null||e._reactInternals===void 0)throw Error($(38));return Dl(e,t,r,!1,n)};$t.version="18.3.1-next-f1338f8080-20240426";function jy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jy)}catch(e){console.error(e)}}jy(),jm.exports=$t;var Ty=jm.exports,Jh=Ty;$u.createRoot=Jh.createRoot,$u.hydrateRoot=Jh.hydrateRoot;const ra=C.createContext({location:{pathname:"/",state:void 0},navigate:()=>{throw new Error("navigate called outside of a router context")}}),mo=typeof window<"u",yf="__assigna_router_state__",Xh=(e,t)=>({[yf]:!0,pathname:e,state:t}),pu=e=>{if(!mo)return{pathname:vn("/"),state:void 0};const{pathname:t}=window.location,r=e??window.history.state;if(r&&r[yf]){const n=typeof r.pathname=="string"&&r.pathname.length>0?r.pathname:t;return{pathname:vn(n||"/"),state:r.state}}return{pathname:vn(t||"/"),state:void 0}};function vn(e){return e?e.length>1&&e.endsWith("/")?e.slice(0,-1):e:"/"}function Ay(e,t){return vn(e)===vn(t)}function Ew(e,t){const r=vn(e),n=vn(t);return r==="/"?n==="/":n===r||n.startsWith(r+"/")}function Cw({children:e}){const[t,r]=C.useState(()=>pu());C.useEffect(()=>{if(!mo)return;const a=()=>{r(pu())};return window.addEventListener("popstate",a),()=>window.removeEventListener("popstate",a)},[]),C.useEffect(()=>{if(!mo)return;const a=pu(),i=window.history.state;if(!i||i[yf]!==!0){const o=a.pathname;window.history.replaceState(Xh(o,a.state),"",o)}},[]);const n=C.useCallback((a,i={})=>{const o=typeof a=="string"?a:(a==null?void 0:a.pathname)??"/",l=vn(o),c=i.state;if(mo){const d=Xh(l,c);i.replace?window.history.replaceState(d,"",l):window.history.pushState(d,"",l),r({pathname:l,state:c})}else r({pathname:l,state:c})},[]),s=C.useMemo(()=>({location:t,navigate:n}),[t,n]);return C.createElement(ra.Provider,{value:s},e)}function jw(){const e=C.useContext(ra);if(!e)throw new Error("useNavigate must be used within a BrowserRouter");return e.navigate}function Tw(){const e=C.useContext(ra);if(!e)throw new Error("useLocation must be used within a BrowserRouter");return e.location}function Dc({to:e,replace:t=!1,state:r}){const n=jw();return C.useEffect(()=>{const s=typeof e=="string"?e:(e==null?void 0:e.pathname)??"/";n(s,{replace:t,state:r})},[n,t,r,e]),null}function Aw({children:e}){const{location:t}=C.useContext(ra),r=t.pathname,n=C.Children.toArray(e);for(const s of n){if(!C.isValidElement(s))continue;const{path:a="*",element:i}=s.props||{};if(a==="*"||Ay(a,r))return C.createElement(C.Fragment,null,i??null)}return null}function mu(){return null}function Iy(e){return typeof e=="string"?e:(e==null?void 0:e.pathname)??"/"}function Py(e){return e.metaKey||e.altKey||e.ctrlKey||e.shiftKey}function Iw({to:e,onClick:t,replace:r=!1,state:n,...s}){const{navigate:a}=C.useContext(ra),i=Iy(e),o=l=>{t&&t(l),!(l.defaultPrevented||l.button!==0||s.target&&s.target!=="_self"||Py(l))&&(l.preventDefault(),a(i,{replace:r,state:n}))};return C.createElement("a",{...s,href:i,onClick:o})}function Pw({to:e,className:t,children:r,end:n=!1,onClick:s,state:a,...i}){const{location:o,navigate:l}=C.useContext(ra),c=Iy(e),d=n?Ay(c,o.pathname):Ew(c,o.pathname),h=typeof t=="function"?t({isActive:d,isPending:!1})??void 0:t,f=typeof r=="function"?r({isActive:d,isPending:!1}):r,y=m=>{s&&s(m),!(m.defaultPrevented||m.button!==0||i.target&&i.target!=="_self"||Py(m))&&(m.preventDefault(),l(c,{state:a}))};return C.createElement("a",{...i,href:c,className:h,"aria-current":d?"page":void 0,onClick:y},f)}const Dw=(e,t,r,n)=>{var a,i,o,l;const s=[r,{code:t,...n||{}}];if((i=(a=e==null?void 0:e.services)==null?void 0:a.logger)!=null&&i.forward)return e.services.logger.forward(s,"warn","react-i18next::",!0);Zn(s[0])&&(s[0]=`react-i18next:: ${s[0]}`),(l=(o=e==null?void 0:e.services)==null?void 0:o.logger)!=null&&l.warn?e.services.logger.warn(...s):console!=null&&console.warn&&console.warn(...s)},ep={},Rc=(e,t,r,n)=>{Zn(r)&&ep[r]||(Zn(r)&&(ep[r]=new Date),Dw(e,t,r,n))},Dy=(e,t)=>()=>{if(e.isInitialized)t();else{const r=()=>{setTimeout(()=>{e.off("initialized",r)},0),t()};e.on("initialized",r)}},Oc=(e,t,r)=>{e.loadNamespaces(t,Dy(e,r))},tp=(e,t,r,n)=>{if(Zn(r)&&(r=[r]),e.options.preload&&e.options.preload.indexOf(t)>-1)return Oc(e,r,n);r.forEach(s=>{e.options.ns.indexOf(s)<0&&e.options.ns.push(s)}),e.loadLanguages(t,Dy(e,n))},Rw=(e,t,r={})=>!t.languages||!t.languages.length?(Rc(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:r.lng,precheck:(n,s)=>{if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!s(n.isLanguageChangingTo,e))return!1}}),Zn=e=>typeof e=="string",Ow=e=>typeof e=="object"&&e!==null,Lw=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Mw={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},Vw=e=>Mw[e],Fw=e=>e.replace(Lw,Vw);let Lc={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Fw};const $w=(e={})=>{Lc={...Lc,...e}},Uw=()=>Lc;let Ry;const zw=e=>{Ry=e},Bw=()=>Ry,Kw={type:"3rdParty",init(e){$w(e.options.react),zw(e)}},Hw=C.createContext();class Ww{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const Zw=(e,t)=>{const r=C.useRef();return C.useEffect(()=>{r.current=e},[e,t]),r.current},Oy=(e,t,r,n)=>e.getFixedT(t,r,n),qw=(e,t,r,n)=>C.useCallback(Oy(e,t,r,n),[e,t,r,n]),qe=(e,t={})=>{var S,b,_,v;const{i18n:r}=t,{i18n:n,defaultNS:s}=C.useContext(Hw)||{},a=r||n||Bw();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new Ww),!a){Rc(a,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const E=(A,R)=>Zn(R)?R:Ow(R)&&Zn(R.defaultValue)?R.defaultValue:Array.isArray(A)?A[A.length-1]:A,j=[E,{},!1];return j.t=E,j.i18n={},j.ready=!1,j}(S=a.options.react)!=null&&S.wait&&Rc(a,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const i={...Uw(),...a.options.react,...t},{useSuspense:o,keyPrefix:l}=i;let c=s||((b=a.options)==null?void 0:b.defaultNS);c=Zn(c)?[c]:c||["translation"],(v=(_=a.reportNamespaces).addUsedNamespaces)==null||v.call(_,c);const d=(a.isInitialized||a.initializedStoreOnce)&&c.every(E=>Rw(E,a,i)),h=qw(a,t.lng||null,i.nsMode==="fallback"?c:c[0],l),f=()=>h,y=()=>Oy(a,t.lng||null,i.nsMode==="fallback"?c:c[0],l),[m,w]=C.useState(f);let k=c.join();t.lng&&(k=`${t.lng}${k}`);const g=Zw(k),p=C.useRef(!0);C.useEffect(()=>{const{bindI18n:E,bindI18nStore:j}=i;p.current=!0,!d&&!o&&(t.lng?tp(a,t.lng,c,()=>{p.current&&w(y)}):Oc(a,c,()=>{p.current&&w(y)})),d&&g&&g!==k&&p.current&&w(y);const A=()=>{p.current&&w(y)};return E&&(a==null||a.on(E,A)),j&&(a==null||a.store.on(j,A)),()=>{p.current=!1,a&&E&&(E==null||E.split(" ").forEach(R=>a.off(R,A))),j&&a&&j.split(" ").forEach(R=>a.store.off(R,A))}},[a,k]),C.useEffect(()=>{p.current&&d&&w(f)},[a,l,d]);const x=[m,a,d];if(x.t=m,x.i18n=a,x.ready=d,d||!d&&!o)return x;throw new Promise(E=>{t.lng?tp(a,t.lng,c,()=>E()):Oc(a,c,()=>E())})},Ae=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Ze=Object.keys,ht=Array.isArray;function _t(e,t){return typeof t!="object"||Ze(t).forEach(function(r){e[r]=t[r]}),e}typeof Promise>"u"||Ae.Promise||(Ae.Promise=Promise);const si=Object.getPrototypeOf,Qw={}.hasOwnProperty;function Mt(e,t){return Qw.call(e,t)}function Ws(e,t){typeof t=="function"&&(t=t(si(e))),(typeof Reflect>"u"?Ze:Reflect.ownKeys)(t).forEach(r=>{Or(e,r,t[r])})}const Ly=Object.defineProperty;function Or(e,t,r,n){Ly(e,t,_t(r&&Mt(r,"get")&&typeof r.get=="function"?{get:r.get,set:r.set,configurable:!0}:{value:r,configurable:!0,writable:!0},n))}function Os(e){return{from:function(t){return e.prototype=Object.create(t.prototype),Or(e.prototype,"constructor",e),{extend:Ws.bind(null,e.prototype)}}}}const Gw=Object.getOwnPropertyDescriptor;function vf(e,t){let r;return Gw(e,t)||(r=si(e))&&vf(r,t)}const Yw=[].slice;function qo(e,t,r){return Yw.call(e,t,r)}function My(e,t){return t(e)}function Sa(e){if(!e)throw new Error("Assertion Failed")}function Vy(e){Ae.setImmediate?setImmediate(e):setTimeout(e,0)}function Fy(e,t){return e.reduce((r,n,s)=>{var a=t(n,s);return a&&(r[a[0]]=a[1]),r},{})}function Lr(e,t){if(typeof t=="string"&&Mt(e,t))return e[t];if(!t)return e;if(typeof t!="string"){for(var r=[],n=0,s=t.length;n<s;++n){var a=Lr(e,t[n]);r.push(a)}return r}var i=t.indexOf(".");if(i!==-1){var o=e[t.substr(0,i)];return o==null?void 0:Lr(o,t.substr(i+1))}}function ir(e,t,r){if(e&&t!==void 0&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if(typeof t!="string"&&"length"in t){Sa(typeof r!="string"&&"length"in r);for(var n=0,s=t.length;n<s;++n)ir(e,t[n],r[n])}else{var a=t.indexOf(".");if(a!==-1){var i=t.substr(0,a),o=t.substr(a+1);if(o==="")r===void 0?ht(e)&&!isNaN(parseInt(i))?e.splice(i,1):delete e[i]:e[i]=r;else{var l=e[i];l&&Mt(e,i)||(l=e[i]={}),ir(l,o,r)}}else r===void 0?ht(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=r}}function $y(e){var t={};for(var r in e)Mt(e,r)&&(t[r]=e[r]);return t}const Jw=[].concat;function Uy(e){return Jw.apply([],e)}const zy="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Uy([8,16,32,64].map(e=>["Int","Uint","Float"].map(t=>t+e+"Array")))).filter(e=>Ae[e]),Xw=zy.map(e=>Ae[e]);Fy(zy,e=>[e,!0]);let Xr=null;function Si(e){Xr=typeof WeakMap<"u"&&new WeakMap;const t=Mc(e);return Xr=null,t}function Mc(e){if(!e||typeof e!="object")return e;let t=Xr&&Xr.get(e);if(t)return t;if(ht(e)){t=[],Xr&&Xr.set(e,t);for(var r=0,n=e.length;r<n;++r)t.push(Mc(e[r]))}else if(Xw.indexOf(e.constructor)>=0)t=e;else{const a=si(e);for(var s in t=a===Object.prototype?{}:Object.create(a),Xr&&Xr.set(e,t),e)Mt(e,s)&&(t[s]=Mc(e[s]))}return t}const{toString:eb}={};function Vc(e){return eb.call(e).slice(8,-1)}const Fc=typeof Symbol<"u"?Symbol.iterator:"@@iterator",tb=typeof Fc=="symbol"?function(e){var t;return e!=null&&(t=e[Fc])&&t.apply(e)}:function(){return null},ps={};function Ar(e){var t,r,n,s;if(arguments.length===1){if(ht(e))return e.slice();if(this===ps&&typeof e=="string")return[e];if(s=tb(e)){for(r=[];!(n=s.next()).done;)r.push(n.value);return r}if(e==null)return[e];if(typeof(t=e.length)=="number"){for(r=new Array(t);t--;)r[t]=e[t];return r}return[e]}for(t=arguments.length,r=new Array(t);t--;)r[t]=arguments[t];return r}const xf=typeof Symbol<"u"?e=>e[Symbol.toStringTag]==="AsyncFunction":()=>!1;var kr=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function By(e,t){kr=e,Ky=t}var Ky=()=>!0;const rb=!new Error("").stack;function os(){if(rb)try{throw os.arguments,new Error}catch(e){return e}return new Error}function $c(e,t){var r=e.stack;return r?(t=t||0,r.indexOf(e.name)===0&&(t+=(e.name+e.message).split(`
`).length),r.split(`
`).slice(t).filter(Ky).map(n=>`
`+n).join("")):""}var Hy=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],wf=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Hy),nb={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Ls(e,t){this._e=os(),this.name=e,this.message=t}function Wy(e,t){return e+". Errors: "+Object.keys(t).map(r=>t[r].toString()).filter((r,n,s)=>s.indexOf(r)===n).join(`
`)}function Qo(e,t,r,n){this._e=os(),this.failures=t,this.failedKeys=n,this.successCount=r,this.message=Wy(e,t)}function Oa(e,t){this._e=os(),this.name="BulkError",this.failures=Object.keys(t).map(r=>t[r]),this.failuresByPos=t,this.message=Wy(e,t)}Os(Ls).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+$c(this._e,2))}},toString:function(){return this.name+": "+this.message}}),Os(Qo).from(Ls),Os(Oa).from(Ls);var bf=wf.reduce((e,t)=>(e[t]=t+"Error",e),{});const sb=Ls;var le=wf.reduce((e,t)=>{var r=t+"Error";function n(s,a){this._e=os(),this.name=r,s?typeof s=="string"?(this.message=`${s}${a?`
 `+a:""}`,this.inner=a||null):typeof s=="object"&&(this.message=`${s.name} ${s.message}`,this.inner=s):(this.message=nb[t]||r,this.inner=null)}return Os(n).from(sb),e[t]=n,e},{});le.Syntax=SyntaxError,le.Type=TypeError,le.Range=RangeError;var rp=Hy.reduce((e,t)=>(e[t+"Error"]=le[t],e),{}),go=wf.reduce((e,t)=>(["Syntax","Type","Range"].indexOf(t)===-1&&(e[t+"Error"]=le[t]),e),{});function Ne(){}function ai(e){return e}function ab(e,t){return e==null||e===ai?t:function(r){return t(e(r))}}function rs(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function ib(e,t){return e===Ne?t:function(){var r=e.apply(this,arguments);r!==void 0&&(arguments[0]=r);var n=this.onsuccess,s=this.onerror;this.onsuccess=null,this.onerror=null;var a=t.apply(this,arguments);return n&&(this.onsuccess=this.onsuccess?rs(n,this.onsuccess):n),s&&(this.onerror=this.onerror?rs(s,this.onerror):s),a!==void 0?a:r}}function ob(e,t){return e===Ne?t:function(){e.apply(this,arguments);var r=this.onsuccess,n=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),r&&(this.onsuccess=this.onsuccess?rs(r,this.onsuccess):r),n&&(this.onerror=this.onerror?rs(n,this.onerror):n)}}function lb(e,t){return e===Ne?t:function(r){var n=e.apply(this,arguments);_t(r,n);var s=this.onsuccess,a=this.onerror;this.onsuccess=null,this.onerror=null;var i=t.apply(this,arguments);return s&&(this.onsuccess=this.onsuccess?rs(s,this.onsuccess):s),a&&(this.onerror=this.onerror?rs(a,this.onerror):a),n===void 0?i===void 0?void 0:i:_t(n,i)}}function ub(e,t){return e===Ne?t:function(){return t.apply(this,arguments)!==!1&&e.apply(this,arguments)}}function _f(e,t){return e===Ne?t:function(){var r=e.apply(this,arguments);if(r&&typeof r.then=="function"){for(var n=this,s=arguments.length,a=new Array(s);s--;)a[s]=arguments[s];return r.then(function(){return t.apply(n,a)})}return t.apply(this,arguments)}}go.ModifyError=Qo,go.DexieError=Ls,go.BulkError=Oa;var ii={};const Zy=100,[Uc,Go,zc]=typeof Promise>"u"?[]:(()=>{let e=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[e,si(e),e];const t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,si(t),e]})(),qy=Go&&Go.then,yo=Uc&&Uc.constructor,Sf=!!zc;var Bc=!1,cb=zc?()=>{zc.then(Zi)}:Ae.setImmediate?setImmediate.bind(null,Zi):Ae.MutationObserver?()=>{var e=document.createElement("div");new MutationObserver(()=>{Zi(),e=null}).observe(e,{attributes:!0}),e.setAttribute("i","1")}:()=>{setTimeout(Zi,0)},La=function(e,t){ka.push([e,t]),Yo&&(cb(),Yo=!1)},Kc=!0,Yo=!0,qn=[],vo=[],Hc=null,Wc=ai,Ms={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:ap,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(e=>{try{ap(e[0],e[1])}catch{}})}},ne=Ms,ka=[],Qn=0,xo=[];function Y(e){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=Ne,this._lib=!1;var t=this._PSD=ne;if(kr&&(this._stackHolder=os(),this._prev=null,this._numPrev=0),typeof e!="function"){if(e!==ii)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&qc(this,this._value))}this._state=null,this._value=null,++t.ref,Gy(this,e)}const Zc={get:function(){var e=ne,t=Jo;function r(n,s){var a=!e.global&&(e!==ne||t!==Jo);const i=a&&!zr();var o=new Y((l,c)=>{kf(this,new Qy(Xo(n,e,a,i),Xo(s,e,a,i),l,c,e))});return kr&&Xy(o,this),o}return r.prototype=ii,r},set:function(e){Or(this,"then",e&&e.prototype===ii?Zc:{get:function(){return e},set:Zc.set})}};function Qy(e,t,r,n,s){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.resolve=r,this.reject=n,this.psd=s}function Gy(e,t){try{t(r=>{if(e._state===null){if(r===e)throw new TypeError("A promise cannot be resolved with itself.");var n=e._lib&&ki();r&&typeof r.then=="function"?Gy(e,(s,a)=>{r instanceof Y?r._then(s,a):r.then(s,a)}):(e._state=!0,e._value=r,Yy(e)),n&&Ni()}},qc.bind(null,e))}catch(r){qc(e,r)}}function qc(e,t){if(vo.push(t),e._state===null){var r=e._lib&&ki();t=Wc(t),e._state=!1,e._value=t,kr&&t!==null&&typeof t=="object"&&!t._promise&&function(n,s,a){try{n.apply(null,a)}catch{}}(()=>{var n=vf(t,"stack");t._promise=e,Or(t,"stack",{get:()=>Bc?n&&(n.get?n.get.apply(t):n.value):e.stack})}),function(n){qn.some(s=>s._value===n._value)||qn.push(n)}(e),Yy(e),r&&Ni()}}function Yy(e){var t=e._listeners;e._listeners=[];for(var r=0,n=t.length;r<n;++r)kf(e,t[r]);var s=e._PSD;--s.ref||s.finalize(),Qn===0&&(++Qn,La(()=>{--Qn==0&&Nf()},[]))}function kf(e,t){if(e._state!==null){var r=e._state?t.onFulfilled:t.onRejected;if(r===null)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++Qn,La(db,[r,e,t])}else e._listeners.push(t)}function db(e,t,r){try{Hc=t;var n,s=t._value;t._state?n=e(s):(vo.length&&(vo=[]),n=e(s),vo.indexOf(s)===-1&&function(a){for(var i=qn.length;i;)if(qn[--i]._value===a._value)return void qn.splice(i,1)}(t)),r.resolve(n)}catch(a){r.reject(a)}finally{Hc=null,--Qn==0&&Nf(),--r.psd.ref||r.psd.finalize()}}function Jy(e,t,r){if(t.length===r)return t;var n="";if(e._state===!1){var s,a,i=e._value;i!=null?(s=i.name||"Error",a=i.message||i,n=$c(i,0)):(s=i,a=""),t.push(s+(a?": "+a:"")+n)}return kr&&((n=$c(e._stackHolder,2))&&t.indexOf(n)===-1&&t.push(n),e._prev&&Jy(e._prev,t,r)),t}function Xy(e,t){var r=t?t._numPrev+1:0;r<100&&(e._prev=t,e._numPrev=r)}function Zi(){ki()&&Ni()}function ki(){var e=Kc;return Kc=!1,Yo=!1,e}function Ni(){var e,t,r;do for(;ka.length>0;)for(e=ka,ka=[],r=e.length,t=0;t<r;++t){var n=e[t];n[0].apply(null,n[1])}while(ka.length>0);Kc=!0,Yo=!0}function Nf(){var e=qn;qn=[],e.forEach(n=>{n._PSD.onunhandled.call(null,n._value,n)});for(var t=xo.slice(0),r=t.length;r;)t[--r]()}function qi(e){return new Y(ii,!1,e)}function De(e,t){var r=ne;return function(){var n=ki(),s=ne;try{return En(r,!0),e.apply(this,arguments)}catch(a){t&&t(a)}finally{En(s,!1),n&&Ni()}}}Ws(Y.prototype,{then:Zc,_then:function(e,t){kf(this,new Qy(null,null,e,t,ne))},catch:function(e){if(arguments.length===1)return this.then(null,e);var t=arguments[0],r=arguments[1];return typeof t=="function"?this.then(null,n=>n instanceof t?r(n):qi(n)):this.then(null,n=>n&&n.name===t?r(n):qi(n))},finally:function(e){return this.then(t=>(e(),t),t=>(e(),qi(t)))},stack:{get:function(){if(this._stack)return this._stack;try{Bc=!0;var e=Jy(this,[],20).join(`
From previous: `);return this._state!==null&&(this._stack=e),e}finally{Bc=!1}}},timeout:function(e,t){return e<1/0?new Y((r,n)=>{var s=setTimeout(()=>n(new le.Timeout(t)),e);this.then(r,n).finally(clearTimeout.bind(null,s))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&Or(Y.prototype,Symbol.toStringTag,"Dexie.Promise"),Ms.env=ev(),Ws(Y,{all:function(){var e=Ar.apply(null,arguments).map(Qi);return new Y(function(t,r){e.length===0&&t([]);var n=e.length;e.forEach((s,a)=>Y.resolve(s).then(i=>{e[a]=i,--n||t(e)},r))})},resolve:e=>{if(e instanceof Y)return e;if(e&&typeof e.then=="function")return new Y((r,n)=>{e.then(r,n)});var t=new Y(ii,!0,e);return Xy(t,Hc),t},reject:qi,race:function(){var e=Ar.apply(null,arguments).map(Qi);return new Y((t,r)=>{e.map(n=>Y.resolve(n).then(t,r))})},PSD:{get:()=>ne,set:e=>ne=e},totalEchoes:{get:()=>Jo},newPSD:Nn,usePSD:sa,scheduler:{get:()=>La,set:e=>{La=e}},rejectionMapper:{get:()=>Wc,set:e=>{Wc=e}},follow:(e,t)=>new Y((r,n)=>Nn((s,a)=>{var i=ne;i.unhandleds=[],i.onunhandled=a,i.finalize=rs(function(){(function(o){function l(){o(),xo.splice(xo.indexOf(l),1)}xo.push(l),++Qn,La(()=>{--Qn==0&&Nf()},[])})(()=>{this.unhandleds.length===0?s():a(this.unhandleds[0])})},i.finalize),e()},t,r,n))}),yo&&(yo.allSettled&&Or(Y,"allSettled",function(){const e=Ar.apply(null,arguments).map(Qi);return new Y(t=>{e.length===0&&t([]);let r=e.length;const n=new Array(r);e.forEach((s,a)=>Y.resolve(s).then(i=>n[a]={status:"fulfilled",value:i},i=>n[a]={status:"rejected",reason:i}).then(()=>--r||t(n)))})}),yo.any&&typeof AggregateError<"u"&&Or(Y,"any",function(){const e=Ar.apply(null,arguments).map(Qi);return new Y((t,r)=>{e.length===0&&r(new AggregateError([]));let n=e.length;const s=new Array(n);e.forEach((a,i)=>Y.resolve(a).then(o=>t(o),o=>{s[i]=o,--n||r(new AggregateError(s))}))})}));const ft={awaits:0,echoes:0,id:0};var fb=0,wo=[],gu=0,Jo=0,hb=0;function Nn(e,t,r,n){var s=ne,a=Object.create(s);a.parent=s,a.ref=0,a.global=!1,a.id=++hb;var i=Ms.env;a.env=Sf?{Promise:Y,PromiseProp:{value:Y,configurable:!0,writable:!0},all:Y.all,race:Y.race,allSettled:Y.allSettled,any:Y.any,resolve:Y.resolve,reject:Y.reject,nthen:np(i.nthen,a),gthen:np(i.gthen,a)}:{},t&&_t(a,t),++s.ref,a.finalize=function(){--this.parent.ref||this.parent.finalize()};var o=sa(a,e,r,n);return a.ref===0&&a.finalize(),o}function na(){return ft.id||(ft.id=++fb),++ft.awaits,ft.echoes+=Zy,ft.id}function zr(){return!!ft.awaits&&(--ft.awaits==0&&(ft.id=0),ft.echoes=ft.awaits*Zy,!0)}function Qi(e){return ft.echoes&&e&&e.constructor===yo?(na(),e.then(t=>(zr(),t),t=>(zr(),Je(t)))):e}function pb(e){++Jo,ft.echoes&&--ft.echoes!=0||(ft.echoes=ft.id=0),wo.push(ne),En(e,!0)}function mb(){var e=wo[wo.length-1];wo.pop(),En(e,!1)}function En(e,t){var r=ne;if((t?!ft.echoes||gu++&&e===ne:!gu||--gu&&e===ne)||tv(t?pb.bind(null,e):mb),e!==ne&&(ne=e,r===Ms&&(Ms.env=ev()),Sf)){var n=Ms.env.Promise,s=e.env;Go.then=s.nthen,n.prototype.then=s.gthen,(r.global||e.global)&&(Object.defineProperty(Ae,"Promise",s.PromiseProp),n.all=s.all,n.race=s.race,n.resolve=s.resolve,n.reject=s.reject,s.allSettled&&(n.allSettled=s.allSettled),s.any&&(n.any=s.any))}}function ev(){var e=Ae.Promise;return Sf?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(Ae,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:Go.then,gthen:e.prototype.then}:{}}function sa(e,t,r,n,s){var a=ne;try{return En(e,!0),t(r,n,s)}finally{En(a,!1)}}function tv(e){qy.call(Uc,e)}function Xo(e,t,r,n){return typeof e!="function"?e:function(){var s=ne;r&&na(),En(t,!0);try{return e.apply(this,arguments)}finally{En(s,!1),n&&tv(zr)}}}function np(e,t){return function(r,n){return e.call(this,Xo(r,t),Xo(n,t))}}(""+qy).indexOf("[native code]")===-1&&(na=zr=Ne);const sp="unhandledrejection";function ap(e,t){var r;try{r=t.onuncatched(e)}catch{}if(r!==!1)try{var n,s={promise:t,reason:e};if(Ae.document&&document.createEvent?((n=document.createEvent("Event")).initEvent(sp,!0,!0),_t(n,s)):Ae.CustomEvent&&_t(n=new CustomEvent(sp,{detail:s}),s),n&&Ae.dispatchEvent&&(dispatchEvent(n),!Ae.PromiseRejectionEvent&&Ae.onunhandledrejection))try{Ae.onunhandledrejection(n)}catch{}kr&&n&&!n.defaultPrevented&&console.warn(`Unhandled rejection: ${e.stack||e}`)}catch{}}var Je=Y.reject;function Qc(e,t,r,n){if(e.idbdb&&(e._state.openComplete||ne.letThrough||e._vip)){var s=e._createTransaction(t,r,e._dbSchema);try{s.create(),e._state.PR1398_maxLoop=3}catch(a){return a.name===bf.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(()=>Qc(e,t,r,n))):Je(a)}return s._promise(t,(a,i)=>Nn(()=>(ne.trans=s,n(a,i,s)))).then(a=>s._completion.then(()=>a))}if(e._state.openComplete)return Je(new le.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return Je(new le.DatabaseClosed);e.open().catch(Ne)}return e._state.dbReadyPromise.then(()=>Qc(e,t,r,n))}const ip="3.2.7",Bn="",Gc=-1/0,Nr="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",rv="String expected.",Ma=[],Rl=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),gb=Rl,yb=Rl,nv=e=>!/(dexie\.js|dexie\.min\.js)/.test(e),Ol="__dbnames",yu="readonly",vu="readwrite";function ns(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}const sv={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Gi(e){return typeof e!="string"||/\./.test(e)?t=>t:t=>(t[e]===void 0&&e in t&&delete(t=Si(t))[e],t)}class vb{_trans(t,r,n){const s=this._tx||ne.trans,a=this.name;function i(l,c,d){if(!d.schema[a])throw new le.NotFound("Table "+a+" not part of transaction");return r(d.idbtrans,d)}const o=ki();try{return s&&s.db===this.db?s===ne.trans?s._promise(t,i,n):Nn(()=>s._promise(t,i,n),{trans:s,transless:ne.transless||ne}):Qc(this.db,t,[this.name],i)}finally{o&&Ni()}}get(t,r){return t&&t.constructor===Object?this.where(t).first(r):this._trans("readonly",n=>this.core.get({trans:n,key:t}).then(s=>this.hook.reading.fire(s))).then(r)}where(t){if(typeof t=="string")return new this.db.WhereClause(this,t);if(ht(t))return new this.db.WhereClause(this,`[${t.join("+")}]`);const r=Ze(t);if(r.length===1)return this.where(r[0]).equals(t[r[0]]);const n=this.schema.indexes.concat(this.schema.primKey).filter(c=>{if(c.compound&&r.every(d=>c.keyPath.indexOf(d)>=0)){for(let d=0;d<r.length;++d)if(r.indexOf(c.keyPath[d])===-1)return!1;return!0}return!1}).sort((c,d)=>c.keyPath.length-d.keyPath.length)[0];if(n&&this.db._maxKey!==Bn){const c=n.keyPath.slice(0,r.length);return this.where(c).equals(c.map(d=>t[d]))}!n&&kr&&console.warn(`The query ${JSON.stringify(t)} on ${this.name} would benefit of a compound index [${r.join("+")}]`);const{idxByName:s}=this.schema,a=this.db._deps.indexedDB;function i(c,d){try{return a.cmp(c,d)===0}catch{return!1}}const[o,l]=r.reduce(([c,d],h)=>{const f=s[h],y=t[h];return[c||f,c||!f?ns(d,f&&f.multi?m=>{const w=Lr(m,h);return ht(w)&&w.some(k=>i(y,k))}:m=>i(y,Lr(m,h))):d]},[null,null]);return o?this.where(o.name).equals(t[o.keyPath]).filter(l):n?this.filter(l):this.where(r).equals("")}filter(t){return this.toCollection().and(t)}count(t){return this.toCollection().count(t)}offset(t){return this.toCollection().offset(t)}limit(t){return this.toCollection().limit(t)}each(t){return this.toCollection().each(t)}toArray(t){return this.toCollection().toArray(t)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(t){return new this.db.Collection(new this.db.WhereClause(this,ht(t)?`[${t.join("+")}]`:t))}reverse(){return this.toCollection().reverse()}mapToClass(t){this.schema.mappedClass=t;const r=n=>{if(!n)return n;const s=Object.create(t.prototype);for(var a in n)if(Mt(n,a))try{s[a]=n[a]}catch{}return s};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=r,this.hook("reading",r),t}defineClass(){return this.mapToClass(function(t){_t(this,t)})}add(t,r){const{auto:n,keyPath:s}=this.schema.primKey;let a=t;return s&&n&&(a=Gi(s)(t)),this._trans("readwrite",i=>this.core.mutate({trans:i,type:"add",keys:r!=null?[r]:null,values:[a]})).then(i=>i.numFailures?Y.reject(i.failures[0]):i.lastResult).then(i=>{if(s)try{ir(t,s,i)}catch{}return i})}update(t,r){if(typeof t!="object"||ht(t))return this.where(":id").equals(t).modify(r);{const n=Lr(t,this.schema.primKey.keyPath);if(n===void 0)return Je(new le.InvalidArgument("Given object does not contain its primary key"));try{typeof r!="function"?Ze(r).forEach(s=>{ir(t,s,r[s])}):r(t,{value:t,primKey:n})}catch{}return this.where(":id").equals(n).modify(r)}}put(t,r){const{auto:n,keyPath:s}=this.schema.primKey;let a=t;return s&&n&&(a=Gi(s)(t)),this._trans("readwrite",i=>this.core.mutate({trans:i,type:"put",values:[a],keys:r!=null?[r]:null})).then(i=>i.numFailures?Y.reject(i.failures[0]):i.lastResult).then(i=>{if(s)try{ir(t,s,i)}catch{}return i})}delete(t){return this._trans("readwrite",r=>this.core.mutate({trans:r,type:"delete",keys:[t]})).then(r=>r.numFailures?Y.reject(r.failures[0]):void 0)}clear(){return this._trans("readwrite",t=>this.core.mutate({trans:t,type:"deleteRange",range:sv})).then(t=>t.numFailures?Y.reject(t.failures[0]):void 0)}bulkGet(t){return this._trans("readonly",r=>this.core.getMany({keys:t,trans:r}).then(n=>n.map(s=>this.hook.reading.fire(s))))}bulkAdd(t,r,n){const s=Array.isArray(r)?r:void 0,a=(n=n||(s?void 0:r))?n.allKeys:void 0;return this._trans("readwrite",i=>{const{auto:o,keyPath:l}=this.schema.primKey;if(l&&s)throw new le.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(s&&s.length!==t.length)throw new le.InvalidArgument("Arguments objects and keys must have the same length");const c=t.length;let d=l&&o?t.map(Gi(l)):t;return this.core.mutate({trans:i,type:"add",keys:s,values:d,wantResults:a}).then(({numFailures:h,results:f,lastResult:y,failures:m})=>{if(h===0)return a?f:y;throw new Oa(`${this.name}.bulkAdd(): ${h} of ${c} operations failed`,m)})})}bulkPut(t,r,n){const s=Array.isArray(r)?r:void 0,a=(n=n||(s?void 0:r))?n.allKeys:void 0;return this._trans("readwrite",i=>{const{auto:o,keyPath:l}=this.schema.primKey;if(l&&s)throw new le.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(s&&s.length!==t.length)throw new le.InvalidArgument("Arguments objects and keys must have the same length");const c=t.length;let d=l&&o?t.map(Gi(l)):t;return this.core.mutate({trans:i,type:"put",keys:s,values:d,wantResults:a}).then(({numFailures:h,results:f,lastResult:y,failures:m})=>{if(h===0)return a?f:y;throw new Oa(`${this.name}.bulkPut(): ${h} of ${c} operations failed`,m)})})}bulkDelete(t){const r=t.length;return this._trans("readwrite",n=>this.core.mutate({trans:n,type:"delete",keys:t})).then(({numFailures:n,lastResult:s,failures:a})=>{if(n===0)return s;throw new Oa(`${this.name}.bulkDelete(): ${n} of ${r} operations failed`,a)})}}function Va(e){var t={},r=function(i,o){if(o){for(var l=arguments.length,c=new Array(l-1);--l;)c[l-1]=arguments[l];return t[i].subscribe.apply(null,c),e}if(typeof i=="string")return t[i]};r.addEventType=a;for(var n=1,s=arguments.length;n<s;++n)a(arguments[n]);return r;function a(i,o,l){if(typeof i!="object"){var c;o||(o=ub),l||(l=Ne);var d={subscribers:[],fire:l,subscribe:function(h){d.subscribers.indexOf(h)===-1&&(d.subscribers.push(h),d.fire=o(d.fire,h))},unsubscribe:function(h){d.subscribers=d.subscribers.filter(function(f){return f!==h}),d.fire=d.subscribers.reduce(o,l)}};return t[i]=r[i]=d,d}Ze(c=i).forEach(function(h){var f=c[h];if(ht(f))a(h,c[h][0],c[h][1]);else{if(f!=="asap")throw new le.InvalidArgument("Invalid event config");var y=a(h,ai,function(){for(var m=arguments.length,w=new Array(m);m--;)w[m]=arguments[m];y.subscribers.forEach(function(k){Vy(function(){k.apply(null,w)})})})}})}}function ma(e,t){return Os(t).from({prototype:e}),t}function cs(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function xu(e,t){e.filter=ns(e.filter,t)}function wu(e,t,r){var n=e.replayFilter;e.replayFilter=n?()=>ns(n(),t()):t,e.justLimit=r&&!n}function bo(e,t){if(e.isPrimKey)return t.primaryKey;const r=t.getIndexByKeyPath(e.index);if(!r)throw new le.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return r}function op(e,t,r){const n=bo(e,t.schema);return t.openCursor({trans:r,values:!e.keysOnly,reverse:e.dir==="prev",unique:!!e.unique,query:{index:n,range:e.range}})}function Yi(e,t,r,n){const s=e.replayFilter?ns(e.filter,e.replayFilter()):e.filter;if(e.or){const a={},i=(o,l,c)=>{if(!s||s(l,c,f=>l.stop(f),f=>l.fail(f))){var d=l.primaryKey,h=""+d;h==="[object ArrayBuffer]"&&(h=""+new Uint8Array(d)),Mt(a,h)||(a[h]=!0,t(o,l,c))}};return Promise.all([e.or._iterate(i,r),lp(op(e,n,r),e.algorithm,i,!e.keysOnly&&e.valueMapper)])}return lp(op(e,n,r),ns(e.algorithm,s),t,!e.keysOnly&&e.valueMapper)}function lp(e,t,r,n){var s=De(n?(a,i,o)=>r(n(a),i,o):r);return e.then(a=>{if(a)return a.start(()=>{var i=()=>a.continue();t&&!t(a,o=>i=o,o=>{a.stop(o),i=Ne},o=>{a.fail(o),i=Ne})||s(a.value,a,o=>i=o),i()})})}function wt(e,t){try{const r=up(e),n=up(t);if(r!==n)return r==="Array"?1:n==="Array"?-1:r==="binary"?1:n==="binary"?-1:r==="string"?1:n==="string"?-1:r==="Date"?1:n!=="Date"?NaN:-1;switch(r){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return function(s,a){const i=s.length,o=a.length,l=i<o?i:o;for(let c=0;c<l;++c)if(s[c]!==a[c])return s[c]<a[c]?-1:1;return i===o?0:i<o?-1:1}(cp(e),cp(t));case"Array":return function(s,a){const i=s.length,o=a.length,l=i<o?i:o;for(let c=0;c<l;++c){const d=wt(s[c],a[c]);if(d!==0)return d}return i===o?0:i<o?-1:1}(e,t)}}catch{}return NaN}function up(e){const t=typeof e;if(t!=="object")return t;if(ArrayBuffer.isView(e))return"binary";const r=Vc(e);return r==="ArrayBuffer"?"binary":r}function cp(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}class xb{_read(t,r){var n=this._ctx;return n.error?n.table._trans(null,Je.bind(null,n.error)):n.table._trans("readonly",t).then(r)}_write(t){var r=this._ctx;return r.error?r.table._trans(null,Je.bind(null,r.error)):r.table._trans("readwrite",t,"locked")}_addAlgorithm(t){var r=this._ctx;r.algorithm=ns(r.algorithm,t)}_iterate(t,r){return Yi(this._ctx,t,r,this._ctx.table.core)}clone(t){var r=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return t&&_t(n,t),r._ctx=n,r}raw(){return this._ctx.valueMapper=null,this}each(t){var r=this._ctx;return this._read(n=>Yi(r,t,n,r.table.core))}count(t){return this._read(r=>{const n=this._ctx,s=n.table.core;if(cs(n,!0))return s.count({trans:r,query:{index:bo(n,s.schema),range:n.range}}).then(i=>Math.min(i,n.limit));var a=0;return Yi(n,()=>(++a,!1),r,s).then(()=>a)}).then(t)}sortBy(t,r){const n=t.split(".").reverse(),s=n[0],a=n.length-1;function i(c,d){return d?i(c[n[d]],d-1):c[s]}var o=this._ctx.dir==="next"?1:-1;function l(c,d){var h=i(c,a),f=i(d,a);return h<f?-o:h>f?o:0}return this.toArray(function(c){return c.sort(l)}).then(r)}toArray(t){return this._read(r=>{var n=this._ctx;if(n.dir==="next"&&cs(n,!0)&&n.limit>0){const{valueMapper:s}=n,a=bo(n,n.table.core.schema);return n.table.core.query({trans:r,limit:n.limit,values:!0,query:{index:a,range:n.range}}).then(({result:i})=>s?i.map(s):i)}{const s=[];return Yi(n,a=>s.push(a),r,n.table.core).then(()=>s)}},t)}offset(t){var r=this._ctx;return t<=0||(r.offset+=t,cs(r)?wu(r,()=>{var n=t;return(s,a)=>n===0||(n===1?(--n,!1):(a(()=>{s.advance(n),n=0}),!1))}):wu(r,()=>{var n=t;return()=>--n<0})),this}limit(t){return this._ctx.limit=Math.min(this._ctx.limit,t),wu(this._ctx,()=>{var r=t;return function(n,s,a){return--r<=0&&s(a),r>=0}},!0),this}until(t,r){return xu(this._ctx,function(n,s,a){return!t(n.value)||(s(a),r)}),this}first(t){return this.limit(1).toArray(function(r){return r[0]}).then(t)}last(t){return this.reverse().first(t)}filter(t){var r,n;return xu(this._ctx,function(s){return t(s.value)}),r=this._ctx,n=t,r.isMatch=ns(r.isMatch,n),this}and(t){return this.filter(t)}or(t){return new this.db.WhereClause(this._ctx.table,t,this)}reverse(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(t){var r=this._ctx;return r.keysOnly=!r.isMatch,this.each(function(n,s){t(s.key,s)})}eachUniqueKey(t){return this._ctx.unique="unique",this.eachKey(t)}eachPrimaryKey(t){var r=this._ctx;return r.keysOnly=!r.isMatch,this.each(function(n,s){t(s.primaryKey,s)})}keys(t){var r=this._ctx;r.keysOnly=!r.isMatch;var n=[];return this.each(function(s,a){n.push(a.key)}).then(function(){return n}).then(t)}primaryKeys(t){var r=this._ctx;if(r.dir==="next"&&cs(r,!0)&&r.limit>0)return this._read(s=>{var a=bo(r,r.table.core.schema);return r.table.core.query({trans:s,values:!1,limit:r.limit,query:{index:a,range:r.range}})}).then(({result:s})=>s).then(t);r.keysOnly=!r.isMatch;var n=[];return this.each(function(s,a){n.push(a.primaryKey)}).then(function(){return n}).then(t)}uniqueKeys(t){return this._ctx.unique="unique",this.keys(t)}firstKey(t){return this.limit(1).keys(function(r){return r[0]}).then(t)}lastKey(t){return this.reverse().firstKey(t)}distinct(){var t=this._ctx,r=t.index&&t.table.schema.idxByName[t.index];if(!r||!r.multi)return this;var n={};return xu(this._ctx,function(s){var a=s.primaryKey.toString(),i=Mt(n,a);return n[a]=!0,!i}),this}modify(t){var r=this._ctx;return this._write(n=>{var s;if(typeof t=="function")s=t;else{var a=Ze(t),i=a.length;s=function(w){for(var k=!1,g=0;g<i;++g){var p=a[g],x=t[p];Lr(w,p)!==x&&(ir(w,p,x),k=!0)}return k}}const o=r.table.core,{outbound:l,extractKey:c}=o.schema.primaryKey,d=this.db._options.modifyChunkSize||200,h=[];let f=0;const y=[],m=(w,k)=>{const{failures:g,numFailures:p}=k;f+=w-p;for(let x of Ze(g))h.push(g[x])};return this.clone().primaryKeys().then(w=>{const k=g=>{const p=Math.min(d,w.length-g);return o.getMany({trans:n,keys:w.slice(g,g+p),cache:"immutable"}).then(x=>{const S=[],b=[],_=l?[]:null,v=[];for(let j=0;j<p;++j){const A=x[j],R={value:Si(A),primKey:w[g+j]};s.call(R,R.value,R)!==!1&&(R.value==null?v.push(w[g+j]):l||wt(c(A),c(R.value))===0?(b.push(R.value),l&&_.push(w[g+j])):(v.push(w[g+j]),S.push(R.value)))}const E=cs(r)&&r.limit===1/0&&(typeof t!="function"||t===bu)&&{index:r.index,range:r.range};return Promise.resolve(S.length>0&&o.mutate({trans:n,type:"add",values:S}).then(j=>{for(let A in j.failures)v.splice(parseInt(A),1);m(S.length,j)})).then(()=>(b.length>0||E&&typeof t=="object")&&o.mutate({trans:n,type:"put",keys:_,values:b,criteria:E,changeSpec:typeof t!="function"&&t}).then(j=>m(b.length,j))).then(()=>(v.length>0||E&&t===bu)&&o.mutate({trans:n,type:"delete",keys:v,criteria:E}).then(j=>m(v.length,j))).then(()=>w.length>g+p&&k(g+d))})};return k(0).then(()=>{if(h.length>0)throw new Qo("Error modifying one or more objects",h,f,y);return w.length})})})}delete(){var t=this._ctx,r=t.range;return cs(t)&&(t.isPrimKey&&!yb||r.type===3)?this._write(n=>{const{primaryKey:s}=t.table.core.schema,a=r;return t.table.core.count({trans:n,query:{index:s,range:a}}).then(i=>t.table.core.mutate({trans:n,type:"deleteRange",range:a}).then(({failures:o,lastResult:l,results:c,numFailures:d})=>{if(d)throw new Qo("Could not delete some values",Object.keys(o).map(h=>o[h]),i-d);return i-d}))}):this.modify(bu)}}const bu=(e,t)=>t.value=null;function wb(e,t){return e<t?-1:e===t?0:1}function bb(e,t){return e>t?-1:e===t?0:1}function Pt(e,t,r){var n=e instanceof iv?new e.Collection(e):e;return n._ctx.error=r?new r(t):new TypeError(t),n}function ds(e){return new e.Collection(e,()=>av("")).limit(0)}function _b(e,t,r,n,s,a){for(var i=Math.min(e.length,n.length),o=-1,l=0;l<i;++l){var c=t[l];if(c!==n[l])return s(e[l],r[l])<0?e.substr(0,l)+r[l]+r.substr(l+1):s(e[l],n[l])<0?e.substr(0,l)+n[l]+r.substr(l+1):o>=0?e.substr(0,o)+t[o]+r.substr(o+1):null;s(e[l],c)<0&&(o=l)}return i<n.length&&a==="next"?e+r.substr(e.length):i<e.length&&a==="prev"?e.substr(0,r.length):o<0?null:e.substr(0,o)+n[o]+r.substr(o+1)}function Ji(e,t,r,n){var s,a,i,o,l,c,d,h=r.length;if(!r.every(w=>typeof w=="string"))return Pt(e,rv);function f(w){s=function(g){return g==="next"?p=>p.toUpperCase():p=>p.toLowerCase()}(w),a=function(g){return g==="next"?p=>p.toLowerCase():p=>p.toUpperCase()}(w),i=w==="next"?wb:bb;var k=r.map(function(g){return{lower:a(g),upper:s(g)}}).sort(function(g,p){return i(g.lower,p.lower)});o=k.map(function(g){return g.upper}),l=k.map(function(g){return g.lower}),c=w,d=w==="next"?"":n}f("next");var y=new e.Collection(e,()=>Gr(o[0],l[h-1]+n));y._ondirectionchange=function(w){f(w)};var m=0;return y._addAlgorithm(function(w,k,g){var p=w.key;if(typeof p!="string")return!1;var x=a(p);if(t(x,l,m))return!0;for(var S=null,b=m;b<h;++b){var _=_b(p,x,o[b],l[b],i,c);_===null&&S===null?m=b+1:(S===null||i(S,_)>0)&&(S=_)}return k(S!==null?function(){w.continue(S+d)}:g),!1}),y}function Gr(e,t,r,n){return{type:2,lower:e,upper:t,lowerOpen:r,upperOpen:n}}function av(e){return{type:1,lower:e,upper:e}}let iv=class{get Collection(){return this._ctx.table.db.Collection}between(t,r,n,s){n=n!==!1,s=s===!0;try{return this._cmp(t,r)>0||this._cmp(t,r)===0&&(n||s)&&(!n||!s)?ds(this):new this.Collection(this,()=>Gr(t,r,!n,!s))}catch{return Pt(this,Nr)}}equals(t){return t==null?Pt(this,Nr):new this.Collection(this,()=>av(t))}above(t){return t==null?Pt(this,Nr):new this.Collection(this,()=>Gr(t,void 0,!0))}aboveOrEqual(t){return t==null?Pt(this,Nr):new this.Collection(this,()=>Gr(t,void 0,!1))}below(t){return t==null?Pt(this,Nr):new this.Collection(this,()=>Gr(void 0,t,!1,!0))}belowOrEqual(t){return t==null?Pt(this,Nr):new this.Collection(this,()=>Gr(void 0,t))}startsWith(t){return typeof t!="string"?Pt(this,rv):this.between(t,t+Bn,!0,!0)}startsWithIgnoreCase(t){return t===""?this.startsWith(t):Ji(this,(r,n)=>r.indexOf(n[0])===0,[t],Bn)}equalsIgnoreCase(t){return Ji(this,(r,n)=>r===n[0],[t],"")}anyOfIgnoreCase(){var t=Ar.apply(ps,arguments);return t.length===0?ds(this):Ji(this,(r,n)=>n.indexOf(r)!==-1,t,"")}startsWithAnyOfIgnoreCase(){var t=Ar.apply(ps,arguments);return t.length===0?ds(this):Ji(this,(r,n)=>n.some(s=>r.indexOf(s)===0),t,Bn)}anyOf(){const t=Ar.apply(ps,arguments);let r=this._cmp;try{t.sort(r)}catch{return Pt(this,Nr)}if(t.length===0)return ds(this);const n=new this.Collection(this,()=>Gr(t[0],t[t.length-1]));n._ondirectionchange=a=>{r=a==="next"?this._ascending:this._descending,t.sort(r)};let s=0;return n._addAlgorithm((a,i,o)=>{const l=a.key;for(;r(l,t[s])>0;)if(++s,s===t.length)return i(o),!1;return r(l,t[s])===0||(i(()=>{a.continue(t[s])}),!1)}),n}notEqual(t){return this.inAnyRange([[Gc,t],[t,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const t=Ar.apply(ps,arguments);if(t.length===0)return new this.Collection(this);try{t.sort(this._ascending)}catch{return Pt(this,Nr)}const r=t.reduce((n,s)=>n?n.concat([[n[n.length-1][1],s]]):[[Gc,s]],null);return r.push([t[t.length-1],this.db._maxKey]),this.inAnyRange(r,{includeLowers:!1,includeUppers:!1})}inAnyRange(t,r){const n=this._cmp,s=this._ascending,a=this._descending,i=this._min,o=this._max;if(t.length===0)return ds(this);if(!t.every(p=>p[0]!==void 0&&p[1]!==void 0&&s(p[0],p[1])<=0))return Pt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",le.InvalidArgument);const l=!r||r.includeLowers!==!1,c=r&&r.includeUppers===!0;let d,h=s;function f(p,x){return h(p[0],x[0])}try{d=t.reduce(function(p,x){let S=0,b=p.length;for(;S<b;++S){const _=p[S];if(n(x[0],_[1])<0&&n(x[1],_[0])>0){_[0]=i(_[0],x[0]),_[1]=o(_[1],x[1]);break}}return S===b&&p.push(x),p},[]),d.sort(f)}catch{return Pt(this,Nr)}let y=0;const m=c?p=>s(p,d[y][1])>0:p=>s(p,d[y][1])>=0,w=l?p=>a(p,d[y][0])>0:p=>a(p,d[y][0])>=0;let k=m;const g=new this.Collection(this,()=>Gr(d[0][0],d[d.length-1][1],!l,!c));return g._ondirectionchange=p=>{p==="next"?(k=m,h=s):(k=w,h=a),d.sort(f)},g._addAlgorithm((p,x,S)=>{for(var b=p.key;k(b);)if(++y,y===d.length)return x(S),!1;return!!function(_){return!m(_)&&!w(_)}(b)||(this._cmp(b,d[y][1])===0||this._cmp(b,d[y][0])===0||x(()=>{h===s?p.continue(d[y][0]):p.continue(d[y][1])}),!1)}),g}startsWithAnyOf(){const t=Ar.apply(ps,arguments);return t.every(r=>typeof r=="string")?t.length===0?ds(this):this.inAnyRange(t.map(r=>[r,r+Bn])):Pt(this,"startsWithAnyOf() only works with strings")}};function hr(e){return De(function(t){return oi(t),e(t.target.error),!1})}function oi(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}const li="storagemutated",nn="x-storagemutated-1",Cn=Va(null,li);class Sb{_lock(){return Sa(!ne.global),++this._reculock,this._reculock!==1||ne.global||(ne.lockOwnerFor=this),this}_unlock(){if(Sa(!ne.global),--this._reculock==0)for(ne.global||(ne.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var t=this._blockedFuncs.shift();try{sa(t[1],t[0])}catch{}}return this}_locked(){return this._reculock&&ne.lockOwnerFor!==this}create(t){if(!this.mode)return this;const r=this.db.idbdb,n=this.db._state.dbOpenError;if(Sa(!this.idbtrans),!t&&!r)switch(n&&n.name){case"DatabaseClosedError":throw new le.DatabaseClosed(n);case"MissingAPIError":throw new le.MissingAPI(n.message,n);default:throw new le.OpenFailed(n)}if(!this.active)throw new le.TransactionInactive;return Sa(this._completion._state===null),(t=this.idbtrans=t||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):r.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=De(s=>{oi(s),this._reject(t.error)}),t.onabort=De(s=>{oi(s),this.active&&this._reject(new le.Abort(t.error)),this.active=!1,this.on("abort").fire(s)}),t.oncomplete=De(()=>{this.active=!1,this._resolve(),"mutatedParts"in t&&Cn.storagemutated.fire(t.mutatedParts)}),this}_promise(t,r,n){if(t==="readwrite"&&this.mode!=="readwrite")return Je(new le.ReadOnly("Transaction is readonly"));if(!this.active)return Je(new le.TransactionInactive);if(this._locked())return new Y((a,i)=>{this._blockedFuncs.push([()=>{this._promise(t,r,n).then(a,i)},ne])});if(n)return Nn(()=>{var a=new Y((i,o)=>{this._lock();const l=r(i,o,this);l&&l.then&&l.then(i,o)});return a.finally(()=>this._unlock()),a._lib=!0,a});var s=new Y((a,i)=>{var o=r(a,i,this);o&&o.then&&o.then(a,i)});return s._lib=!0,s}_root(){return this.parent?this.parent._root():this}waitFor(t){var r=this._root();const n=Y.resolve(t);if(r._waitingFor)r._waitingFor=r._waitingFor.then(()=>n);else{r._waitingFor=n,r._waitingQueue=[];var s=r.idbtrans.objectStore(r.storeNames[0]);(function i(){for(++r._spinCount;r._waitingQueue.length;)r._waitingQueue.shift()();r._waitingFor&&(s.get(-1/0).onsuccess=i)})()}var a=r._waitingFor;return new Y((i,o)=>{n.then(l=>r._waitingQueue.push(De(i.bind(null,l))),l=>r._waitingQueue.push(De(o.bind(null,l)))).finally(()=>{r._waitingFor===a&&(r._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new le.Abort))}table(t){const r=this._memoizedTables||(this._memoizedTables={});if(Mt(r,t))return r[t];const n=this.schema[t];if(!n)throw new le.NotFound("Table "+t+" not part of transaction");const s=new this.db.Table(t,n,this);return s.core=this.db.core.table(t),r[t]=s,s}}function Yc(e,t,r,n,s,a,i){return{name:e,keyPath:t,unique:r,multi:n,auto:s,compound:a,src:(r&&!i?"&":"")+(n?"*":"")+(s?"++":"")+ov(t)}}function ov(e){return typeof e=="string"?e:e?"["+[].join.call(e,"+")+"]":""}function lv(e,t,r){return{name:e,primKey:t,indexes:r,mappedClass:null,idxByName:Fy(r,n=>[n.name,n])}}let ui=e=>{try{return e.only([[]]),ui=()=>[[]],[[]]}catch{return ui=()=>Bn,Bn}};function Jc(e){return e==null?()=>{}:typeof e=="string"?function(t){return t.split(".").length===1?n=>n[t]:n=>Lr(n,t)}(e):t=>Lr(t,e)}function dp(e){return[].slice.call(e)}let kb=0;function Fa(e){return e==null?":id":typeof e=="string"?e:`[${e.join("+")}]`}function Nb(e,t,r){function n(l){if(l.type===3)return null;if(l.type===4)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:c,upper:d,lowerOpen:h,upperOpen:f}=l;return c===void 0?d===void 0?null:t.upperBound(d,!!f):d===void 0?t.lowerBound(c,!!h):t.bound(c,d,!!h,!!f)}const{schema:s,hasGetAll:a}=function(l,c){const d=dp(l.objectStoreNames);return{schema:{name:l.name,tables:d.map(h=>c.objectStore(h)).map(h=>{const{keyPath:f,autoIncrement:y}=h,m=ht(f),w=f==null,k={},g={name:h.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:w,compound:m,keyPath:f,autoIncrement:y,unique:!0,extractKey:Jc(f)},indexes:dp(h.indexNames).map(p=>h.index(p)).map(p=>{const{name:x,unique:S,multiEntry:b,keyPath:_}=p,v={name:x,compound:ht(_),keyPath:_,unique:S,multiEntry:b,extractKey:Jc(_)};return k[Fa(_)]=v,v}),getIndexByKeyPath:p=>k[Fa(p)]};return k[":id"]=g.primaryKey,f!=null&&(k[Fa(f)]=g.primaryKey),g})},hasGetAll:d.length>0&&"getAll"in c.objectStore(d[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(e,r),i=s.tables.map(l=>function(c){const d=c.name;return{name:d,schema:c,mutate:function({trans:h,type:f,keys:y,values:m,range:w}){return new Promise((k,g)=>{k=De(k);const p=h.objectStore(d),x=p.keyPath==null,S=f==="put"||f==="add";if(!S&&f!=="delete"&&f!=="deleteRange")throw new Error("Invalid operation type: "+f);const{length:b}=y||m||{length:1};if(y&&m&&y.length!==m.length)throw new Error("Given keys array must have same length as given values array.");if(b===0)return k({numFailures:0,failures:{},results:[],lastResult:void 0});let _;const v=[],E=[];let j=0;const A=F=>{++j,oi(F)};if(f==="deleteRange"){if(w.type===4)return k({numFailures:j,failures:E,results:[],lastResult:void 0});w.type===3?v.push(_=p.clear()):v.push(_=p.delete(n(w)))}else{const[F,V]=S?x?[m,y]:[m,null]:[y,null];if(S)for(let K=0;K<b;++K)v.push(_=V&&V[K]!==void 0?p[f](F[K],V[K]):p[f](F[K])),_.onerror=A;else for(let K=0;K<b;++K)v.push(_=p[f](F[K])),_.onerror=A}const R=F=>{const V=F.target.result;v.forEach((K,se)=>K.error!=null&&(E[se]=K.error)),k({numFailures:j,failures:E,results:f==="delete"?y:v.map(K=>K.result),lastResult:V})};_.onerror=F=>{A(F),R(F)},_.onsuccess=R})},getMany:({trans:h,keys:f})=>new Promise((y,m)=>{y=De(y);const w=h.objectStore(d),k=f.length,g=new Array(k);let p,x=0,S=0;const b=v=>{const E=v.target;g[E._pos]=E.result,++S===x&&y(g)},_=hr(m);for(let v=0;v<k;++v)f[v]!=null&&(p=w.get(f[v]),p._pos=v,p.onsuccess=b,p.onerror=_,++x);x===0&&y(g)}),get:({trans:h,key:f})=>new Promise((y,m)=>{y=De(y);const w=h.objectStore(d).get(f);w.onsuccess=k=>y(k.target.result),w.onerror=hr(m)}),query:function(h){return f=>new Promise((y,m)=>{y=De(y);const{trans:w,values:k,limit:g,query:p}=f,x=g===1/0?void 0:g,{index:S,range:b}=p,_=w.objectStore(d),v=S.isPrimaryKey?_:_.index(S.name),E=n(b);if(g===0)return y({result:[]});if(h){const j=k?v.getAll(E,x):v.getAllKeys(E,x);j.onsuccess=A=>y({result:A.target.result}),j.onerror=hr(m)}else{let j=0;const A=k||!("openKeyCursor"in v)?v.openCursor(E):v.openKeyCursor(E),R=[];A.onsuccess=F=>{const V=A.result;return V?(R.push(k?V.value:V.primaryKey),++j===g?y({result:R}):void V.continue()):y({result:R})},A.onerror=hr(m)}})}(a),openCursor:function({trans:h,values:f,query:y,reverse:m,unique:w}){return new Promise((k,g)=>{k=De(k);const{index:p,range:x}=y,S=h.objectStore(d),b=p.isPrimaryKey?S:S.index(p.name),_=m?w?"prevunique":"prev":w?"nextunique":"next",v=f||!("openKeyCursor"in b)?b.openCursor(n(x),_):b.openKeyCursor(n(x),_);v.onerror=hr(g),v.onsuccess=De(E=>{const j=v.result;if(!j)return void k(null);j.___id=++kb,j.done=!1;const A=j.continue.bind(j);let R=j.continuePrimaryKey;R&&(R=R.bind(j));const F=j.advance.bind(j),V=()=>{throw new Error("Cursor not stopped")};j.trans=h,j.stop=j.continue=j.continuePrimaryKey=j.advance=()=>{throw new Error("Cursor not started")},j.fail=De(g),j.next=function(){let K=1;return this.start(()=>K--?this.continue():this.stop()).then(()=>this)},j.start=K=>{const se=new Promise((ie,M)=>{ie=De(ie),v.onerror=hr(M),j.fail=M,j.stop=D=>{j.stop=j.continue=j.continuePrimaryKey=j.advance=V,ie(D)}}),ae=()=>{if(v.result)try{K()}catch(ie){j.fail(ie)}else j.done=!0,j.start=()=>{throw new Error("Cursor behind last entry")},j.stop()};return v.onsuccess=De(ie=>{v.onsuccess=ae,ae()}),j.continue=A,j.continuePrimaryKey=R,j.advance=F,ae(),se},k(j)},g)})},count({query:h,trans:f}){const{index:y,range:m}=h;return new Promise((w,k)=>{const g=f.objectStore(d),p=y.isPrimaryKey?g:g.index(y.name),x=n(m),S=x?p.count(x):p.count();S.onsuccess=De(b=>w(b.target.result)),S.onerror=hr(k)})}}}(l)),o={};return i.forEach(l=>o[l.name]=l),{stack:"dbcore",transaction:e.transaction.bind(e),table(l){if(!o[l])throw new Error(`Table '${l}' not found`);return o[l]},MIN_KEY:-1/0,MAX_KEY:ui(t),schema:s}}function Xc({_novip:e},t){const r=t.db,n=function(s,a,{IDBKeyRange:i,indexedDB:o},l){return{dbcore:function(d,h){return h.reduce((f,{create:y})=>({...f,...y(f)}),d)}(Nb(a,i,l),s.dbcore)}}(e._middlewares,r,e._deps,t);e.core=n.dbcore,e.tables.forEach(s=>{const a=s.name;e.core.schema.tables.some(i=>i.name===a)&&(s.core=e.core.table(a),e[a]instanceof e.Table&&(e[a].core=s.core))})}function el({_novip:e},t,r,n){r.forEach(s=>{const a=n[s];t.forEach(i=>{const o=vf(i,s);(!o||"value"in o&&o.value===void 0)&&(i===e.Transaction.prototype||i instanceof e.Transaction?Or(i,s,{get(){return this.table(s)},set(l){Ly(this,s,{value:l,writable:!0,configurable:!0,enumerable:!0})}}):i[s]=new e.Table(s,a))})})}function ed({_novip:e},t){t.forEach(r=>{for(let n in r)r[n]instanceof e.Table&&delete r[n]})}function Eb(e,t){return e._cfg.version-t._cfg.version}function Cb(e,t,r,n){const s=e._dbSchema,a=e._createTransaction("readwrite",e._storeNames,s);a.create(r),a._completion.catch(n);const i=a._reject.bind(a),o=ne.transless||ne;Nn(()=>{ne.trans=a,ne.transless=o,t===0?(Ze(s).forEach(l=>{_u(r,l,s[l].primKey,s[l].indexes)}),Xc(e,r),Y.follow(()=>e.on.populate.fire(a)).catch(i)):function({_novip:l},c,d,h){const f=[],y=l._versions;let m=l._dbSchema=rd(l,l.idbdb,h),w=!1;const k=y.filter(p=>p._cfg.version>=c);function g(){return f.length?Y.resolve(f.shift()(d.idbtrans)).then(g):Y.resolve()}return k.forEach(p=>{f.push(()=>{const x=m,S=p._cfg.dbschema;nd(l,x,h),nd(l,S,h),m=l._dbSchema=S;const b=uv(x,S);b.add.forEach(v=>{_u(h,v[0],v[1].primKey,v[1].indexes)}),b.change.forEach(v=>{if(v.recreate)throw new le.Upgrade("Not yet support for changing primary key");{const E=h.objectStore(v.name);v.add.forEach(j=>td(E,j)),v.change.forEach(j=>{E.deleteIndex(j.name),td(E,j)}),v.del.forEach(j=>E.deleteIndex(j))}});const _=p._cfg.contentUpgrade;if(_&&p._cfg.version>c){Xc(l,h),d._memoizedTables={},w=!0;let v=$y(S);b.del.forEach(R=>{v[R]=x[R]}),ed(l,[l.Transaction.prototype]),el(l,[l.Transaction.prototype],Ze(v),v),d.schema=v;const E=xf(_);let j;E&&na();const A=Y.follow(()=>{if(j=_(d),j&&E){var R=zr.bind(null,null);j.then(R,R)}});return j&&typeof j.then=="function"?Y.resolve(j):A.then(()=>j)}}),f.push(x=>{(!w||!gb)&&function(S,b){[].slice.call(b.db.objectStoreNames).forEach(_=>S[_]==null&&b.db.deleteObjectStore(_))}(p._cfg.dbschema,x),ed(l,[l.Transaction.prototype]),el(l,[l.Transaction.prototype],l._storeNames,l._dbSchema),d.schema=l._dbSchema})}),g().then(()=>{var p,x;x=h,Ze(p=m).forEach(S=>{x.db.objectStoreNames.contains(S)||_u(x,S,p[S].primKey,p[S].indexes)})})}(e,t,a,r).catch(i)})}function uv(e,t){const r={del:[],add:[],change:[]};let n;for(n in e)t[n]||r.del.push(n);for(n in t){const s=e[n],a=t[n];if(s){const i={name:n,def:a,recreate:!1,del:[],add:[],change:[]};if(""+(s.primKey.keyPath||"")!=""+(a.primKey.keyPath||"")||s.primKey.auto!==a.primKey.auto&&!Rl)i.recreate=!0,r.change.push(i);else{const o=s.idxByName,l=a.idxByName;let c;for(c in o)l[c]||i.del.push(c);for(c in l){const d=o[c],h=l[c];d?d.src!==h.src&&i.change.push(h):i.add.push(h)}(i.del.length>0||i.add.length>0||i.change.length>0)&&r.change.push(i)}}else r.add.push([n,a])}return r}function _u(e,t,r,n){const s=e.db.createObjectStore(t,r.keyPath?{keyPath:r.keyPath,autoIncrement:r.auto}:{autoIncrement:r.auto});return n.forEach(a=>td(s,a)),s}function td(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function rd(e,t,r){const n={};return qo(t.objectStoreNames,0).forEach(s=>{const a=r.objectStore(s);let i=a.keyPath;const o=Yc(ov(i),i||"",!1,!1,!!a.autoIncrement,i&&typeof i!="string",!0),l=[];for(let d=0;d<a.indexNames.length;++d){const h=a.index(a.indexNames[d]);i=h.keyPath;var c=Yc(h.name,i,!!h.unique,!!h.multiEntry,!1,i&&typeof i!="string",!1);l.push(c)}n[s]=lv(s,o,l)}),n}function nd({_novip:e},t,r){const n=r.db.objectStoreNames;for(let s=0;s<n.length;++s){const a=n[s],i=r.objectStore(a);e._hasGetAll="getAll"in i;for(let o=0;o<i.indexNames.length;++o){const l=i.indexNames[o],c=i.index(l).keyPath,d=typeof c=="string"?c:"["+qo(c).join("+")+"]";if(t[a]){const h=t[a].idxByName[d];h&&(h.name=l,delete t[a].idxByName[d],t[a].idxByName[l]=h)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&Ae.WorkerGlobalScope&&Ae instanceof Ae.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}class jb{_parseStoresSpec(t,r){Ze(t).forEach(n=>{if(t[n]!==null){var s=t[n].split(",").map((i,o)=>{const l=(i=i.trim()).replace(/([&*]|\+\+)/g,""),c=/^\[/.test(l)?l.match(/^\[(.*)\]$/)[1].split("+"):l;return Yc(l,c||null,/\&/.test(i),/\*/.test(i),/\+\+/.test(i),ht(c),o===0)}),a=s.shift();if(a.multi)throw new le.Schema("Primary key cannot be multi-valued");s.forEach(i=>{if(i.auto)throw new le.Schema("Only primary key can be marked as autoIncrement (++)");if(!i.keyPath)throw new le.Schema("Index must have a name and cannot be an empty string")}),r[n]=lv(n,a,s)}})}stores(t){const r=this.db;this._cfg.storesSource=this._cfg.storesSource?_t(this._cfg.storesSource,t):t;const n=r._versions,s={};let a={};return n.forEach(i=>{_t(s,i._cfg.storesSource),a=i._cfg.dbschema={},i._parseStoresSpec(s,a)}),r._dbSchema=a,ed(r,[r._allTables,r,r.Transaction.prototype]),el(r,[r._allTables,r,r.Transaction.prototype,this._cfg.tables],Ze(a),a),r._storeNames=Ze(a),this}upgrade(t){return this._cfg.contentUpgrade=_f(this._cfg.contentUpgrade||Ne,t),this}}function Ef(e,t){let r=e._dbNamesDB;return r||(r=e._dbNamesDB=new Gn(Ol,{addons:[],indexedDB:e,IDBKeyRange:t}),r.version(1).stores({dbnames:"name"})),r.table("dbnames")}function Cf(e){return e&&typeof e.databases=="function"}function sd(e){return Nn(function(){return ne.letThrough=!0,e()})}function Tb(){var e;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(t){var r=function(){return indexedDB.databases().finally(t)};e=setInterval(r,100),r()}).finally(function(){return clearInterval(e)}):Promise.resolve()}function Ab(e){const t=e._state,{indexedDB:r}=e._deps;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then(()=>t.dbOpenError?Je(t.dbOpenError):e);kr&&(t.openCanceller._stackHolder=os()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;const n=t.openCanceller;function s(){if(t.openCanceller!==n)throw new le.DatabaseClosed("db.open() was cancelled")}let a=t.dbReadyResolve,i=null,o=!1;const l=()=>new Y((c,d)=>{if(s(),!r)throw new le.MissingAPI;const h=e.name,f=t.autoSchema?r.open(h):r.open(h,Math.round(10*e.verno));if(!f)throw new le.MissingAPI;f.onerror=hr(d),f.onblocked=De(e._fireOnBlocked),f.onupgradeneeded=De(y=>{if(i=f.transaction,t.autoSchema&&!e._options.allowEmptyDB){f.onerror=oi,i.abort(),f.result.close();const w=r.deleteDatabase(h);w.onsuccess=w.onerror=De(()=>{d(new le.NoSuchDatabase(`Database ${h} doesnt exist`))})}else{i.onerror=hr(d);var m=y.oldVersion>Math.pow(2,62)?0:y.oldVersion;o=m<1,e._novip.idbdb=f.result,Cb(e,m/10,i,d)}},d),f.onsuccess=De(()=>{i=null;const y=e._novip.idbdb=f.result,m=qo(y.objectStoreNames);if(m.length>0)try{const k=y.transaction((w=m).length===1?w[0]:w,"readonly");t.autoSchema?function({_novip:g},p,x){g.verno=p.version/10;const S=g._dbSchema=rd(0,p,x);g._storeNames=qo(p.objectStoreNames,0),el(g,[g._allTables],Ze(S),S)}(e,y,k):(nd(e,e._dbSchema,k),function(g,p){const x=uv(rd(0,g.idbdb,p),g._dbSchema);return!(x.add.length||x.change.some(S=>S.add.length||S.change.length))}(e,k)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),Xc(e,k)}catch{}var w;Ma.push(e),y.onversionchange=De(k=>{t.vcFired=!0,e.on("versionchange").fire(k)}),y.onclose=De(k=>{e.on("close").fire(k)}),o&&function({indexedDB:k,IDBKeyRange:g},p){!Cf(k)&&p!==Ol&&Ef(k,g).put({name:p}).catch(Ne)}(e._deps,h),c()},d)}).catch(c=>c&&c.name==="UnknownError"&&t.PR1398_maxLoop>0?(t.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),l()):Y.reject(c));return Y.race([n,(typeof navigator>"u"?Y.resolve():Tb()).then(l)]).then(()=>(s(),t.onReadyBeingFired=[],Y.resolve(sd(()=>e.on.ready.fire(e.vip))).then(function c(){if(t.onReadyBeingFired.length>0){let d=t.onReadyBeingFired.reduce(_f,Ne);return t.onReadyBeingFired=[],Y.resolve(sd(()=>d(e.vip))).then(c)}}))).finally(()=>{t.onReadyBeingFired=null,t.isBeingOpened=!1}).then(()=>e).catch(c=>{t.dbOpenError=c;try{i&&i.abort()}catch{}return n===t.openCanceller&&e._close(),Je(c)}).finally(()=>{t.openComplete=!0,a()})}function ad(e){var t=a=>e.next(a),r=s(t),n=s(a=>e.throw(a));function s(a){return i=>{var o=a(i),l=o.value;return o.done?l:l&&typeof l.then=="function"?l.then(r,n):ht(l)?Promise.all(l).then(r,n):r(l)}}return s(t)()}function Ib(e,t,r){var n=arguments.length;if(n<2)throw new le.InvalidArgument("Too few arguments");for(var s=new Array(n-1);--n;)s[n-1]=arguments[n];return r=s.pop(),[e,Uy(s),r]}function cv(e,t,r,n,s){return Y.resolve().then(()=>{const a=ne.transless||ne,i=e._createTransaction(t,r,e._dbSchema,n),o={trans:i,transless:a};if(n)i.idbtrans=n.idbtrans;else try{i.create(),e._state.PR1398_maxLoop=3}catch(h){return h.name===bf.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(()=>cv(e,t,r,null,s))):Je(h)}const l=xf(s);let c;l&&na();const d=Y.follow(()=>{if(c=s.call(i,i),c)if(l){var h=zr.bind(null,null);c.then(h,h)}else typeof c.next=="function"&&typeof c.throw=="function"&&(c=ad(c))},o);return(c&&typeof c.then=="function"?Y.resolve(c).then(h=>i.active?h:Je(new le.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):d.then(()=>c)).then(h=>(n&&i._resolve(),i._completion.then(()=>h))).catch(h=>(i._reject(h),Je(h)))})}function Xi(e,t,r){const n=ht(e)?e.slice():[e];for(let s=0;s<r;++s)n.push(t);return n}const Pb={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return{...e,table(t){const r=e.table(t),{schema:n}=r,s={},a=[];function i(d,h,f){const y=Fa(d),m=s[y]=s[y]||[],w=d==null?0:typeof d=="string"?1:d.length,k=h>0,g={...f,isVirtual:k,keyTail:h,keyLength:w,extractKey:Jc(d),unique:!k&&f.unique};return m.push(g),g.isPrimaryKey||a.push(g),w>1&&i(w===2?d[0]:d.slice(0,w-1),h+1,f),m.sort((p,x)=>p.keyTail-x.keyTail),g}const o=i(n.primaryKey.keyPath,0,n.primaryKey);s[":id"]=[o];for(const d of n.indexes)i(d.keyPath,0,d);function l(d){const h=d.query.index;return h.isVirtual?{...d,query:{index:h,range:(f=d.query.range,y=h.keyTail,{type:f.type===1?2:f.type,lower:Xi(f.lower,f.lowerOpen?e.MAX_KEY:e.MIN_KEY,y),lowerOpen:!0,upper:Xi(f.upper,f.upperOpen?e.MIN_KEY:e.MAX_KEY,y),upperOpen:!0})}}:d;var f,y}return{...r,schema:{...n,primaryKey:o,indexes:a,getIndexByKeyPath:function(d){const h=s[Fa(d)];return h&&h[0]}},count:d=>r.count(l(d)),query:d=>r.query(l(d)),openCursor(d){const{keyTail:h,isVirtual:f,keyLength:y}=d.query.index;return f?r.openCursor(l(d)).then(m=>m&&function(w){return Object.create(w,{continue:{value:function(g){g!=null?w.continue(Xi(g,d.reverse?e.MAX_KEY:e.MIN_KEY,h)):d.unique?w.continue(w.key.slice(0,y).concat(d.reverse?e.MIN_KEY:e.MAX_KEY,h)):w.continue()}},continuePrimaryKey:{value(g,p){w.continuePrimaryKey(Xi(g,e.MAX_KEY,h),p)}},primaryKey:{get:()=>w.primaryKey},key:{get(){const g=w.key;return y===1?g[0]:g.slice(0,y)}},value:{get:()=>w.value}})}(m)):r.openCursor(d)}}}}}};function jf(e,t,r,n){return r=r||{},n=n||"",Ze(e).forEach(s=>{if(Mt(t,s)){var a=e[s],i=t[s];if(typeof a=="object"&&typeof i=="object"&&a&&i){const o=Vc(a);o!==Vc(i)?r[n+s]=t[s]:o==="Object"?jf(a,i,r,n+s+"."):a!==i&&(r[n+s]=t[s])}else a!==i&&(r[n+s]=t[s])}else r[n+s]=void 0}),Ze(t).forEach(s=>{Mt(e,s)||(r[n+s]=t[s])}),r}const Db={stack:"dbcore",name:"HooksMiddleware",level:2,create:e=>({...e,table(t){const r=e.table(t),{primaryKey:n}=r.schema;return{...r,mutate(a){const i=ne.trans,{deleting:o,creating:l,updating:c}=i.table(t).hook;switch(a.type){case"add":if(l.fire===Ne)break;return i._promise("readwrite",()=>d(a),!0);case"put":if(l.fire===Ne&&c.fire===Ne)break;return i._promise("readwrite",()=>d(a),!0);case"delete":if(o.fire===Ne)break;return i._promise("readwrite",()=>d(a),!0);case"deleteRange":if(o.fire===Ne)break;return i._promise("readwrite",()=>function(f){return h(f.trans,f.range,1e4)}(a),!0)}return r.mutate(a);function d(f){const y=ne.trans,m=f.keys||function(w,k){return k.type==="delete"?k.keys:k.keys||k.values.map(w.extractKey)}(n,f);if(!m)throw new Error("Keys missing");return(f=f.type==="add"||f.type==="put"?{...f,keys:m}:{...f}).type!=="delete"&&(f.values=[...f.values]),f.keys&&(f.keys=[...f.keys]),function(w,k,g){return k.type==="add"?Promise.resolve([]):w.getMany({trans:k.trans,keys:g,cache:"immutable"})}(r,f,m).then(w=>{const k=m.map((g,p)=>{const x=w[p],S={onerror:null,onsuccess:null};if(f.type==="delete")o.fire.call(S,g,x,y);else if(f.type==="add"||x===void 0){const b=l.fire.call(S,g,f.values[p],y);g==null&&b!=null&&(g=b,f.keys[p]=g,n.outbound||ir(f.values[p],n.keyPath,g))}else{const b=jf(x,f.values[p]),_=c.fire.call(S,b,g,x,y);if(_){const v=f.values[p];Object.keys(_).forEach(E=>{Mt(v,E)?v[E]=_[E]:ir(v,E,_[E])})}}return S});return r.mutate(f).then(({failures:g,results:p,numFailures:x,lastResult:S})=>{for(let b=0;b<m.length;++b){const _=p?p[b]:m[b],v=k[b];_==null?v.onerror&&v.onerror(g[b]):v.onsuccess&&v.onsuccess(f.type==="put"&&w[b]?f.values[b]:_)}return{failures:g,results:p,numFailures:x,lastResult:S}}).catch(g=>(k.forEach(p=>p.onerror&&p.onerror(g)),Promise.reject(g)))})}function h(f,y,m){return r.query({trans:f,values:!1,query:{index:n,range:y},limit:m}).then(({result:w})=>d({type:"delete",keys:w,trans:f}).then(k=>k.numFailures>0?Promise.reject(k.failures[0]):w.length<m?{failures:[],numFailures:0,lastResult:void 0}:h(f,{...y,lower:w[w.length-1],lowerOpen:!0},m)))}}}}})};function dv(e,t,r){try{if(!t||t.keys.length<e.length)return null;const n=[];for(let s=0,a=0;s<t.keys.length&&a<e.length;++s)wt(t.keys[s],e[a])===0&&(n.push(r?Si(t.values[s]):t.values[s]),++a);return n.length===e.length?n:null}catch{return null}}const Rb={stack:"dbcore",level:-1,create:e=>({table:t=>{const r=e.table(t);return{...r,getMany:n=>{if(!n.cache)return r.getMany(n);const s=dv(n.keys,n.trans._cache,n.cache==="clone");return s?Y.resolve(s):r.getMany(n).then(a=>(n.trans._cache={keys:n.keys,values:n.cache==="clone"?Si(a):a},a))},mutate:n=>(n.type!=="add"&&(n.trans._cache=null),r.mutate(n))}}})};function Tf(e){return!("from"in e)}const Tr=function(e,t){if(!this){const r=new Tr;return e&&"d"in e&&_t(r,e),r}_t(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0})};function ci(e,t,r){const n=wt(t,r);if(isNaN(n))return;if(n>0)throw RangeError();if(Tf(e))return _t(e,{from:t,to:r,d:1});const s=e.l,a=e.r;if(wt(r,e.from)<0)return s?ci(s,t,r):e.l={from:t,to:r,d:1,l:null,r:null},fp(e);if(wt(t,e.to)>0)return a?ci(a,t,r):e.r={from:t,to:r,d:1,l:null,r:null},fp(e);wt(t,e.from)<0&&(e.from=t,e.l=null,e.d=a?a.d+1:1),wt(r,e.to)>0&&(e.to=r,e.r=null,e.d=e.l?e.l.d+1:1);const i=!e.r;s&&!e.l&&tl(e,s),a&&i&&tl(e,a)}function tl(e,t){Tf(t)||function r(n,{from:s,to:a,l:i,r:o}){ci(n,s,a),i&&r(n,i),o&&r(n,o)}(e,t)}function Ob(e,t){const r=id(t);let n=r.next();if(n.done)return!1;let s=n.value;const a=id(e);let i=a.next(s.from),o=i.value;for(;!n.done&&!i.done;){if(wt(o.from,s.to)<=0&&wt(o.to,s.from)>=0)return!0;wt(s.from,o.from)<0?s=(n=r.next(o.from)).value:o=(i=a.next(s.from)).value}return!1}function id(e){let t=Tf(e)?null:{s:0,n:e};return{next(r){const n=arguments.length>0;for(;t;)switch(t.s){case 0:if(t.s=1,n)for(;t.n.l&&wt(r,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!n||wt(r,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function fp(e){var t,r;const n=(((t=e.r)===null||t===void 0?void 0:t.d)||0)-(((r=e.l)===null||r===void 0?void 0:r.d)||0),s=n>1?"r":n<-1?"l":"";if(s){const a=s==="r"?"l":"r",i={...e},o=e[s];e.from=o.from,e.to=o.to,e[s]=o[s],i[s]=o[a],e[a]=i,i.d=hp(i)}e.d=hp(e)}function hp({r:e,l:t}){return(e?t?Math.max(e.d,t.d):e.d:t?t.d:0)+1}Ws(Tr.prototype,{add(e){return tl(this,e),this},addKey(e){return ci(this,e,e),this},addKeys(e){return e.forEach(t=>ci(this,t,t)),this},[Fc](){return id(this)}});const Lb={stack:"dbcore",level:0,create:e=>{const t=e.schema.name,r=new Tr(e.MIN_KEY,e.MAX_KEY);return{...e,table:n=>{const s=e.table(n),{schema:a}=s,{primaryKey:i}=a,{extractKey:o,outbound:l}=i,c={...s,mutate:f=>{const y=f.trans,m=y.mutatedParts||(y.mutatedParts={}),w=_=>{const v=`idb://${t}/${n}/${_}`;return m[v]||(m[v]=new Tr)},k=w(""),g=w(":dels"),{type:p}=f;let[x,S]=f.type==="deleteRange"?[f.range]:f.type==="delete"?[f.keys]:f.values.length<50?[[],f.values]:[];const b=f.trans._cache;return s.mutate(f).then(_=>{if(ht(x)){p!=="delete"&&(x=_.results),k.addKeys(x);const v=dv(x,b);v||p==="add"||g.addKeys(x),(v||S)&&function(E,j,A,R){function F(V){const K=E(V.name||"");function se(ie){return ie!=null?V.extractKey(ie):null}const ae=ie=>V.multiEntry&&ht(ie)?ie.forEach(M=>K.addKey(M)):K.addKey(ie);(A||R).forEach((ie,M)=>{const D=A&&se(A[M]),U=R&&se(R[M]);wt(D,U)!==0&&(D!=null&&ae(D),U!=null&&ae(U))})}j.indexes.forEach(F)}(w,a,v,S)}else if(x){const v={from:x.lower,to:x.upper};g.add(v),k.add(v)}else k.add(r),g.add(r),a.indexes.forEach(v=>w(v.name).add(r));return _})}},d=({query:{index:f,range:y}})=>{var m,w;return[f,new Tr((m=y.lower)!==null&&m!==void 0?m:e.MIN_KEY,(w=y.upper)!==null&&w!==void 0?w:e.MAX_KEY)]},h={get:f=>[i,new Tr(f.key)],getMany:f=>[i,new Tr().addKeys(f.keys)],count:d,query:d,openCursor:d};return Ze(h).forEach(f=>{c[f]=function(y){const{subscr:m}=ne;if(m){const w=S=>{const b=`idb://${t}/${n}/${S}`;return m[b]||(m[b]=new Tr)},k=w(""),g=w(":dels"),[p,x]=h[f](y);if(w(p.name||"").add(x),!p.isPrimaryKey){if(f!=="count"){const S=f==="query"&&l&&y.values&&s.query({...y,values:!1});return s[f].apply(this,arguments).then(b=>{if(f==="query"){if(l&&y.values)return S.then(({result:v})=>(k.addKeys(v),b));const _=y.values?b.result.map(o):b.result;y.values?k.addKeys(_):g.addKeys(_)}else if(f==="openCursor"){const _=b,v=y.values;return _&&Object.create(_,{key:{get:()=>(g.addKey(_.primaryKey),_.key)},primaryKey:{get(){const E=_.primaryKey;return g.addKey(E),E}},value:{get:()=>(v&&k.addKey(_.primaryKey),_.value)}})}return b})}g.add(r)}}return s[f].apply(this,arguments)}}),c}}}};class Gn{constructor(t,r){this._middlewares={},this.verno=0;const n=Gn.dependencies;this._options=r={addons:Gn.addons,autoOpen:!0,indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange,...r},this._deps={indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange};const{addons:s}=r;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const a={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Ne,dbReadyPromise:null,cancelOpen:Ne,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var i;a.dbReadyPromise=new Y(o=>{a.dbReadyResolve=o}),a.openCanceller=new Y((o,l)=>{a.cancelOpen=l}),this._state=a,this.name=t,this.on=Va(this,"populate","blocked","versionchange","close",{ready:[_f,Ne]}),this.on.ready.subscribe=My(this.on.ready.subscribe,o=>(l,c)=>{Gn.vip(()=>{const d=this._state;if(d.openComplete)d.dbOpenError||Y.resolve().then(l),c&&o(l);else if(d.onReadyBeingFired)d.onReadyBeingFired.push(l),c&&o(l);else{o(l);const h=this;c||o(function f(){h.on.ready.unsubscribe(l),h.on.ready.unsubscribe(f)})}})}),this.Collection=(i=this,ma(xb.prototype,function(o,l){this.db=i;let c=sv,d=null;if(l)try{c=l()}catch(m){d=m}const h=o._ctx,f=h.table,y=f.hook.reading.fire;this._ctx={table:f,index:h.index,isPrimKey:!h.index||f.schema.primKey.keyPath&&h.index===f.schema.primKey.name,range:c,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:d,or:h.or,valueMapper:y!==ai?y:null}})),this.Table=function(o){return ma(vb.prototype,function(l,c,d){this.db=o,this._tx=d,this.name=l,this.schema=c,this.hook=o._allTables[l]?o._allTables[l].hook:Va(null,{creating:[ib,Ne],reading:[ab,ai],updating:[lb,Ne],deleting:[ob,Ne]})})}(this),this.Transaction=function(o){return ma(Sb.prototype,function(l,c,d,h,f){this.db=o,this.mode=l,this.storeNames=c,this.schema=d,this.chromeTransactionDurability=h,this.idbtrans=null,this.on=Va(this,"complete","error","abort"),this.parent=f||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Y((y,m)=>{this._resolve=y,this._reject=m}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},y=>{var m=this.active;return this.active=!1,this.on.error.fire(y),this.parent?this.parent._reject(y):m&&this.idbtrans&&this.idbtrans.abort(),Je(y)})})}(this),this.Version=function(o){return ma(jb.prototype,function(l){this.db=o,this._cfg={version:l,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}(this),this.WhereClause=function(o){return ma(iv.prototype,function(l,c,d){this.db=o,this._ctx={table:l,index:c===":id"?null:c,or:d};const h=o._deps.indexedDB;if(!h)throw new le.MissingAPI;this._cmp=this._ascending=h.cmp.bind(h),this._descending=(f,y)=>h.cmp(y,f),this._max=(f,y)=>h.cmp(f,y)>0?f:y,this._min=(f,y)=>h.cmp(f,y)<0?f:y,this._IDBKeyRange=o._deps.IDBKeyRange})}(this),this.on("versionchange",o=>{o.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()}),this.on("blocked",o=>{!o.newVersion||o.newVersion<o.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${o.oldVersion/10}`)}),this._maxKey=ui(r.IDBKeyRange),this._createTransaction=(o,l,c,d)=>new this.Transaction(o,l,c,this._options.chromeTransactionDurability,d),this._fireOnBlocked=o=>{this.on("blocked").fire(o),Ma.filter(l=>l.name===this.name&&l!==this&&!l._state.vcFired).map(l=>l.on("versionchange").fire(o))},this.use(Pb),this.use(Db),this.use(Lb),this.use(Rb),this.vip=Object.create(this,{_vip:{value:!0}}),s.forEach(o=>o(this))}version(t){if(isNaN(t)||t<.1)throw new le.Type("Given version is not a positive number");if(t=Math.round(10*t)/10,this.idbdb||this._state.isBeingOpened)throw new le.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);const r=this._versions;var n=r.filter(s=>s._cfg.version===t)[0];return n||(n=new this.Version(t),r.push(n),r.sort(Eb),n.stores({}),this._state.autoSchema=!1,n)}_whenReady(t){return this.idbdb&&(this._state.openComplete||ne.letThrough||this._vip)?t():new Y((r,n)=>{if(this._state.openComplete)return n(new le.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void n(new le.DatabaseClosed);this.open().catch(Ne)}this._state.dbReadyPromise.then(r,n)}).then(t)}use({stack:t,create:r,level:n,name:s}){s&&this.unuse({stack:t,name:s});const a=this._middlewares[t]||(this._middlewares[t]=[]);return a.push({stack:t,create:r,level:n??10,name:s}),a.sort((i,o)=>i.level-o.level),this}unuse({stack:t,name:r,create:n}){return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter(s=>n?s.create!==n:!!r&&s.name!==r)),this}open(){return Ab(this)}_close(){const t=this._state,r=Ma.indexOf(this);if(r>=0&&Ma.splice(r,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}t.dbReadyPromise=new Y(n=>{t.dbReadyResolve=n}),t.openCanceller=new Y((n,s)=>{t.cancelOpen=s})}close(){this._close();const t=this._state;this._options.autoOpen=!1,t.dbOpenError=new le.DatabaseClosed,t.isBeingOpened&&t.cancelOpen(t.dbOpenError)}delete(){const t=arguments.length>0,r=this._state;return new Y((n,s)=>{const a=()=>{this.close();var i=this._deps.indexedDB.deleteDatabase(this.name);i.onsuccess=De(()=>{(function({indexedDB:o,IDBKeyRange:l},c){!Cf(o)&&c!==Ol&&Ef(o,l).delete(c).catch(Ne)})(this._deps,this.name),n()}),i.onerror=hr(s),i.onblocked=this._fireOnBlocked};if(t)throw new le.InvalidArgument("Arguments not allowed in db.delete()");r.isBeingOpened?r.dbReadyPromise.then(a):a()})}backendDB(){return this.idbdb}isOpen(){return this.idbdb!==null}hasBeenClosed(){const t=this._state.dbOpenError;return t&&t.name==="DatabaseClosed"}hasFailed(){return this._state.dbOpenError!==null}dynamicallyOpened(){return this._state.autoSchema}get tables(){return Ze(this._allTables).map(t=>this._allTables[t])}transaction(){const t=Ib.apply(this,arguments);return this._transaction.apply(this,t)}_transaction(t,r,n){let s=ne.trans;s&&s.db===this&&t.indexOf("!")===-1||(s=null);const a=t.indexOf("?")!==-1;let i,o;t=t.replace("!","").replace("?","");try{if(o=r.map(c=>{var d=c instanceof this.Table?c.name:c;if(typeof d!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return d}),t=="r"||t===yu)i=yu;else{if(t!="rw"&&t!=vu)throw new le.InvalidArgument("Invalid transaction mode: "+t);i=vu}if(s){if(s.mode===yu&&i===vu){if(!a)throw new le.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");s=null}s&&o.forEach(c=>{if(s&&s.storeNames.indexOf(c)===-1){if(!a)throw new le.SubTransaction("Table "+c+" not included in parent transaction.");s=null}}),a&&s&&!s.active&&(s=null)}}catch(c){return s?s._promise(null,(d,h)=>{h(c)}):Je(c)}const l=cv.bind(null,this,i,o,s,n);return s?s._promise(i,l,"lock"):ne.trans?sa(ne.transless,()=>this._whenReady(l)):this._whenReady(l)}table(t){if(!Mt(this._allTables,t))throw new le.InvalidTable(`Table ${t} does not exist`);return this._allTables[t]}}const Mb=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";class Vb{constructor(t){this._subscribe=t}subscribe(t,r,n){return this._subscribe(t&&typeof t!="function"?t:{next:t,error:r,complete:n})}[Mb](){return this}}function fv(e,t){return Ze(t).forEach(r=>{tl(e[r]||(e[r]=new Tr),t[r])}),e}function Fb(e){let t,r=!1;const n=new Vb(s=>{const a=xf(e);let i=!1,o={},l={};const c={get closed(){return i},unsubscribe:()=>{i=!0,Cn.storagemutated.unsubscribe(y)}};s.start&&s.start(c);let d=!1,h=!1;function f(){return Ze(l).some(w=>o[w]&&Ob(o[w],l[w]))}const y=w=>{fv(o,w),f()&&m()},m=()=>{if(d||i)return;o={};const w={},k=function(g){a&&na();const p=()=>Nn(e,{subscr:g,trans:null}),x=ne.trans?sa(ne.transless,p):p();return a&&x.then(zr,zr),x}(w);h||(Cn(li,y),h=!0),d=!0,Promise.resolve(k).then(g=>{r=!0,t=g,d=!1,i||(f()?m():(o={},l=w,s.next&&s.next(g)))},g=>{d=!1,r=!1,s.error&&s.error(g),c.unsubscribe()})};return m(),c});return n.hasValue=()=>r,n.getValue=()=>t,n}let od;try{od={indexedDB:Ae.indexedDB||Ae.mozIndexedDB||Ae.webkitIndexedDB||Ae.msIndexedDB,IDBKeyRange:Ae.IDBKeyRange||Ae.webkitIDBKeyRange}}catch{od={indexedDB:null,IDBKeyRange:null}}const Ln=Gn;function _o(e){let t=Dr;try{Dr=!0,Cn.storagemutated.fire(e)}finally{Dr=t}}Ws(Ln,{...go,delete:e=>new Ln(e,{addons:[]}).delete(),exists:e=>new Ln(e,{addons:[]}).open().then(t=>(t.close(),!0)).catch("NoSuchDatabaseError",()=>!1),getDatabaseNames(e){try{return function({indexedDB:t,IDBKeyRange:r}){return Cf(t)?Promise.resolve(t.databases()).then(n=>n.map(s=>s.name).filter(s=>s!==Ol)):Ef(t,r).toCollection().primaryKeys()}(Ln.dependencies).then(e)}catch{return Je(new le.MissingAPI)}},defineClass:()=>function(e){_t(this,e)},ignoreTransaction:e=>ne.trans?sa(ne.transless,e):e(),vip:sd,async:function(e){return function(){try{var t=ad(e.apply(this,arguments));return t&&typeof t.then=="function"?t:Y.resolve(t)}catch(r){return Je(r)}}},spawn:function(e,t,r){try{var n=ad(e.apply(r,t||[]));return n&&typeof n.then=="function"?n:Y.resolve(n)}catch(s){return Je(s)}},currentTransaction:{get:()=>ne.trans||null},waitFor:function(e,t){const r=Y.resolve(typeof e=="function"?Ln.ignoreTransaction(e):e).timeout(t||6e4);return ne.trans?ne.trans.waitFor(r):r},Promise:Y,debug:{get:()=>kr,set:e=>{By(e,e==="dexie"?()=>!0:nv)}},derive:Os,extend:_t,props:Ws,override:My,Events:Va,on:Cn,liveQuery:Fb,extendObservabilitySet:fv,getByKeyPath:Lr,setByKeyPath:ir,delByKeyPath:function(e,t){typeof t=="string"?ir(e,t,void 0):"length"in t&&[].map.call(t,function(r){ir(e,r,void 0)})},shallowClone:$y,deepClone:Si,getObjectDiff:jf,cmp:wt,asap:Vy,minKey:Gc,addons:[],connections:Ma,errnames:bf,dependencies:od,semVer:ip,version:ip.split(".").map(e=>parseInt(e)).reduce((e,t,r)=>e+t/Math.pow(10,2*r))}),Ln.maxKey=ui(Ln.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Cn(li,e=>{if(!Dr){let t;Rl?(t=document.createEvent("CustomEvent"),t.initCustomEvent(nn,!0,!0,e)):t=new CustomEvent(nn,{detail:e}),Dr=!0,dispatchEvent(t),Dr=!1}}),addEventListener(nn,({detail:e})=>{Dr||_o(e)}));let Dr=!1;if(typeof BroadcastChannel<"u"){const e=new BroadcastChannel(nn);typeof e.unref=="function"&&e.unref(),Cn(li,t=>{Dr||e.postMessage(t)}),e.onmessage=t=>{t.data&&_o(t.data)}}else if(typeof self<"u"&&typeof navigator<"u"){Cn(li,t=>{try{Dr||(typeof localStorage<"u"&&localStorage.setItem(nn,JSON.stringify({trig:Math.random(),changedParts:t})),typeof self.clients=="object"&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(r=>r.postMessage({type:nn,changedParts:t})))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",t=>{if(t.key===nn){const r=JSON.parse(t.newValue);r&&_o(r.changedParts)}});const e=self.document&&navigator.serviceWorker;e&&e.addEventListener("message",function({data:t}){t&&t.type===nn&&_o(t.changedParts)})}Y.rejectionMapper=function(e,t){if(!e||e instanceof Ls||e instanceof TypeError||e instanceof SyntaxError||!e.name||!rp[e.name])return e;var r=new rp[e.name](t||e.message,e);return"stack"in e&&Or(r,"stack",{get:function(){return this.inner.stack}}),r},By(kr,nv);const di=["not_sent","in_progress","sent","responded"],$b=120,hv=$b*24*60*60*1e3,aa="admin_master",pv=[aa,"admin","manager","publisher","viewer"],Ub={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1};var zb={};const Af=e=>{const t=typeof import.meta<"u"&&Ub;if(t){const n=t[e];if(typeof n=="string")return n}const r=zb;if(r){const n=r[e];if(typeof n=="string")return n}},pp="admin_master",mp=Af("VITE_ADMIN_MASTER_NAME")??"Administrador Master",gp=Af("VITE_ADMIN_MASTER_EMAIL")??"admin_master@example.com",yp=Af("VITE_ADMIN_MASTER_PASSWORD")??"assigna123",Su=aa,Bb="modulepreload",Kb=function(e){return"/"+e},vp={},Hb=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),o=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(r.map(l=>{if(l=Kb(l),l in vp)return;vp[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":Bb,c||(h.as="script"),h.crossOrigin="",h.href=l,o&&h.setAttribute("nonce",o),document.head.appendChild(h),c)return new Promise((f,y)=>{h.addEventListener("load",f),h.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(i){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i}return s.then(i=>{for(const o of i||[])o.status==="rejected"&&a(o.reason);return t().catch(a)})},Wb=new TextEncoder,Zb=e=>{const t=new Uint8Array(e);return Array.from(t).map(r=>r.toString(16).padStart(2,"0")).join("")},xp=e=>{const t=e.trim().toLowerCase();if(t.length===0||t.length%2!==0)return null;const r=t.length/2,n=new Uint8Array(r);for(let s=0;s<r;s++){const a=s*2,i=Number.parseInt(t.slice(a,a+2),16);if(Number.isNaN(i))return null;n[s]=i}return n},qb=(e,t)=>{if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return r===0},Qb=async()=>{var n,s;const e=globalThis.crypto,t=(e==null?void 0:e.subtle)??((n=e==null?void 0:e.webcrypto)==null?void 0:n.subtle);if(t)return t;const r=globalThis.process;if(typeof((s=r==null?void 0:r.versions)==null?void 0:s.node)=="string"){const{webcrypto:a}=await Hb(async()=>{const{webcrypto:i}=await Promise.resolve().then(()=>VN);return{webcrypto:i}},void 0);if(a!=null&&a.subtle)return a.subtle}throw new Error("SubtleCrypto API is not available in this environment")},fi=async e=>{const t=await Qb(),r=e.normalize("NFKC"),n=Wb.encode(r),s=await t.digest("SHA-256",n);return Zb(s)},Gb=async(e,t)=>{if(typeof t!="string"||t.trim().length===0)return!1;const r=xp(t);if(!r)return!1;const n=await fi(e),s=xp(n);return s?qb(r,s):!1},wp=["Prdio","Vila","Residncia","Comrcio"];class Yb extends Gn{constructor(){super("assigna");Nt(this,"territorios");Nt(this,"saidas");Nt(this,"designacoes");Nt(this,"sugestoes");Nt(this,"streets");Nt(this,"propertyTypes");Nt(this,"addresses");Nt(this,"buildingsVillages");Nt(this,"derivedTerritories");Nt(this,"derivedTerritoryAddresses");Nt(this,"metadata");Nt(this,"naoEmCasa");Nt(this,"users");this.version(3).stores({territorios:"id, nome",saidas:"id, nome, diaDaSemana",designacoes:"id, territorioId, saidaId",sugestoes:"[territorioId+saidaId]",metadata:"key",streets:"++id, territoryId, name",property_types:"++id, name",addresses:"++id, streetId, numberStart, numberEnd",buildingsVillages:"id, territory_id",derived_territories:"++id, baseTerritoryId, name",derived_territory_addresses:"[derivedTerritoryId+addressId]"}),this.version(4).stores({territorios:"id, nome",saidas:"id, nome, diaDaSemana",designacoes:"id, territorioId, saidaId",sugestoes:"[territorioId+saidaId]",metadata:"key",streets:"++id, territoryId, name",property_types:"++id, name",addresses:"++id, streetId, numberStart, numberEnd, lastSuccessfulVisit, nextVisitAllowed",buildingsVillages:"id, territory_id",derived_territories:"++id, baseTerritoryId, name",derived_territory_addresses:"[derivedTerritoryId+addressId]"}),this.version(5).stores({territorios:"id, nome",saidas:"id, nome, diaDaSemana",designacoes:"id, territorioId, saidaId",sugestoes:"[territorioId+saidaId]",metadata:"key",streets:"++id, territoryId, name",property_types:"++id, name",addresses:"++id, streetId, numberStart, numberEnd, lastSuccessfulVisit, nextVisitAllowed",buildingsVillages:"id, territory_id",derived_territories:"++id, baseTerritoryId, name",derived_territory_addresses:"[derivedTerritoryId+addressId]",nao_em_casa:"id, territorioId, followUpAt, completedAt"}),this.version(6).stores({territorios:"id, nome",saidas:"id, nome, diaDaSemana",designacoes:"id, territorioId, saidaId",sugestoes:"[territorioId+saidaId]",metadata:"key",streets:"++id, territoryId, name",property_types:"++id, name",addresses:"++id, streetId, numberStart, numberEnd, lastSuccessfulVisit, nextVisitAllowed",buildingsVillages:"id, territory_id",derived_territories:"++id, baseTerritoryId, name",derived_territory_addresses:"[derivedTerritoryId+addressId]",nao_em_casa:"id, territorioId, followUpAt, completedAt"}),this.version(7).stores({territorios:"id, nome, publisherId",saidas:"id, nome, diaDaSemana, publisherId",designacoes:"id, territorioId, saidaId, publisherId",sugestoes:"[territorioId+saidaId], territorioId, saidaId, publisherId",metadata:"key",streets:"++id, territoryId, name",property_types:"++id, name",addresses:"++id, streetId, numberStart, numberEnd, lastSuccessfulVisit, nextVisitAllowed",buildingsVillages:"id, territory_id, publisherId",derived_territories:"++id, baseTerritoryId, name",derived_territory_addresses:"[derivedTerritoryId+addressId]",nao_em_casa:"id, territorioId, followUpAt, completedAt, publisherId"}).upgrade(async r=>{const n="",s=["territorios","saidas","designacoes","sugestoes","buildingsVillages","nao_em_casa"];await Promise.all(s.map(a=>r.table(a).toCollection().modify(i=>{typeof i.publisherId!="string"&&(i.publisherId=n)})))}),this.version(8).stores({territorios:"id, nome, publisherId",saidas:"id, nome, diaDaSemana, publisherId",designacoes:"id, territorioId, saidaId, publisherId",sugestoes:"[territorioId+saidaId], territorioId, saidaId, publisherId",metadata:"key",streets:"++id, territoryId, name",property_types:"++id, name",addresses:"++id, streetId, numberStart, numberEnd, lastSuccessfulVisit, nextVisitAllowed",buildingsVillages:"id, territory_id, publisherId",derived_territories:"++id, baseTerritoryId, name",derived_territory_addresses:"[derivedTerritoryId+addressId]",nao_em_casa:"id, territorioId, followUpAt, completedAt, publisherId"}),this.version(9).stores({territorios:"id, nome, publisherId",saidas:"id, nome, diaDaSemana, publisherId",designacoes:"id, territorioId, saidaId, publisherId",sugestoes:"[territorioId+saidaId], territorioId, saidaId, publisherId",metadata:"key",streets:"++id, territoryId, name",property_types:"++id, name",addresses:"++id, streetId, numberStart, numberEnd, lastSuccessfulVisit, nextVisitAllowed",buildingsVillages:"id, territory_id, publisherId",derived_territories:"++id, baseTerritoryId, name",derived_territory_addresses:"[derivedTerritoryId+addressId]",nao_em_casa:"id, territorioId, followUpAt, completedAt, publisherId",users:"id, email, role"}),this.version(10).stores({territorios:"id, nome, publisherId",saidas:"id, nome, diaDaSemana, publisherId",designacoes:"id, territorioId, saidaId, publisherId",sugestoes:"[territorioId+saidaId], territorioId, saidaId, publisherId",metadata:"key",streets:"++id, territoryId, name",property_types:"++id, name",addresses:"++id, streetId, numberStart, numberEnd, lastSuccessfulVisit, nextVisitAllowed",buildingsVillages:"id, territory_id, publisherId",derived_territories:"++id, baseTerritoryId, name",derived_territory_addresses:"[derivedTerritoryId+addressId]",nao_em_casa:"id, territorioId, followUpAt, completedAt, conversationConfirmed, publisherId",users:"id, email, role"}).upgrade(async r=>{await r.table("nao_em_casa").toCollection().modify(n=>{typeof n.conversationConfirmed!="boolean"&&(n.conversationConfirmed=!1)})}),this.version(11).stores({territorios:"id, nome, publisherId",saidas:"id, nome, diaDaSemana, publisherId",designacoes:"id, territorioId, saidaId, publisherId",sugestoes:"[territorioId+saidaId], territorioId, saidaId, publisherId",metadata:"key",streets:"++id, territoryId, name",property_types:"++id, name",addresses:"++id, streetId, numberStart, numberEnd, lastSuccessfulVisit, nextVisitAllowed",buildingsVillages:"id, territory_id, publisherId",derived_territories:"++id, baseTerritoryId, name",derived_territory_addresses:"[derivedTerritoryId+addressId]",nao_em_casa:"id, territorioId, followUpAt, completedAt, conversationConfirmed, publisherId",users:"id, email, role"}).upgrade(async r=>{await r.table("users").toCollection().modify(n=>{typeof n.passwordHash!="string"&&(n.passwordHash="")})}),this.buildingsVillages=this.table("buildingsVillages"),this.propertyTypes=this.table("property_types"),this.derivedTerritories=this.table("derived_territories"),this.derivedTerritoryAddresses=this.table("derived_territory_addresses"),this.naoEmCasa=this.table("nao_em_casa"),this.users=this.table("users")}}const I=new Yb,Zs=11;async function Jb(){await I.transaction("rw",I.propertyTypes,async()=>{const e=await I.propertyTypes.toArray(),t=new Set(e.map(s=>typeof s.name=="string"?s.name.trim().toLowerCase():"").filter(s=>s.length>0)),r=wp.filter(s=>!t.has(s.trim().toLowerCase())),n=e.length===0?wp:r;n.length>0&&await I.propertyTypes.bulkAdd(n.map(s=>({name:s})))})}async function mv(){await Jb()}async function If(){const e=await I.users.get(pp),t=new Date().toISOString();if(!e){const s=await fi(yp),a={id:pp,name:mp,email:gp,role:Su,passwordHash:s,createdAt:t,updatedAt:t};await I.users.put(a);return}const r={};let n=!1;(typeof e.passwordHash!="string"||e.passwordHash.trim().length===0)&&(r.passwordHash=await fi(yp),n=!0),e.role!==Su&&(r.role=Su,n=!0),(typeof e.name!="string"||e.name.trim().length===0)&&(r.name=mp,n=!0),(typeof e.email!="string"||e.email.trim().length===0)&&(r.email=gp,n=!0),(typeof e.createdAt!="string"||e.createdAt.trim().length===0)&&(r.createdAt=t,n=!0),n?(r.updatedAt=t,await I.users.put({...e,...r,id:e.id})):(typeof e.updatedAt!="string"||e.updatedAt.trim().length===0)&&await I.users.put({...e,updatedAt:t})}async function Xb(){await I.open();const e=await I.metadata.get("schemaVersion");return(e==null?void 0:e.value)??0}async function e_(e){await I.metadata.put({key:"schemaVersion",value:e})}async function t_(){const e=await Xb();e<2&&await I.transaction("rw",I.territorios,I.buildingsVillages,I.metadata,async()=>{const t=await I.territorios.toArray();let r=0;for(const n of t){const s=Array.isArray(n.legacyBuildings)?n.legacyBuildings:[];if(s.length===0)continue;const{legacyBuildings:a,...i}=n;await I.territorios.put(i);const o=(...d)=>{for(const h of d)if(h!=null)return h;return null},l=(...d)=>{for(const h of d){if(h==null)continue;const f=typeof h=="number"?h:Number(h);if(!Number.isNaN(f))return f}return null},c=s.map((d,h)=>{const f=`${n.id}-${h+1}`,y=d.id??f,m=d.territoryId??d.territorioId??n.id;return{id:y,territory_id:m,publisherId:"",name:o(d.name),address_line:o(d.addressLine,d.address_line),type:o(d.type),number:o(d.number),residences_count:l(d.residencesCount,d.residences_count),modality:o(d.modality),reception_type:o(d.receptionType,d.reception_type),responsible:o(d.responsible),contact_method:null,letter_status:null,letter_history:[],assigned_at:o(d.assignedAt,d.assigned_at),returned_at:o(d.returnedAt,d.returned_at),block:o(d.block),notes:o(d.notes),created_at:o(d.createdAt,d.created_at,d.assignedAt,d.assigned_at)}});c.length>0&&(await I.buildingsVillages.bulkPut(c),r+=c.length)}if(r>0){const n=await I.metadata.get("buildingsVillagesMigrated"),s=((n==null?void 0:n.value)??0)+r;await I.metadata.put({key:"buildingsVillagesMigrated",value:s})}}),e<3&&await I.transaction("rw",[I.buildingsVillages,I.streets,I.addresses,I.propertyTypes,I.derivedTerritories,I.derivedTerritoryAddresses,I.metadata],async()=>{var o,l;const t="Building/Village",r=await I.propertyTypes.where("name").equals(t).first();let n;(r==null?void 0:r.id)!==void 0?n=r.id:n=await I.propertyTypes.add({name:t});const s=await I.buildingsVillages.toArray(),a=new Map;let i=0;for(const c of s){if(!c.territory_id)continue;const d=(o=c.address_line)==null?void 0:o.trim(),h=(l=c.number)==null?void 0:l.trim();if(!d||!h||!/^\d+$/.test(h))continue;const f=`${c.territory_id}::${d.toLowerCase()}`;let y=a.get(f);y===void 0&&(y=await I.streets.add({territoryId:c.territory_id,name:d}),a.set(f,y));const m=Number.parseInt(h,10),w=await I.addresses.add({streetId:y,numberStart:m,numberEnd:m,propertyTypeId:n}),k=await I.derivedTerritories.add({baseTerritoryId:c.territory_id,name:c.name??`Derived territory ${c.id}`});await I.derivedTerritoryAddresses.put({derivedTerritoryId:k,addressId:w}),i++}if(i>0){const c=await I.metadata.get("derivedTerritoriesMigrated"),d=((c==null?void 0:c.value)??0)+i;await I.metadata.put({key:"derivedTerritoriesMigrated",value:d})}}),e<4&&await I.transaction("rw",I.addresses,I.metadata,async()=>{const t=await I.addresses.toArray();let r=0;for(const n of t){const s=n.id;if(s===void 0)continue;const a=n.lastSuccessfulVisit,i=typeof a=="string"?new Date(a):null,o=i&&!Number.isNaN(i.getTime())?i.toISOString():null,l=n.nextVisitAllowed,c=typeof l=="string"?new Date(l):null;let h=c&&!Number.isNaN(c.getTime())?c.toISOString():null;!h&&o&&(h=new Date(new Date(o).getTime()+hv).toISOString());const f={};n.lastSuccessfulVisit!==o&&(f.lastSuccessfulVisit=o),n.nextVisitAllowed!==h&&(f.nextVisitAllowed=h),Object.keys(f).length>0&&(await I.addresses.update(s,f),r++)}if(r>0){const n=await I.metadata.get("addressVisitsMigrated"),s=((n==null?void 0:n.value)??0)+r;await I.metadata.put({key:"addressVisitsMigrated",value:s})}}),e<5&&await I.transaction("rw",I.buildingsVillages,I.metadata,async()=>{const t=new Set(di),r=o=>{if(typeof o!="string")return null;const l=o.trim();return l.length>0?l:null},n=o=>{if(typeof o!="string")return null;const l=o.trim();return l.length===0?null:/^\d{4}-\d{2}-\d{2}/.test(l)&&l.length>10?l.slice(0,10):l},s=(o,l,c)=>{if(typeof l!="object"||l===null)return null;const d=l,h=d.id,f=`${o}-letter-${c+1}`,y=typeof h=="string"&&h.trim().length>0?h.trim():f,m=d.status,w=typeof m=="string"&&t.has(m)?m:"sent",k=n(typeof d.sent_at=="string"?d.sent_at:typeof d.sentAt=="string"?d.sentAt:null),g=r(typeof d.notes=="string"?d.notes:typeof d.description=="string"?d.description:null);return{id:y,status:w,sent_at:k,notes:g}},a=await I.buildingsVillages.toArray();let i=0;for(const o of a){const l={},c=o.contact_method;if(typeof c=="string"){const w=c.trim();w.length===0?l.contact_method=null:w!==c&&(l.contact_method=w)}else(c===void 0||c!==null)&&(l.contact_method=null);const d=o.letter_status;let h=null;typeof d=="string"&&t.has(d)&&(h=d),d!==h&&(l.letter_status=h);const f=o.letter_history,y=Array.isArray(f)?f.map((w,k)=>s(o.id,w,k)).filter(w=>w!==null):[];let m=!0;Array.isArray(f)&&(m=f.length!==y.length||f.some((w,k)=>{const g=y[k];if(!g)return!0;const p=w,x=typeof(p==null?void 0:p.sent_at)=="string"?p.sent_at:typeof(p==null?void 0:p.sentAt)=="string"?p.sentAt:null,S=typeof(p==null?void 0:p.notes)=="string"?p.notes:typeof(p==null?void 0:p.description)=="string"?p.description:null;return(p==null?void 0:p.id)!==g.id||(p==null?void 0:p.status)!==g.status||x!==g.sent_at||S!==g.notes})),m&&(l.letter_history=y),Object.keys(l).length>0&&(await I.buildingsVillages.update(o.id,l),i++)}if(i>0){const o=await I.metadata.get("buildingsVillagesLettersMigrated"),l=((o==null?void 0:o.value)??0)+i;await I.metadata.put({key:"buildingsVillagesLettersMigrated",value:l})}}),e<7&&await I.transaction("rw",[I.territorios,I.saidas,I.designacoes,I.sugestoes,I.buildingsVillages,I.naoEmCasa],async()=>{const t="",r=async n=>{await n.toCollection().modify(s=>{typeof s.publisherId!="string"&&(s.publisherId=t)})};await Promise.all([r(I.territorios),r(I.saidas),r(I.designacoes),r(I.sugestoes),r(I.buildingsVillages),r(I.naoEmCasa)])}),e<8&&await mv(),await If(),e<Zs&&await e_(Zs)}const Mr={async all(){return I.designacoes.toArray()},async forPublisher(e){return I.designacoes.where("publisherId").equals(e).toArray()},async add(e){await I.designacoes.put(e)},async bulkAdd(e){await I.designacoes.bulkPut(e)},async clear(){await I.designacoes.clear()},async remove(e){await I.designacoes.delete(e)}},r_=e=>{const t=new Map;return e.forEach(r=>{const n=r.dataInicial.slice(0,7),s=`${r.saidaId}-${n}`,a=t.get(s)||{saidaId:r.saidaId,month:n,total:0};a.total+=1,t.set(s,a)}),Array.from(t.values())},n_=(e,t)=>{const n=[`generated_at,${new Date().toISOString().split("T")[0]}`,t.join(",")];return e.forEach(s=>{const a=t.map(i=>{const o=s[i];return o==null?"":`"${String(o).replace(/"/g,'""')}"`}).join(",");n.push(a)}),n.join(`
`)},s_=(e,t,r)=>{const n=new Blob([e],{type:r}),s=URL.createObjectURL(n),a=document.createElement("a");a.href=s,a.download=t,a.click(),URL.revokeObjectURL(s)},gv="tm.exportScheduler";function a_(){const e=new Date;return e.setMonth(e.getMonth()+1),e.setHours(0,0,0,0),e.getTime()}function i_(){try{const e=localStorage.getItem(gv);if(e)return JSON.parse(e)}catch{}return{enabled:!1,nextRun:a_()}}function o_(e){localStorage.setItem(gv,JSON.stringify(e))}function l_(e){const[t,r]=C.useState(()=>i_());return C.useEffect(()=>{o_(t)},[t]),C.useEffect(()=>{if(!t.enabled||!e)return;const n=setInterval(async()=>{if(Date.now()>=t.nextRun){const s=await Mr.forPublisher(e),a=r_(s).map(c=>({...c})),i=n_(a,["saidaId","month","total"]),o=new Date().toISOString().split("T")[0];s_(i,`monthly-summary-${o}.csv`,"text/csv");const l=new Date(t.nextRun);l.setMonth(l.getMonth()+1),r({...t,nextRun:l.getTime()})}},60*60*1e3);return()=>clearInterval(n)},[t,e]),{config:t,setConfig:r}}const or={async all(){return I.territorios.toArray()},async forPublisher(e){return I.territorios.where("publisherId").equals(e).toArray()},async add(e){await I.territorios.put(e)},async bulkAdd(e){await I.territorios.bulkPut(e)},async clear(){await I.territorios.clear()},async remove(e){await I.territorios.delete(e)}},xn={async all(){return I.saidas.toArray()},async forPublisher(e){return I.saidas.where("publisherId").equals(e).toArray()},async add(e){await I.saidas.put(e)},async bulkAdd(e){await I.saidas.bulkPut(e)},async clear(){await I.saidas.clear()},async remove(e){await I.saidas.delete(e)}},hi={async all(){return I.sugestoes.toArray()},async forPublisher(e){return I.sugestoes.where("publisherId").equals(e).toArray()},async add(e){await I.sugestoes.put(e)},async bulkAdd(e){await I.sugestoes.bulkPut(e)},async clear(){await I.sugestoes.clear()},async remove(e,t){await I.sugestoes.delete([e,t])}},wn={async all(){return I.buildingsVillages.toArray()},async forPublisher(e){return I.buildingsVillages.where("publisherId").equals(e).toArray()},async add(e){await I.buildingsVillages.put(e)},async bulkAdd(e){await I.buildingsVillages.bulkPut(e)},async clear(){await I.buildingsVillages.clear()},async remove(e){await I.buildingsVillages.delete(e)}},bn={async all(){return I.naoEmCasa.toArray()},async forPublisher(e){return I.naoEmCasa.where("publisherId").equals(e).toArray()},async add(e){await I.naoEmCasa.put(e)},async bulkAdd(e){await I.naoEmCasa.bulkPut(e)},async remove(e){await I.naoEmCasa.delete(e)},async clear(){await I.naoEmCasa.clear()}},wr={async all(){return I.users.toArray()},async findById(e){const t=e.trim();if(t)return I.users.get(t)},async findByEmail(e){const t=e.trim();if(t)return I.users.where("email").equalsIgnoreCase(t).first()},async add(e){await I.users.put(e)},async update(e){await I.users.put(e)},async bulkAdd(e){e.length!==0&&await I.users.bulkPut(e)},async remove(e){await I.users.delete(e)},async clear(){await I.users.clear(),await If()}},rl={auth:{currentUser:null},territorios:[],saidas:[],designacoes:[],sugestoes:[],naoEmCasa:[],users:[]};function u_(e,t){switch(t.type){case"SIGN_IN":return{...e,auth:{currentUser:t.payload}};case"SIGN_OUT":return rl;case"SET_TERRITORIOS":return{...e,territorios:[...t.payload]};case"ADD_TERRITORIO":return{...e,territorios:[...e.territorios,t.payload]};case"UPDATE_TERRITORIO":return{...e,territorios:e.territorios.map(r=>r.id===t.payload.id?t.payload:r)};case"REMOVE_TERRITORIO":return{...e,territorios:e.territorios.filter(r=>r.id!==t.payload)};case"SET_SAIDAS":return{...e,saidas:[...t.payload]};case"ADD_SAIDA":return{...e,saidas:[...e.saidas,t.payload]};case"UPDATE_SAIDA":return{...e,saidas:e.saidas.map(r=>r.id===t.payload.id?t.payload:r)};case"REMOVE_SAIDA":return{...e,saidas:e.saidas.filter(r=>r.id!==t.payload)};case"SET_DESIGNACOES":return{...e,designacoes:[...t.payload]};case"ADD_DESIGNACAO":return{...e,designacoes:[...e.designacoes,t.payload]};case"UPDATE_DESIGNACAO":return{...e,designacoes:e.designacoes.map(r=>r.id===t.payload.id?t.payload:r)};case"REMOVE_DESIGNACAO":return{...e,designacoes:e.designacoes.filter(r=>r.id!==t.payload)};case"SET_SUGESTOES":return{...e,sugestoes:[...t.payload]};case"ADD_SUGESTAO":return{...e,sugestoes:[...e.sugestoes,t.payload]};case"UPDATE_SUGESTAO":return{...e,sugestoes:e.sugestoes.map(r=>r.territorioId===t.payload.territorioId&&r.saidaId===t.payload.saidaId?t.payload:r)};case"REMOVE_SUGESTAO":return{...e,sugestoes:e.sugestoes.filter(r=>r.territorioId!==t.payload.territorioId||r.saidaId!==t.payload.saidaId)};case"SET_NAO_EM_CASA":return{...e,naoEmCasa:[...t.payload]};case"ADD_NAO_EM_CASA":return{...e,naoEmCasa:[...e.naoEmCasa,t.payload]};case"UPDATE_NAO_EM_CASA":return{...e,naoEmCasa:e.naoEmCasa.map(r=>r.id===t.payload.id?t.payload:r)};case"REMOVE_NAO_EM_CASA":return{...e,naoEmCasa:e.naoEmCasa.filter(r=>r.id!==t.payload)};case"SET_USERS":return{...e,users:[...t.payload]};case"ADD_USER":return{...e,users:[...e.users,t.payload]};case"UPDATE_USER":return{...e,users:e.users.map(r=>r.id===t.payload.id?t.payload:r)};case"REMOVE_USER":return{...e,users:e.users.filter(r=>r.id!==t.payload)};case"RESET_STATE":return rl;default:return e}}const yv=C.createContext(null),zt=()=>{const e=C.useContext(yv);if(!e)throw new Error("ToastProvider missing");return e},c_=({children:e})=>{const[t,r]=C.useState([]),n=(a,i)=>{const o=Date.now();r(l=>[...l,{id:o,type:a,message:i}]),setTimeout(()=>r(l=>l.filter(c=>c.id!==o)),3e3)},s={success:a=>n("success",a),error:a=>n("error",a)};return u.jsxs(yv.Provider,{value:s,children:[e,u.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:t.map(a=>u.jsx("div",{className:`px-4 py-2 rounded shadow text-white text-sm ${a.type==="success"?"bg-green-600":"bg-red-600"}`,children:a.message},a.id))})]})};function vv(e,t){const[r,n]=C.useState(()=>{try{const s=localStorage.getItem(e);return s?JSON.parse(s):t}catch{return t}});return C.useEffect(()=>{localStorage.setItem(e,JSON.stringify(r))},[e,r]),[r,n]}const Ei=()=>crypto.randomUUID();C.createContext(null);const nl="tm.auth",d_=()=>{try{const e=localStorage.getItem(nl);if(!e)return{currentUser:null};const t=JSON.parse(e);if(t&&typeof t=="object"&&"currentUser"in t){const{currentUser:r}=t;if(!r||typeof r!="object")return{currentUser:null};if(typeof r.id=="string"&&typeof r.role=="string"){const n=new Date().toISOString();return{currentUser:{...r,createdAt:typeof r.createdAt=="string"?r.createdAt:n,updatedAt:typeof r.updatedAt=="string"?r.updatedAt:n}}}}}catch(e){console.error("Failed to load auth state from storage",e)}try{localStorage.removeItem(nl)}catch(e){console.error("Failed to remove invalid auth state",e)}return{currentUser:null}},f_=e=>{try{localStorage.setItem(nl,JSON.stringify(e))}catch(t){console.error("Failed to persist auth state",t)}},h_=()=>{try{localStorage.removeItem(nl)}catch(e){console.error("Failed to clear auth state from storage",e)}},xv=C.createContext({state:rl,dispatch:()=>{}}),wv=({children:e})=>{var i;const[t,r]=C.useReducer(u_,rl),[n,s]=C.useState(!1),a=((i=t.auth.currentUser)==null?void 0:i.id)??null;return C.useEffect(()=>{let o=!0;return(async()=>{try{const c=d_();o&&c.currentUser&&r({type:"SIGN_IN",payload:c.currentUser})}catch(c){console.error("Falha ao carregar dados iniciais",c)}finally{o&&s(!0)}})(),()=>{o=!1}},[r]),C.useEffect(()=>{if(!n)return;let o=!0;return(async()=>{try{if(!a){o&&(r({type:"SET_TERRITORIOS",payload:[]}),r({type:"SET_SAIDAS",payload:[]}),r({type:"SET_DESIGNACOES",payload:[]}),r({type:"SET_SUGESTOES",payload:[]}),r({type:"SET_NAO_EM_CASA",payload:[]}),r({type:"SET_USERS",payload:[]}));return}const[c,d,h,f,y,m]=await Promise.all([or.forPublisher(a),xn.forPublisher(a),Mr.forPublisher(a),hi.forPublisher(a),bn.forPublisher(a),wr.all()]);if(!o)return;r({type:"SET_TERRITORIOS",payload:c}),r({type:"SET_SAIDAS",payload:d}),r({type:"SET_DESIGNACOES",payload:h}),r({type:"SET_SUGESTOES",payload:f}),r({type:"SET_NAO_EM_CASA",payload:y}),r({type:"SET_USERS",payload:m})}catch(c){console.error("Falha ao carregar dados iniciais",c)}})(),()=>{o=!1}},[n,a,r]),C.useEffect(()=>{n&&(t.auth.currentUser?f_(t.auth):h_())},[n,t.auth]),u.jsx(xv.Provider,{value:{state:t,dispatch:r},children:e})},ls=()=>C.useContext(xv),p_=e=>e.territorios,m_=e=>e.saidas,g_=e=>e.designacoes,y_=e=>e.naoEmCasa,v_=e=>e.auth.currentUser,x_=e=>e.users,Kr=()=>{const{state:e,dispatch:t}=ls(),r=v_(e),n=C.useCallback(async({identifier:a,password:i})=>{const o=a.trim(),l=i.trim();if(!o||!l)return null;try{const c=await wr.findByEmail(o)??await wr.findById(o);if(!c||!await Gb(l,c.passwordHash))return null;const h=new Date().toISOString(),f={id:c.id,role:c.role,createdAt:(r==null?void 0:r.id)===c.id?r.createdAt:h,updatedAt:h};return t({type:"SIGN_IN",payload:f}),f}catch(c){return console.error("Failed to sign in",c),null}},[r,t]),s=C.useCallback(()=>{t({type:"SIGN_OUT"})},[t]);return{currentUser:r,isAuthenticated:!!r,signIn:n,signOut:s}},Pf=e=>{const[t,r,n]=e.split("-").map(Number);return new Date(t,(r??1)-1,n??1)},bv=e=>{const t=e.getTime()-e.getTimezoneOffset()*6e4;return new Date(t).toISOString()},ld=["Domingo","Segunda","Tera","Quarta","Quinta","Sexta","Sbado"],br=e=>Pf(e).toLocaleDateString(),Df=e=>bv(e).slice(0,10),w_=e=>bv(e).slice(0,16),sl=(e,t)=>{const r=Pf(e);return r.setDate(r.getDate()+t),Df(r)},_v=(e,t)=>{const r=Pf(e),n=(t-r.getDay()+7)%7;return n&&r.setDate(r.getDate()+n),Df(r)},al=()=>Df(new Date),b_=()=>{const{currentUser:e}=Kr(),{config:t,setConfig:r}=l_(e==null?void 0:e.id),{t:n}=qe(),s=w_(new Date(t.nextRun));return u.jsxs("div",{className:"border rounded-xl p-4 mt-4",children:[u.jsx("h2",{className:"text-lg font-semibold mb-2",children:n("scheduler.title")}),u.jsxs("label",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"checkbox",checked:t.enabled,onChange:a=>r({...t,enabled:a.target.checked})}),u.jsx("span",{children:n("scheduler.enable")})]}),u.jsxs("div",{className:"mt-2",children:[u.jsx("span",{className:"text-sm text-neutral-600 mr-2",children:n("scheduler.nextRun")}),u.jsx("input",{type:"datetime-local",value:s,onChange:a=>r({...t,nextRun:new Date(a.target.value).getTime()}),className:"rounded border px-2 py-1"})]})]})},Rf=({children:e})=>u.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black/40",children:u.jsx("div",{className:"bg-white dark:bg-neutral-900 rounded-xl p-6 shadow max-w-sm w-full",children:e})}),Sv=C.createContext(()=>Promise.resolve(!1)),ia=()=>C.useContext(Sv),__=({children:e})=>{const[t,r]=C.useState(null),{t:n}=qe(),s=i=>new Promise(o=>r({message:i,resolve:o})),a=i=>{t==null||t.resolve(i),r(null)};return u.jsxs(Sv.Provider,{value:s,children:[e,t&&u.jsxs(Rf,{children:[u.jsx("p",{className:"mb-4",children:t.message}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx("button",{onClick:()=>a(!1),className:"px-3 py-2 rounded-xl border",children:n("confirm.cancel")}),u.jsx("button",{onClick:()=>a(!0),className:"px-3 py-2 rounded-xl border bg-red-600 text-white",children:n("confirm.confirm")})]})]})]})},me=({className:e="",...t})=>u.jsx("button",{...t,className:`rounded-xl px-3 py-2 shadow border hover:shadow-md active:scale-[.98] transition ${e}`}),Vt=({className:e="",title:t,actions:r,children:n})=>{const s=!!(t!=null&&t.trim()),a=r!=null&&r!==!1,i=s||a;return u.jsxs("div",{className:`rounded-2xl shadow p-4 bg-white/70 dark:bg-neutral-900/60 backdrop-blur border border-black/5 ${e}`,children:[i&&u.jsxs("div",{className:"mb-3 flex flex-col gap-3 sm:flex-row sm:flex-wrap sm:items-center sm:justify-between",children:[s&&u.jsx("h2",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100",children:t}),a&&u.jsx("div",{className:"flex w-full flex-wrap items-center gap-2 text-neutral-700 dark:text-neutral-200 sm:ml-auto sm:w-auto sm:justify-end",children:r})]}),n]})},S_=({value:e,onChange:t,compress:r})=>{const n=async s=>{if(!s){t(void 0);return}if(r){const a=document.createElement("img");a.src=URL.createObjectURL(s),await new Promise(d=>a.onload=d);const i=document.createElement("canvas"),l=Math.min(1,600/Math.max(a.width,a.height));i.width=a.width*l,i.height=a.height*l;const c=i.getContext("2d");c==null||c.drawImage(a,0,0,i.width,i.height),t(i.toDataURL("image/jpeg",.8))}else{const a=new FileReader;a.onload=()=>t(a.result),a.readAsDataURL(s)}};return u.jsxs("div",{className:"flex items-center gap-3",children:[e?u.jsx("img",{src:e,alt:"preview",className:"w-16 h-16 object-cover rounded-lg border"}):u.jsx("div",{className:"w-16 h-16 rounded-lg border grid place-items-center text-xs text-neutral-500",children:"sem imagem"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"file",accept:"image/*",onChange:s=>{var a;return n((a=s.target.files)==null?void 0:a[0])}}),e&&u.jsx(me,{onClick:()=>t(void 0),className:"bg-neutral-100 dark:bg-neutral-800",children:"Remover"})]})]})},He=ge.forwardRef(({className:e="",...t},r)=>u.jsx("input",{ref:r,...t,className:`w-full rounded-xl border px-3 py-2 outline-none focus:ring-2 focus:ring-black/20 dark:focus:ring-white/20 bg-white dark:bg-neutral-900 ${e}`}));He.displayName="Input";const Me=({children:e,className:t="",...r})=>u.jsx("label",{...r,className:`text-sm font-medium text-neutral-600 dark:text-neutral-300 ${t}`,children:e}),Fn=[aa,"admin","manager"],k_=[aa],ud=[...Fn,"publisher"],N_=[...ud,"viewer"],Of={territories:{path:"/",allowedRoles:Fn},streets:{path:"/streets",allowedRoles:Fn},buildingsVillages:{path:"/buildings-villages",allowedRoles:Fn},letters:{path:"/letters",allowedRoles:ud},exits:{path:"/exits",allowedRoles:Fn},assignments:{path:"/assignments",allowedRoles:Fn},users:{path:"/users",allowedRoles:k_},calendar:{path:"/calendar",allowedRoles:N_},suggestions:{path:"/suggestions",allowedRoles:Fn},notAtHome:{path:"/nao-em-casa",allowedRoles:ud}},bp=Object.fromEntries(Object.entries(Of).map(([e,t])=>[e,t.path])),E_=Object.entries(Of),Hr="w-5 h-5",_p=()=>u.jsxs("svg",{viewBox:"0 0 24 24",className:Hr,fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("path",{d:"M9 3L3 5v16l6-2 6 2 6-2V3l-6 2-6-2z"}),u.jsx("path",{d:"M9 3v16"}),u.jsx("path",{d:"M15 5v16"})]}),C_=()=>u.jsxs("svg",{viewBox:"0 0 24 24",className:Hr,fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("path",{d:"M3 12h13"}),u.jsx("path",{d:"M12 5l7 7-7 7"})]}),j_=()=>u.jsxs("svg",{viewBox:"0 0 24 24",className:Hr,fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("rect",{x:"6",y:"3",width:"12",height:"18",rx:"2"}),u.jsx("path",{d:"M9 3v4h6V3"})]}),T_=()=>u.jsxs("svg",{viewBox:"0 0 24 24",className:Hr,fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2"}),u.jsx("path",{d:"M16 2v4"}),u.jsx("path",{d:"M8 2v4"}),u.jsx("path",{d:"M3 10h18"})]}),A_=()=>u.jsxs("svg",{viewBox:"0 0 24 24",className:Hr,fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("path",{d:"M9 18h6"}),u.jsx("path",{d:"M10 22h4"}),u.jsx("path",{d:"M12 2a6 6 0 00-4 10c0 2-1 3-1 3h10s-1-1-1-3a6 6 0 00-4-10z"})]}),I_=()=>u.jsxs("svg",{viewBox:"0 0 24 24",className:Hr,fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("path",{d:"M16 21v-2a4 4 0 00-4-4H6a4 4 0 00-4 4v2"}),u.jsx("circle",{cx:"9",cy:"7",r:"4"}),u.jsx("path",{d:"M22 21v-2a4 4 0 00-3-3.87"}),u.jsx("path",{d:"M16 3.13a4 4 0 010 7.75"})]}),P_=()=>u.jsxs("svg",{viewBox:"0 0 24 24",className:Hr,fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("path",{d:"M3 21h18"}),u.jsx("path",{d:"M6 21V9h6v12"}),u.jsx("path",{d:"M12 21V5h6v16"}),u.jsx("path",{d:"M9 13h2"}),u.jsx("path",{d:"M15 9h2"}),u.jsx("path",{d:"M15 13h2"})]}),D_=()=>u.jsxs("svg",{viewBox:"0 0 24 24",className:Hr,fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("rect",{x:"3",y:"5",width:"18",height:"14",rx:"2"}),u.jsx("path",{d:"M3 7l9 6 9-6"})]}),R_=()=>u.jsxs("svg",{viewBox:"0 0 24 24",className:Hr,fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("path",{d:"M3 9l9-6 9 6"}),u.jsx("path",{d:"M4 10v10a1 1 0 001 1h6"}),u.jsx("path",{d:"M20 14l-6 6"}),u.jsx("path",{d:"M14 14l6 6"})]}),O_=[{id:"territories",label:"sidebar.territories",icon:u.jsx(_p,{})},{id:"streets",label:"sidebar.streets",icon:u.jsx(_p,{})},{id:"buildingsVillages",label:"sidebar.buildingsVillages",icon:u.jsx(P_,{})},{id:"letters",label:"sidebar.letters",icon:u.jsx(D_,{})},{id:"exits",label:"sidebar.exits",icon:u.jsx(C_,{})},{id:"assignments",label:"sidebar.assignments",icon:u.jsx(j_,{})},{id:"users",label:"sidebar.users",icon:u.jsx(I_,{})},{id:"calendar",label:"sidebar.calendar",icon:u.jsx(T_,{})},{id:"notAtHome",label:"sidebar.notAtHome",icon:u.jsx(R_,{})},{id:"suggestions",label:"sidebar.suggestions",icon:u.jsx(A_,{})}],L_=aa.toLowerCase(),M_=()=>{const e=()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(min-width: 768px)").matches:!1,[t,r]=C.useState(e);return C.useEffect(()=>{if(typeof window>"u"||typeof window.matchMedia!="function")return;const n=window.matchMedia("(min-width: 768px)"),s=a=>{r(a.matches)};return r(n.matches),typeof n.addEventListener=="function"?(n.addEventListener("change",s),()=>n.removeEventListener("change",s)):(n.addListener(s),()=>n.removeListener(s))},[]),t},V_=({id:e,open:t,onClose:r})=>{var h;const{t:n}=qe(),{currentUser:s}=Kr(),a=((h=s==null?void 0:s.role)==null?void 0:h.toLowerCase())??null,i=a===L_,o=M_(),l=o||t,c=e??"app-sidebar",d=a?O_.filter(f=>i||Of[f.id].allowedRoles.some(y=>y.toLowerCase()===a)):[];return C.useEffect(()=>{if(!t||o)return;const f=y=>{y.key==="Escape"&&r()};return window.addEventListener("keydown",f),()=>window.removeEventListener("keydown",f)},[t,r,o]),u.jsxs(u.Fragment,{children:[!o&&u.jsx("div",{className:`fixed inset-0 z-40 bg-black/40 transition-opacity md:hidden ${t?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,"aria-hidden":"true",onClick:r}),u.jsxs("nav",{id:c,"aria-label":n("app.navigation","Navegao principal"),"aria-hidden":!l,className:`bg-white dark:bg-neutral-900 border-r border-neutral-200 dark:border-neutral-800 p-4 md:p-2 flex flex-col gap-2 w-64 md:w-48 h-full md:h-auto fixed inset-y-0 left-0 z-50 transform transition-transform duration-200 ease-in-out md:static md:translate-x-0 md:shadow-none ${l?"translate-x-0 shadow-lg md:shadow-none pointer-events-auto":"-translate-x-full pointer-events-none"}`,children:[u.jsx("div",{className:"flex justify-end md:hidden",children:u.jsxs("button",{type:"button",onClick:r,className:"inline-flex items-center gap-2 rounded-xl border px-3 py-2",children:[u.jsx("span",{className:"sr-only",children:n("sidebar.closeMenu","Fechar menu de navegao")}),u.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",fill:"none","aria-hidden":"true",children:[u.jsx("path",{d:"M6 6l12 12"}),u.jsx("path",{d:"M18 6L6 18"})]})]})}),d.map(f=>u.jsxs(Pw,{to:bp[f.id],end:bp[f.id]==="/","aria-label":n(f.label),tabIndex:l?0:-1,onClick:()=>{o||r()},className:({isActive:y})=>`flex items-center gap-2 px-3 py-2 rounded transition-colors focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-neutral-500 hover:bg-neutral-100 dark:hover:bg-neutral-800 ${y?"bg-neutral-200 dark:bg-neutral-800":""}`,children:[f.icon,u.jsx("span",{className:"sr-only md:not-sr-only md:inline",children:n(f.label)})]},f.id))]})]})},F_=()=>{const{i18n:e,t}=qe(),r=n=>{const s=n.target.value;e.changeLanguage(s),typeof window<"u"&&localStorage.setItem("locale",s)};return u.jsxs("select",{value:e.language,onChange:r,className:"border rounded px-2 py-1",children:[u.jsx("option",{value:"en-US",children:t("language.english")}),u.jsx("option",{value:"pt-BR",children:t("language.portuguese")}),u.jsx("option",{value:"es-ES",children:t("language.spanish")})]})},$_=({className:e=""})=>{const{t}=qe(),{currentUser:r,signIn:n,signOut:s}=Kr(),a=zt(),[i,o]=C.useState({identifier:"",password:""}),[l,c]=C.useState(!1);if(r)return u.jsxs("div",{className:`flex items-center gap-3 ${e}`,children:[u.jsxs("div",{className:"text-right leading-tight text-xs text-neutral-500 dark:text-neutral-300",children:[u.jsx("p",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-100",children:r.id}),u.jsx("p",{className:"uppercase tracking-wide",children:r.role})]}),u.jsx(me,{type:"button",onClick:s,className:"bg-red-500 text-white hover:bg-red-600 disabled:opacity-50 disabled:cursor-not-allowed",children:t("auth.signOut")})]});const d=async f=>{f.preventDefault();const y=i.identifier.trim(),m=i.password.trim();if(!y||!m)return;c(!0);const w=await n({identifier:y,password:m});if(c(!1),!w){a.error(t("auth.invalidCredentials"));return}o({identifier:"",password:""})},h=i.identifier.trim().length>0&&i.password.trim().length>0&&!l;return u.jsxs("form",{onSubmit:d,className:`flex flex-wrap items-end gap-2 ${e}`,noValidate:!0,children:[u.jsxs("div",{className:"flex flex-col",children:[u.jsx(Me,{htmlFor:"auth-id",className:"sr-only",children:t("auth.identifierLabel")}),u.jsx(He,{id:"auth-id",value:i.identifier,onChange:f=>o(y=>({...y,identifier:f.target.value})),placeholder:t("auth.identifierPlaceholder"),autoComplete:"username",className:"w-32"})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx(Me,{htmlFor:"auth-password",className:"sr-only",children:t("auth.passwordLabel")}),u.jsx(He,{id:"auth-password",type:"password",value:i.password,onChange:f=>o(y=>({...y,password:f.target.value})),placeholder:t("auth.passwordPlaceholder"),autoComplete:"current-password",className:"w-28"})]}),u.jsx(me,{type:"submit",className:"bg-emerald-500 text-white hover:bg-emerald-600 disabled:opacity-50 disabled:cursor-not-allowed",disabled:!h,children:t("auth.signIn")})]})},U_=({children:e})=>{const{t}=qe(),[r,n]=C.useState(()=>{const o=localStorage.getItem("dark");return o!==null?JSON.parse(o):window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches}),[s,a]=C.useState(!1),i="app-primary-navigation";return C.useLayoutEffect(()=>{document.documentElement.classList.toggle("dark",r),document.documentElement.classList.add("min-h-full"),document.body.classList.add("bg-neutral-50","dark:bg-neutral-950"),localStorage.setItem("dark",JSON.stringify(r))},[r]),u.jsxs("div",{className:"min-h-screen text-neutral-900 dark:text-neutral-100 flex flex-col md:flex-row",children:[u.jsx(V_,{id:i,open:s,onClose:()=>a(!1)}),u.jsxs("div",{className:"flex-1 w-full flex flex-col",children:[u.jsx("header",{className:"sticky top-0 z-10 backdrop-blur bg-white/60 dark:bg-neutral-950/50 border-b",children:u.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-3 flex items-center justify-between gap-3",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("button",{type:"button",className:"md:hidden inline-flex items-center justify-center rounded-xl border px-3 py-2",onClick:()=>a(o=>!o),"aria-controls":i,"aria-expanded":s,children:[u.jsx("span",{className:"sr-only",children:s?t("sidebar.closeMenu","Fechar menu de navegao"):t("sidebar.openMenu","Abrir menu de navegao")}),u.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",fill:"none","aria-hidden":"true",children:[u.jsx("path",{d:"M4 7h16"}),u.jsx("path",{d:"M4 12h16"}),u.jsx("path",{d:"M4 17h16"})]})]}),u.jsx("h1",{className:"font-bold tracking-tight",children:"Territory Manager"})]}),u.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-2",children:[u.jsx($_,{className:"flex-shrink-0"}),u.jsx(F_,{}),u.jsx("button",{onClick:()=>n(o=>!o),className:"rounded-xl px-3 py-2 border",children:r?` ${t("app.theme.light")}`:` ${t("app.theme.dark")}`})]})]})}),u.jsx("main",{className:"max-w-6xl mx-auto px-4 py-6 grid gap-4 flex-1 w-full",children:e}),u.jsx("footer",{className:"py-8 text-center text-xs text-neutral-500",children:"Dados salvos localmente (localStorage)."})]})]})};var Ci=e=>e.type==="checkbox",Kn=e=>e instanceof Date,xt=e=>e==null;const kv=e=>typeof e=="object";var Be=e=>!xt(e)&&!Array.isArray(e)&&kv(e)&&!Kn(e),z_=e=>Be(e)&&e.target?Ci(e.target)?e.target.checked:e.target.value:e,B_=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,K_=(e,t)=>e.has(B_(t)),H_=e=>{const t=e.constructor&&e.constructor.prototype;return Be(t)&&t.hasOwnProperty("isPrototypeOf")},Lf=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Pe(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(Lf&&(e instanceof Blob||n))&&(r||Be(e)))if(t=r?[]:Object.create(Object.getPrototypeOf(e)),!r&&!H_(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=Pe(e[s]));else return e;return t}var Ll=e=>/^\w*$/.test(e),Re=e=>e===void 0,Ml=e=>Array.isArray(e)?e.filter(Boolean):[],Mf=e=>Ml(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Q=(e,t,r)=>{if(!t||!Be(e))return r;const n=(Ll(t)?[t]:Mf(t)).reduce((s,a)=>xt(s)?s:s[a],e);return Re(n)||n===e?Re(e[t])?r:e[t]:n},pr=e=>typeof e=="boolean",Se=(e,t,r)=>{let n=-1;const s=Ll(t)?[t]:Mf(t),a=s.length,i=a-1;for(;++n<a;){const o=s[n];let l=r;if(n!==i){const c=e[o];l=Be(c)||Array.isArray(c)?c:isNaN(+s[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;e[o]=l,e=e[o]}};const Sp={BLUR:"blur",FOCUS_OUT:"focusout"},Zt={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Er={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Nv=ge.createContext(null);Nv.displayName="HookFormContext";const W_=()=>ge.useContext(Nv);var Z_=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(s,a,{get:()=>{const i=a;return t._proxyFormState[i]!==Zt.all&&(t._proxyFormState[i]=!n||Zt.all),e[i]}});return s};const Ev=typeof window<"u"?ge.useLayoutEffect:ge.useEffect;var gr=e=>typeof e=="string",q_=(e,t,r,n,s)=>gr(e)?(n&&t.watch.add(e),Q(r,e,s)):Array.isArray(e)?e.map(a=>(n&&t.watch.add(a),Q(r,a))):(n&&(t.watchAll=!0),r),cd=e=>xt(e)||!kv(e);function sn(e,t,r=new WeakSet){if(cd(e)||cd(t))return e===t;if(Kn(e)&&Kn(t))return e.getTime()===t.getTime();const n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const a of n){const i=e[a];if(!s.includes(a))return!1;if(a!=="ref"){const o=t[a];if(Kn(i)&&Kn(o)||Be(i)&&Be(o)||Array.isArray(i)&&Array.isArray(o)?!sn(i,o,r):i!==o)return!1}}return!0}var Cv=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},jt=e=>Array.isArray(e)?e:[e],kp=()=>{let e=[];return{get observers(){return e},next:s=>{for(const a of e)a.next&&a.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(a=>a!==s)}}),unsubscribe:()=>{e=[]}}},yt=e=>Be(e)&&!Object.keys(e).length,Vf=e=>e.type==="file",nr=e=>typeof e=="function",il=e=>{if(!Lf)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},jv=e=>e.type==="select-multiple",Ff=e=>e.type==="radio",Q_=e=>Ff(e)||Ci(e),ku=e=>il(e)&&e.isConnected;function G_(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Re(e)?n++:e[t[n++]];return e}function Y_(e){for(const t in e)if(e.hasOwnProperty(t)&&!Re(e[t]))return!1;return!0}function Ue(e,t){const r=Array.isArray(t)?t:Ll(t)?[t]:Mf(t),n=r.length===1?e:G_(e,r),s=r.length-1,a=r[s];return n&&delete n[a],s!==0&&(Be(n)&&yt(n)||Array.isArray(n)&&Y_(n))&&Ue(e,r.slice(0,-1)),e}var Tv=e=>{for(const t in e)if(nr(e[t]))return!0;return!1};function ol(e,t={}){const r=Array.isArray(e);if(Be(e)||r)for(const n in e)Array.isArray(e[n])||Be(e[n])&&!Tv(e[n])?(t[n]=Array.isArray(e[n])?[]:{},ol(e[n],t[n])):xt(e[n])||(t[n]=!0);return t}function Av(e,t,r){const n=Array.isArray(e);if(Be(e)||n)for(const s in e)Array.isArray(e[s])||Be(e[s])&&!Tv(e[s])?Re(t)||cd(r[s])?r[s]=Array.isArray(e[s])?ol(e[s],[]):{...ol(e[s])}:Av(e[s],xt(t)?{}:t[s],r[s]):r[s]=!sn(e[s],t[s]);return r}var ga=(e,t)=>Av(e,t,ol(t));const Np={value:!1,isValid:!1},Ep={value:!0,isValid:!0};var Iv=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Re(e[0].attributes.value)?Re(e[0].value)||e[0].value===""?Ep:{value:e[0].value,isValid:!0}:Ep:Np}return Np},Pv=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Re(e)?e:t?e===""?NaN:e&&+e:r&&gr(e)?new Date(e):n?n(e):e;const Cp={isValid:!1,value:null};var Dv=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,Cp):Cp;function jp(e){const t=e.ref;return Vf(t)?t.files:Ff(t)?Dv(e.refs).value:jv(t)?[...t.selectedOptions].map(({value:r})=>r):Ci(t)?Iv(e.refs).value:Pv(Re(t.value)?e.ref.value:t.value,e)}var J_=(e,t,r,n)=>{const s={};for(const a of e){const i=Q(t,a);i&&Se(s,a,i._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},ll=e=>e instanceof RegExp,ya=e=>Re(e)?e:ll(e)?e.source:Be(e)?ll(e.value)?e.value.source:e.value:e,js=e=>({isOnSubmit:!e||e===Zt.onSubmit,isOnBlur:e===Zt.onBlur,isOnChange:e===Zt.onChange,isOnAll:e===Zt.all,isOnTouch:e===Zt.onTouched});const Tp="AsyncFunction";var X_=e=>!!e&&!!e.validate&&!!(nr(e.validate)&&e.validate.constructor.name===Tp||Be(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===Tp)),eS=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),dd=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Vs=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const a=Q(e,s);if(a){const{_f:i,...o}=a;if(i){if(i.refs&&i.refs[0]&&t(i.refs[0],s)&&!n)return!0;if(i.ref&&t(i.ref,i.name)&&!n)return!0;if(Vs(o,t))break}else if(Be(o)&&Vs(o,t))break}}};function Ap(e,t,r){const n=Q(e,r);if(n||Ll(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const a=s.join("."),i=Q(t,a),o=Q(e,a);if(i&&!Array.isArray(i)&&r!==a)return{name:r};if(o&&o.type)return{name:a,error:o};if(o&&o.root&&o.root.type)return{name:`${a}.root`,error:o.root};s.pop()}return{name:r}}var tS=(e,t,r,n)=>{r(e);const{name:s,...a}=e;return yt(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(i=>t[i]===(!n||Zt.all))},rS=(e,t,r)=>!e||!t||e===t||jt(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),nS=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,sS=(e,t)=>!Ml(Q(e,t)).length&&Ue(e,t),Rv=(e,t,r)=>{const n=jt(Q(e,r));return Se(n,"root",t[r]),Se(e,r,n),e},So=e=>gr(e);function Ip(e,t,r="validate"){if(So(e)||Array.isArray(e)&&e.every(So)||pr(e)&&!e)return{type:r,message:So(e)?e:"",ref:t}}var fs=e=>Be(e)&&!ll(e)?e:{value:e,message:""},fd=async(e,t,r,n,s,a)=>{const{ref:i,refs:o,required:l,maxLength:c,minLength:d,min:h,max:f,pattern:y,validate:m,name:w,valueAsNumber:k,mount:g}=e._f,p=Q(r,w);if(!g||t.has(w))return{};const x=o?o[0]:i,S=F=>{s&&x.reportValidity&&(x.setCustomValidity(pr(F)?"":F||""),x.reportValidity())},b={},_=Ff(i),v=Ci(i),E=_||v,j=(k||Vf(i))&&Re(i.value)&&Re(p)||il(i)&&i.value===""||p===""||Array.isArray(p)&&!p.length,A=Cv.bind(null,w,n,b),R=(F,V,K,se=Er.maxLength,ae=Er.minLength)=>{const ie=F?V:K;b[w]={type:F?se:ae,message:ie,ref:i,...A(F?se:ae,ie)}};if(a?!Array.isArray(p)||!p.length:l&&(!E&&(j||xt(p))||pr(p)&&!p||v&&!Iv(o).isValid||_&&!Dv(o).isValid)){const{value:F,message:V}=So(l)?{value:!!l,message:l}:fs(l);if(F&&(b[w]={type:Er.required,message:V,ref:x,...A(Er.required,V)},!n))return S(V),b}if(!j&&(!xt(h)||!xt(f))){let F,V;const K=fs(f),se=fs(h);if(!xt(p)&&!isNaN(p)){const ae=i.valueAsNumber||p&&+p;xt(K.value)||(F=ae>K.value),xt(se.value)||(V=ae<se.value)}else{const ae=i.valueAsDate||new Date(p),ie=U=>new Date(new Date().toDateString()+" "+U),M=i.type=="time",D=i.type=="week";gr(K.value)&&p&&(F=M?ie(p)>ie(K.value):D?p>K.value:ae>new Date(K.value)),gr(se.value)&&p&&(V=M?ie(p)<ie(se.value):D?p<se.value:ae<new Date(se.value))}if((F||V)&&(R(!!F,K.message,se.message,Er.max,Er.min),!n))return S(b[w].message),b}if((c||d)&&!j&&(gr(p)||a&&Array.isArray(p))){const F=fs(c),V=fs(d),K=!xt(F.value)&&p.length>+F.value,se=!xt(V.value)&&p.length<+V.value;if((K||se)&&(R(K,F.message,V.message),!n))return S(b[w].message),b}if(y&&!j&&gr(p)){const{value:F,message:V}=fs(y);if(ll(F)&&!p.match(F)&&(b[w]={type:Er.pattern,message:V,ref:i,...A(Er.pattern,V)},!n))return S(V),b}if(m){if(nr(m)){const F=await m(p,r),V=Ip(F,x);if(V&&(b[w]={...V,...A(Er.validate,V.message)},!n))return S(V.message),b}else if(Be(m)){let F={};for(const V in m){if(!yt(F)&&!n)break;const K=Ip(await m[V](p,r),x,V);K&&(F={...K,...A(V,K.message)},S(K.message),n&&(b[w]=F))}if(!yt(F)&&(b[w]={ref:x,...F},!n))return b}}return S(!0),b};const aS={mode:Zt.onSubmit,reValidateMode:Zt.onChange,shouldFocusError:!0};function iS(e={}){let t={...aS,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:nr(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},s=Be(t.defaultValues)||Be(t.values)?Pe(t.defaultValues||t.values)||{}:{},a=t.shouldUnregister?{}:Pe(s),i={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...d};const f={array:kp(),state:kp()},y=t.criteriaMode===Zt.all,m=N=>P=>{clearTimeout(c),c=setTimeout(N,P)},w=async N=>{if(!t.disabled&&(d.isValid||h.isValid||N)){const P=t.resolver?yt((await v()).errors):await j(n,!0);P!==r.isValid&&f.state.next({isValid:P})}},k=(N,P)=>{!t.disabled&&(d.isValidating||d.validatingFields||h.isValidating||h.validatingFields)&&((N||Array.from(o.mount)).forEach(L=>{L&&(P?Se(r.validatingFields,L,P):Ue(r.validatingFields,L))}),f.state.next({validatingFields:r.validatingFields,isValidating:!yt(r.validatingFields)}))},g=(N,P=[],L,q,Z=!0,B=!0)=>{if(q&&L&&!t.disabled){if(i.action=!0,B&&Array.isArray(Q(n,N))){const X=L(Q(n,N),q.argA,q.argB);Z&&Se(n,N,X)}if(B&&Array.isArray(Q(r.errors,N))){const X=L(Q(r.errors,N),q.argA,q.argB);Z&&Se(r.errors,N,X),sS(r.errors,N)}if((d.touchedFields||h.touchedFields)&&B&&Array.isArray(Q(r.touchedFields,N))){const X=L(Q(r.touchedFields,N),q.argA,q.argB);Z&&Se(r.touchedFields,N,X)}(d.dirtyFields||h.dirtyFields)&&(r.dirtyFields=ga(s,a)),f.state.next({name:N,isDirty:R(N,P),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Se(a,N,P)},p=(N,P)=>{Se(r.errors,N,P),f.state.next({errors:r.errors})},x=N=>{r.errors=N,f.state.next({errors:r.errors,isValid:!1})},S=(N,P,L,q)=>{const Z=Q(n,N);if(Z){const B=Q(a,N,Re(L)?Q(s,N):L);Re(B)||q&&q.defaultChecked||P?Se(a,N,P?B:jp(Z._f)):K(N,B),i.mount&&w()}},b=(N,P,L,q,Z)=>{let B=!1,X=!1;const we={name:N};if(!t.disabled){if(!L||q){(d.isDirty||h.isDirty)&&(X=r.isDirty,r.isDirty=we.isDirty=R(),B=X!==we.isDirty);const Ce=sn(Q(s,N),P);X=!!Q(r.dirtyFields,N),Ce?Ue(r.dirtyFields,N):Se(r.dirtyFields,N,!0),we.dirtyFields=r.dirtyFields,B=B||(d.dirtyFields||h.dirtyFields)&&X!==!Ce}if(L){const Ce=Q(r.touchedFields,N);Ce||(Se(r.touchedFields,N,L),we.touchedFields=r.touchedFields,B=B||(d.touchedFields||h.touchedFields)&&Ce!==L)}B&&Z&&f.state.next(we)}return B?we:{}},_=(N,P,L,q)=>{const Z=Q(r.errors,N),B=(d.isValid||h.isValid)&&pr(P)&&r.isValid!==P;if(t.delayError&&L?(l=m(()=>p(N,L)),l(t.delayError)):(clearTimeout(c),l=null,L?Se(r.errors,N,L):Ue(r.errors,N)),(L?!sn(Z,L):Z)||!yt(q)||B){const X={...q,...B&&pr(P)?{isValid:P}:{},errors:r.errors,name:N};r={...r,...X},f.state.next(X)}},v=async N=>{k(N,!0);const P=await t.resolver(a,t.context,J_(N||o.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return k(N),P},E=async N=>{const{errors:P}=await v(N);if(N)for(const L of N){const q=Q(P,L);q?Se(r.errors,L,q):Ue(r.errors,L)}else r.errors=P;return P},j=async(N,P,L={valid:!0})=>{for(const q in N){const Z=N[q];if(Z){const{_f:B,...X}=Z;if(B){const we=o.array.has(B.name),Ce=Z._f&&X_(Z._f);Ce&&d.validatingFields&&k([q],!0);const Kt=await fd(Z,o.disabled,a,y,t.shouldUseNativeValidation&&!P,we);if(Ce&&d.validatingFields&&k([q]),Kt[B.name]&&(L.valid=!1,P))break;!P&&(Q(Kt,B.name)?we?Rv(r.errors,Kt,B.name):Se(r.errors,B.name,Kt[B.name]):Ue(r.errors,B.name))}!yt(X)&&await j(X,P,L)}}return L.valid},A=()=>{for(const N of o.unMount){const P=Q(n,N);P&&(P._f.refs?P._f.refs.every(L=>!ku(L)):!ku(P._f.ref))&&Ee(N)}o.unMount=new Set},R=(N,P)=>!t.disabled&&(N&&P&&Se(a,N,P),!sn(U(),s)),F=(N,P,L)=>q_(N,o,{...i.mount?a:Re(P)?s:gr(N)?{[N]:P}:P},L,P),V=N=>Ml(Q(i.mount?a:s,N,t.shouldUnregister?Q(s,N,[]):[])),K=(N,P,L={})=>{const q=Q(n,N);let Z=P;if(q){const B=q._f;B&&(!B.disabled&&Se(a,N,Pv(P,B)),Z=il(B.ref)&&xt(P)?"":P,jv(B.ref)?[...B.ref.options].forEach(X=>X.selected=Z.includes(X.value)):B.refs?Ci(B.ref)?B.refs.forEach(X=>{(!X.defaultChecked||!X.disabled)&&(Array.isArray(Z)?X.checked=!!Z.find(we=>we===X.value):X.checked=Z===X.value||!!Z)}):B.refs.forEach(X=>X.checked=X.value===Z):Vf(B.ref)?B.ref.value="":(B.ref.value=Z,B.ref.type||f.state.next({name:N,values:Pe(a)})))}(L.shouldDirty||L.shouldTouch)&&b(N,Z,L.shouldTouch,L.shouldDirty,!0),L.shouldValidate&&D(N)},se=(N,P,L)=>{for(const q in P){if(!P.hasOwnProperty(q))return;const Z=P[q],B=N+"."+q,X=Q(n,B);(o.array.has(N)||Be(Z)||X&&!X._f)&&!Kn(Z)?se(B,Z,L):K(B,Z,L)}},ae=(N,P,L={})=>{const q=Q(n,N),Z=o.array.has(N),B=Pe(P);Se(a,N,B),Z?(f.array.next({name:N,values:Pe(a)}),(d.isDirty||d.dirtyFields||h.isDirty||h.dirtyFields)&&L.shouldDirty&&f.state.next({name:N,dirtyFields:ga(s,a),isDirty:R(N,B)})):q&&!q._f&&!xt(B)?se(N,B,L):K(N,B,L),dd(N,o)&&f.state.next({...r,name:N}),f.state.next({name:i.mount?N:void 0,values:Pe(a)})},ie=async N=>{i.mount=!0;const P=N.target;let L=P.name,q=!0;const Z=Q(n,L),B=Ce=>{q=Number.isNaN(Ce)||Kn(Ce)&&isNaN(Ce.getTime())||sn(Ce,Q(a,L,Ce))},X=js(t.mode),we=js(t.reValidateMode);if(Z){let Ce,Kt;const Ti=P.type?jp(Z._f):z_(N),Zr=N.type===Sp.BLUR||N.type===Sp.FOCUS_OUT,Qv=!eS(Z._f)&&!t.resolver&&!Q(r.errors,L)&&!Z._f.deps||nS(Zr,Q(r.touchedFields,L),r.isSubmitted,we,X),$l=dd(L,o,Zr);Se(a,L,Ti),Zr?(!P||!P.readOnly)&&(Z._f.onBlur&&Z._f.onBlur(N),l&&l(0)):Z._f.onChange&&Z._f.onChange(N);const Ul=b(L,Ti,Zr),Gv=!yt(Ul)||$l;if(!Zr&&f.state.next({name:L,type:N.type,values:Pe(a)}),Qv)return(d.isValid||h.isValid)&&(t.mode==="onBlur"?Zr&&w():Zr||w()),Gv&&f.state.next({name:L,...$l?{}:Ul});if(!Zr&&$l&&f.state.next({...r}),t.resolver){const{errors:zf}=await v([L]);if(B(Ti),q){const Yv=Ap(r.errors,n,L),Bf=Ap(zf,n,Yv.name||L);Ce=Bf.error,L=Bf.name,Kt=yt(zf)}}else k([L],!0),Ce=(await fd(Z,o.disabled,a,y,t.shouldUseNativeValidation))[L],k([L]),B(Ti),q&&(Ce?Kt=!1:(d.isValid||h.isValid)&&(Kt=await j(n,!0)));q&&(Z._f.deps&&D(Z._f.deps),_(L,Kt,Ce,Ul))}},M=(N,P)=>{if(Q(r.errors,P)&&N.focus)return N.focus(),1},D=async(N,P={})=>{let L,q;const Z=jt(N);if(t.resolver){const B=await E(Re(N)?N:Z);L=yt(B),q=N?!Z.some(X=>Q(B,X)):L}else N?(q=(await Promise.all(Z.map(async B=>{const X=Q(n,B);return await j(X&&X._f?{[B]:X}:X)}))).every(Boolean),!(!q&&!r.isValid)&&w()):q=L=await j(n);return f.state.next({...!gr(N)||(d.isValid||h.isValid)&&L!==r.isValid?{}:{name:N},...t.resolver||!N?{isValid:L}:{},errors:r.errors}),P.shouldFocus&&!q&&Vs(n,M,N?Z:o.mount),q},U=N=>{const P={...i.mount?a:s};return Re(N)?P:gr(N)?Q(P,N):N.map(L=>Q(P,L))},H=(N,P)=>({invalid:!!Q((P||r).errors,N),isDirty:!!Q((P||r).dirtyFields,N),error:Q((P||r).errors,N),isValidating:!!Q(r.validatingFields,N),isTouched:!!Q((P||r).touchedFields,N)}),re=N=>{N&&jt(N).forEach(P=>Ue(r.errors,P)),f.state.next({errors:N?r.errors:{}})},fe=(N,P,L)=>{const q=(Q(n,N,{_f:{}})._f||{}).ref,Z=Q(r.errors,N)||{},{ref:B,message:X,type:we,...Ce}=Z;Se(r.errors,N,{...Ce,...P,ref:q}),f.state.next({name:N,errors:r.errors,isValid:!1}),L&&L.shouldFocus&&q&&q.focus&&q.focus()},T=(N,P)=>nr(N)?f.state.subscribe({next:L=>"values"in L&&N(F(void 0,P),L)}):F(N,P,!0),O=N=>f.state.subscribe({next:P=>{rS(N.name,P.name,N.exact)&&tS(P,N.formState||d,Wr,N.reRenderRoot)&&N.callback({values:{...a},...r,...P,defaultValues:s})}}).unsubscribe,oe=N=>(i.mount=!0,h={...h,...N.formState},O({...N,formState:h})),Ee=(N,P={})=>{for(const L of N?jt(N):o.mount)o.mount.delete(L),o.array.delete(L),P.keepValue||(Ue(n,L),Ue(a,L)),!P.keepError&&Ue(r.errors,L),!P.keepDirty&&Ue(r.dirtyFields,L),!P.keepTouched&&Ue(r.touchedFields,L),!P.keepIsValidating&&Ue(r.validatingFields,L),!t.shouldUnregister&&!P.keepDefaultValue&&Ue(s,L);f.state.next({values:Pe(a)}),f.state.next({...r,...P.keepDirty?{isDirty:R()}:{}}),!P.keepIsValid&&w()},rt=({disabled:N,name:P})=>{(pr(N)&&i.mount||N||o.disabled.has(P))&&(N?o.disabled.add(P):o.disabled.delete(P))},be=(N,P={})=>{let L=Q(n,N);const q=pr(P.disabled)||pr(t.disabled);return Se(n,N,{...L||{},_f:{...L&&L._f?L._f:{ref:{name:N}},name:N,mount:!0,...P}}),o.mount.add(N),L?rt({disabled:pr(P.disabled)?P.disabled:t.disabled,name:N}):S(N,!0,P.value),{...q?{disabled:P.disabled||t.disabled}:{},...t.progressive?{required:!!P.required,min:ya(P.min),max:ya(P.max),minLength:ya(P.minLength),maxLength:ya(P.maxLength),pattern:ya(P.pattern)}:{},name:N,onChange:ie,onBlur:ie,ref:Z=>{if(Z){be(N,P),L=Q(n,N);const B=Re(Z.value)&&Z.querySelectorAll&&Z.querySelectorAll("input,select,textarea")[0]||Z,X=Q_(B),we=L._f.refs||[];if(X?we.find(Ce=>Ce===B):B===L._f.ref)return;Se(n,N,{_f:{...L._f,...X?{refs:[...we.filter(ku),B,...Array.isArray(Q(s,N))?[{}]:[]],ref:{type:B.type,name:N}}:{ref:B}}}),S(N,!1,void 0,B)}else L=Q(n,N,{}),L._f&&(L._f.mount=!1),(t.shouldUnregister||P.shouldUnregister)&&!(K_(o.array,N)&&i.action)&&o.unMount.add(N)}}},ot=()=>t.shouldFocusError&&Vs(n,M,o.mount),Bt=N=>{pr(N)&&(f.state.next({disabled:N}),Vs(n,(P,L)=>{const q=Q(n,L);q&&(P.disabled=q._f.disabled||N,Array.isArray(q._f.refs)&&q._f.refs.forEach(Z=>{Z.disabled=q._f.disabled||N}))},0,!1))},_e=(N,P)=>async L=>{let q;L&&(L.preventDefault&&L.preventDefault(),L.persist&&L.persist());let Z=Pe(a);if(f.state.next({isSubmitting:!0}),t.resolver){const{errors:B,values:X}=await v();r.errors=B,Z=Pe(X)}else await j(n);if(o.disabled.size)for(const B of o.disabled)Ue(Z,B);if(Ue(r.errors,"root"),yt(r.errors)){f.state.next({errors:{}});try{await N(Z,L)}catch(B){q=B}}else P&&await P({...r.errors},L),ot(),setTimeout(ot);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:yt(r.errors)&&!q,submitCount:r.submitCount+1,errors:r.errors}),q)throw q},mt=(N,P={})=>{Q(n,N)&&(Re(P.defaultValue)?ae(N,Pe(Q(s,N))):(ae(N,P.defaultValue),Se(s,N,Pe(P.defaultValue))),P.keepTouched||Ue(r.touchedFields,N),P.keepDirty||(Ue(r.dirtyFields,N),r.isDirty=P.defaultValue?R(N,Pe(Q(s,N))):R()),P.keepError||(Ue(r.errors,N),d.isValid&&w()),f.state.next({...r}))},ur=(N,P={})=>{const L=N?Pe(N):s,q=Pe(L),Z=yt(N),B=Z?s:q;if(P.keepDefaultValues||(s=L),!P.keepValues){if(P.keepDirtyValues){const X=new Set([...o.mount,...Object.keys(ga(s,a))]);for(const we of Array.from(X))Q(r.dirtyFields,we)?Se(B,we,Q(a,we)):ae(we,Q(B,we))}else{if(Lf&&Re(N))for(const X of o.mount){const we=Q(n,X);if(we&&we._f){const Ce=Array.isArray(we._f.refs)?we._f.refs[0]:we._f.ref;if(il(Ce)){const Kt=Ce.closest("form");if(Kt){Kt.reset();break}}}}if(P.keepFieldsRef)for(const X of o.mount)ae(X,Q(B,X));else n={}}a=t.shouldUnregister?P.keepDefaultValues?Pe(s):{}:Pe(B),f.array.next({values:{...B}}),f.state.next({values:{...B}})}o={mount:P.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},i.mount=!d.isValid||!!P.keepIsValid||!!P.keepDirtyValues,i.watch=!!t.shouldUnregister,f.state.next({submitCount:P.keepSubmitCount?r.submitCount:0,isDirty:Z?!1:P.keepDirty?r.isDirty:!!(P.keepDefaultValues&&!sn(N,s)),isSubmitted:P.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Z?{}:P.keepDirtyValues?P.keepDefaultValues&&a?ga(s,a):r.dirtyFields:P.keepDefaultValues&&N?ga(s,N):P.keepDirty?r.dirtyFields:{},touchedFields:P.keepTouched?r.touchedFields:{},errors:P.keepErrors?r.errors:{},isSubmitSuccessful:P.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},Dn=(N,P)=>ur(nr(N)?N(a):N,P),Rn=(N,P={})=>{const L=Q(n,N),q=L&&L._f;if(q){const Z=q.refs?q.refs[0]:q.ref;Z.focus&&(Z.focus(),P.shouldSelect&&nr(Z.select)&&Z.select())}},Wr=N=>{r={...r,...N}},lt={control:{register:be,unregister:Ee,getFieldState:H,handleSubmit:_e,setError:fe,_subscribe:O,_runSchema:v,_focusError:ot,_getWatch:F,_getDirty:R,_setValid:w,_setFieldArray:g,_setDisabledField:rt,_setErrors:x,_getFieldArray:V,_reset:ur,_resetDefaultValues:()=>nr(t.defaultValues)&&t.defaultValues().then(N=>{Dn(N,t.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:A,_disableForm:Bt,_subjects:f,_proxyFormState:d,get _fields(){return n},get _formValues(){return a},get _state(){return i},set _state(N){i=N},get _defaultValues(){return s},get _names(){return o},set _names(N){o=N},get _formState(){return r},get _options(){return t},set _options(N){t={...t,...N}}},subscribe:oe,trigger:D,register:be,handleSubmit:_e,watch:T,setValue:ae,getValues:U,reset:Dn,resetField:mt,clearErrors:re,unregister:Ee,setError:fe,setFocus:Rn,getFieldState:H};return{...lt,formControl:lt}}var Qr=()=>{if(typeof crypto<"u"&&crypto.randomUUID)return crypto.randomUUID();const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const r=(Math.random()*16+e)%16|0;return(t=="x"?r:r&3|8).toString(16)})},Nu=(e,t,r={})=>r.shouldFocus||Re(r.shouldFocus)?r.focusName||`${e}.${Re(r.focusIndex)?t:r.focusIndex}.`:"",Eu=(e,t)=>[...e,...jt(t)],Cu=e=>Array.isArray(e)?e.map(()=>{}):void 0;function ju(e,t,r){return[...e.slice(0,t),...jt(r),...e.slice(t)]}var Tu=(e,t,r)=>Array.isArray(e)?(Re(e[r])&&(e[r]=void 0),e.splice(r,0,e.splice(t,1)[0]),e):[],Au=(e,t)=>[...jt(t),...jt(e)];function oS(e,t){let r=0;const n=[...e];for(const s of t)n.splice(s-r,1),r++;return Ml(n).length?n:[]}var Iu=(e,t)=>Re(t)?[]:oS(e,jt(t).sort((r,n)=>r-n)),Pu=(e,t,r)=>{[e[t],e[r]]=[e[r],e[t]]},Pp=(e,t,r)=>(e[t]=r,e);function lS(e){const t=W_(),{control:r=t.control,name:n,keyName:s="id",shouldUnregister:a,rules:i}=e,[o,l]=ge.useState(r._getFieldArray(n)),c=ge.useRef(r._getFieldArray(n).map(Qr)),d=ge.useRef(o),h=ge.useRef(!1);d.current=o,r._names.array.add(n),ge.useMemo(()=>i&&r.register(n,i),[r,i,n]),Ev(()=>r._subjects.array.subscribe({next:({values:b,name:_})=>{if(_===n||!_){const v=Q(b,n);Array.isArray(v)&&(l(v),c.current=v.map(Qr))}}}).unsubscribe,[r,n]);const f=ge.useCallback(b=>{h.current=!0,r._setFieldArray(n,b)},[r,n]),y=(b,_)=>{const v=jt(Pe(b)),E=Eu(r._getFieldArray(n),v);r._names.focus=Nu(n,E.length-1,_),c.current=Eu(c.current,v.map(Qr)),f(E),l(E),r._setFieldArray(n,E,Eu,{argA:Cu(b)})},m=(b,_)=>{const v=jt(Pe(b)),E=Au(r._getFieldArray(n),v);r._names.focus=Nu(n,0,_),c.current=Au(c.current,v.map(Qr)),f(E),l(E),r._setFieldArray(n,E,Au,{argA:Cu(b)})},w=b=>{const _=Iu(r._getFieldArray(n),b);c.current=Iu(c.current,b),f(_),l(_),!Array.isArray(Q(r._fields,n))&&Se(r._fields,n,void 0),r._setFieldArray(n,_,Iu,{argA:b})},k=(b,_,v)=>{const E=jt(Pe(_)),j=ju(r._getFieldArray(n),b,E);r._names.focus=Nu(n,b,v),c.current=ju(c.current,b,E.map(Qr)),f(j),l(j),r._setFieldArray(n,j,ju,{argA:b,argB:Cu(_)})},g=(b,_)=>{const v=r._getFieldArray(n);Pu(v,b,_),Pu(c.current,b,_),f(v),l(v),r._setFieldArray(n,v,Pu,{argA:b,argB:_},!1)},p=(b,_)=>{const v=r._getFieldArray(n);Tu(v,b,_),Tu(c.current,b,_),f(v),l(v),r._setFieldArray(n,v,Tu,{argA:b,argB:_},!1)},x=(b,_)=>{const v=Pe(_),E=Pp(r._getFieldArray(n),b,v);c.current=[...E].map((j,A)=>!j||A===b?Qr():c.current[A]),f(E),l([...E]),r._setFieldArray(n,E,Pp,{argA:b,argB:v},!0,!1)},S=b=>{const _=jt(Pe(b));c.current=_.map(Qr),f([..._]),l([..._]),r._setFieldArray(n,[..._],v=>v,{},!0,!1)};return ge.useEffect(()=>{if(r._state.action=!1,dd(n,r._names)&&r._subjects.state.next({...r._formState}),h.current&&(!js(r._options.mode).isOnSubmit||r._formState.isSubmitted)&&!js(r._options.reValidateMode).isOnSubmit)if(r._options.resolver)r._runSchema([n]).then(b=>{const _=Q(b.errors,n),v=Q(r._formState.errors,n);(v?!_&&v.type||_&&(v.type!==_.type||v.message!==_.message):_&&_.type)&&(_?Se(r._formState.errors,n,_):Ue(r._formState.errors,n),r._subjects.state.next({errors:r._formState.errors}))});else{const b=Q(r._fields,n);b&&b._f&&!(js(r._options.reValidateMode).isOnSubmit&&js(r._options.mode).isOnSubmit)&&fd(b,r._names.disabled,r._formValues,r._options.criteriaMode===Zt.all,r._options.shouldUseNativeValidation,!0).then(_=>!yt(_)&&r._subjects.state.next({errors:Rv(r._formState.errors,_,n)}))}r._subjects.state.next({name:n,values:Pe(r._formValues)}),r._names.focus&&Vs(r._fields,(b,_)=>{if(r._names.focus&&_.startsWith(r._names.focus)&&b.focus)return b.focus(),1}),r._names.focus="",r._setValid(),h.current=!1},[o,n,r]),ge.useEffect(()=>(!Q(r._formValues,n)&&r._setFieldArray(n),()=>{const b=(_,v)=>{const E=Q(r._fields,_);E&&E._f&&(E._f.mount=v)};r._options.shouldUnregister||a?r.unregister(n):b(n,!1)}),[n,r,s,a]),{swap:ge.useCallback(g,[f,n,r]),move:ge.useCallback(p,[f,n,r]),prepend:ge.useCallback(m,[f,n,r]),append:ge.useCallback(y,[f,n,r]),remove:ge.useCallback(w,[f,n,r]),insert:ge.useCallback(k,[f,n,r]),update:ge.useCallback(x,[f,n,r]),replace:ge.useCallback(S,[f,n,r]),fields:ge.useMemo(()=>o.map((b,_)=>({...b,[s]:c.current[_]||Qr()})),[o,s])}}function Ov(e={}){const t=ge.useRef(void 0),r=ge.useRef(void 0),[n,s]=ge.useState({isDirty:!1,isValidating:!1,isLoading:nr(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:nr(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!nr(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:i,...o}=iS(e);t.current={...o,formState:n}}const a=t.current.control;return a._options=e,Ev(()=>{const i=a._subscribe({formState:a._proxyFormState,callback:()=>s({...a._formState}),reRenderRoot:!0});return s(o=>({...o,isReady:!0})),a._formState.isReady=!0,i},[a]),ge.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),ge.useEffect(()=>{e.mode&&(a._options.mode=e.mode),e.reValidateMode&&(a._options.reValidateMode=e.reValidateMode)},[a,e.mode,e.reValidateMode]),ge.useEffect(()=>{e.errors&&(a._setErrors(e.errors),a._focusError())},[a,e.errors]),ge.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,e.shouldUnregister]),ge.useEffect(()=>{if(a._proxyFormState.isDirty){const i=a._getDirty();i!==n.isDirty&&a._subjects.state.next({isDirty:i})}},[a,n.isDirty]),ge.useEffect(()=>{e.values&&!sn(e.values,r.current)?(a._reset(e.values,{keepFieldsRef:!0,...a._options.resetOptions}),r.current=e.values,s(i=>({...i}))):a._resetDefaultValues()},[a,e.values]),ge.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),t.current.formState=Z_(n,a),t.current}var xe;(function(e){e.assertEqual=s=>{};function t(s){}e.assertIs=t;function r(s){throw new Error}e.assertNever=r,e.arrayToEnum=s=>{const a={};for(const i of s)a[i]=i;return a},e.getValidEnumValues=s=>{const a=e.objectKeys(s).filter(o=>typeof s[s[o]]!="number"),i={};for(const o of a)i[o]=s[o];return e.objectValues(i)},e.objectValues=s=>e.objectKeys(s).map(function(a){return s[a]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const a=[];for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&a.push(i);return a},e.find=(s,a)=>{for(const i of s)if(a(i))return i},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,a=" | "){return s.map(i=>typeof i=="string"?`'${i}'`:i).join(a)}e.joinValues=n,e.jsonStringifyReplacer=(s,a)=>typeof a=="bigint"?a.toString():a})(xe||(xe={}));var Dp;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(Dp||(Dp={}));const ee=xe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),en=e=>{switch(typeof e){case"undefined":return ee.undefined;case"string":return ee.string;case"number":return Number.isNaN(e)?ee.nan:ee.number;case"boolean":return ee.boolean;case"function":return ee.function;case"bigint":return ee.bigint;case"symbol":return ee.symbol;case"object":return Array.isArray(e)?ee.array:e===null?ee.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?ee.promise:typeof Map<"u"&&e instanceof Map?ee.map:typeof Set<"u"&&e instanceof Set?ee.set:typeof Date<"u"&&e instanceof Date?ee.date:ee.object;default:return ee.unknown}},z=xe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Sr extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(a){return a.message},n={_errors:[]},s=a=>{for(const i of a.issues)if(i.code==="invalid_union")i.unionErrors.map(s);else if(i.code==="invalid_return_type")s(i.returnTypeError);else if(i.code==="invalid_arguments")s(i.argumentsError);else if(i.path.length===0)n._errors.push(r(i));else{let o=n,l=0;for(;l<i.path.length;){const c=i.path[l];l===i.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(r(i))):o[c]=o[c]||{_errors:[]},o=o[c],l++}}};return s(this),n}static assert(t){if(!(t instanceof Sr))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,xe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const s of this.issues)if(s.path.length>0){const a=s.path[0];r[a]=r[a]||[],r[a].push(t(s))}else n.push(t(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Sr.create=e=>new Sr(e);const hd=(e,t)=>{let r;switch(e.code){case z.invalid_type:e.received===ee.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case z.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,xe.jsonStringifyReplacer)}`;break;case z.unrecognized_keys:r=`Unrecognized key(s) in object: ${xe.joinValues(e.keys,", ")}`;break;case z.invalid_union:r="Invalid input";break;case z.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${xe.joinValues(e.options)}`;break;case z.invalid_enum_value:r=`Invalid enum value. Expected ${xe.joinValues(e.options)}, received '${e.received}'`;break;case z.invalid_arguments:r="Invalid function arguments";break;case z.invalid_return_type:r="Invalid function return type";break;case z.invalid_date:r="Invalid date";break;case z.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:xe.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case z.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case z.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case z.custom:r="Invalid input";break;case z.invalid_intersection_types:r="Intersection results could not be merged";break;case z.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case z.not_finite:r="Number must be finite";break;default:r=t.defaultError,xe.assertNever(e)}return{message:r}};let uS=hd;function cS(){return uS}const dS=e=>{const{data:t,path:r,errorMaps:n,issueData:s}=e,a=[...r,...s.path||[]],i={...s,path:a};if(s.message!==void 0)return{...s,path:a,message:s.message};let o="";const l=n.filter(c=>!!c).slice().reverse();for(const c of l)o=c(i,{data:t,defaultError:o}).message;return{...s,path:a,message:o}};function G(e,t){const r=cS(),n=dS({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===hd?void 0:hd].filter(s=>!!s)});e.common.issues.push(n)}class Ft{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const s of r){if(s.status==="aborted")return ce;s.status==="dirty"&&t.dirty(),n.push(s.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const s of r){const a=await s.key,i=await s.value;n.push({key:a,value:i})}return Ft.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const s of r){const{key:a,value:i}=s;if(a.status==="aborted"||i.status==="aborted")return ce;a.status==="dirty"&&t.dirty(),i.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof i.value<"u"||s.alwaysSet)&&(n[a.value]=i.value)}return{status:t.value,value:n}}}const ce=Object.freeze({status:"aborted"}),Na=e=>({status:"dirty",value:e}),Jt=e=>({status:"valid",value:e}),Rp=e=>e.status==="aborted",Op=e=>e.status==="dirty",qs=e=>e.status==="valid",ul=e=>typeof Promise<"u"&&e instanceof Promise;var te;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(te||(te={}));class jn{constructor(t,r,n,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Lp=(e,t)=>{if(qs(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Sr(e.common.issues);return this._error=r,this._error}}};function he(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(i,o)=>{const{message:l}=e;return i.code==="invalid_enum_value"?{message:l??o.defaultError}:typeof o.data>"u"?{message:l??n??o.defaultError}:i.code!=="invalid_type"?{message:o.defaultError}:{message:l??r??o.defaultError}},description:s}}class ve{get description(){return this._def.description}_getType(t){return en(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:en(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Ft,ctx:{common:t.parent.common,data:t.data,parsedType:en(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(ul(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:en(t)},s=this._parseSync({data:t,path:n.path,parent:n});return Lp(n,s)}"~validate"(t){var n,s;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:en(t)};if(!this["~standard"].async)try{const a=this._parseSync({data:t,path:[],parent:r});return qs(a)?{value:a.value}:{issues:r.common.issues}}catch(a){(s=(n=a==null?void 0:a.message)==null?void 0:n.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(a=>qs(a)?{value:a.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:en(t)},s=this._parse({data:t,path:n.path,parent:n}),a=await(ul(s)?s:Promise.resolve(s));return Lp(n,a)}refine(t,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,a)=>{const i=t(s),o=()=>a.addIssue({code:z.custom,...n(s)});return typeof Promise<"u"&&i instanceof Promise?i.then(l=>l?!0:(o(),!1)):i?!0:(o(),!1)})}refinement(t,r){return this._refinement((n,s)=>t(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(t){return new Ys({schema:this,typeName:de.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return _n.create(this,this._def)}nullable(){return Js.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return _r.create(this)}promise(){return hl.create(this,this._def)}or(t){return dl.create([this,t],this._def)}and(t){return fl.create(this,t,this._def)}transform(t){return new Ys({...he(this._def),schema:this,typeName:de.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new gd({...he(this._def),innerType:this,defaultValue:r,typeName:de.ZodDefault})}brand(){return new RS({typeName:de.ZodBranded,type:this,...he(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new yd({...he(this._def),innerType:this,catchValue:r,typeName:de.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return $f.create(this,t)}readonly(){return vd.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const fS=/^c[^\s-]{8,}$/i,hS=/^[0-9a-z]+$/,pS=/^[0-9A-HJKMNP-TV-Z]{26}$/i,mS=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,gS=/^[a-z0-9_-]{21}$/i,yS=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,vS=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,xS=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,wS="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Du;const bS=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,_S=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,SS=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,kS=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,NS=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,ES=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Lv="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",CS=new RegExp(`^${Lv}$`);function Mv(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function jS(e){return new RegExp(`^${Mv(e)}$`)}function TS(e){let t=`${Lv}T${Mv(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function AS(e,t){return!!((t==="v4"||!t)&&bS.test(e)||(t==="v6"||!t)&&SS.test(e))}function IS(e,t){if(!yS.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||t&&s.alg!==t)}catch{return!1}}function PS(e,t){return!!((t==="v4"||!t)&&_S.test(e)||(t==="v6"||!t)&&kS.test(e))}class ln extends ve{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==ee.string){const a=this._getOrReturnCtx(t);return G(a,{code:z.invalid_type,expected:ee.string,received:a.parsedType}),ce}const n=new Ft;let s;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(s=this._getOrReturnCtx(t,s),G(s,{code:z.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")t.data.length>a.value&&(s=this._getOrReturnCtx(t,s),G(s,{code:z.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const i=t.data.length>a.value,o=t.data.length<a.value;(i||o)&&(s=this._getOrReturnCtx(t,s),i?G(s,{code:z.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):o&&G(s,{code:z.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")xS.test(t.data)||(s=this._getOrReturnCtx(t,s),G(s,{validation:"email",code:z.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")Du||(Du=new RegExp(wS,"u")),Du.test(t.data)||(s=this._getOrReturnCtx(t,s),G(s,{validation:"emoji",code:z.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")mS.test(t.data)||(s=this._getOrReturnCtx(t,s),G(s,{validation:"uuid",code:z.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")gS.test(t.data)||(s=this._getOrReturnCtx(t,s),G(s,{validation:"nanoid",code:z.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")fS.test(t.data)||(s=this._getOrReturnCtx(t,s),G(s,{validation:"cuid",code:z.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")hS.test(t.data)||(s=this._getOrReturnCtx(t,s),G(s,{validation:"cuid2",code:z.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")pS.test(t.data)||(s=this._getOrReturnCtx(t,s),G(s,{validation:"ulid",code:z.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),G(s,{validation:"url",code:z.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),G(s,{validation:"regex",code:z.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(t,s),G(s,{code:z.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(s=this._getOrReturnCtx(t,s),G(s,{code:z.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(s=this._getOrReturnCtx(t,s),G(s,{code:z.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?TS(a).test(t.data)||(s=this._getOrReturnCtx(t,s),G(s,{code:z.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?CS.test(t.data)||(s=this._getOrReturnCtx(t,s),G(s,{code:z.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?jS(a).test(t.data)||(s=this._getOrReturnCtx(t,s),G(s,{code:z.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?vS.test(t.data)||(s=this._getOrReturnCtx(t,s),G(s,{validation:"duration",code:z.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?AS(t.data,a.version)||(s=this._getOrReturnCtx(t,s),G(s,{validation:"ip",code:z.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?IS(t.data,a.alg)||(s=this._getOrReturnCtx(t,s),G(s,{validation:"jwt",code:z.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?PS(t.data,a.version)||(s=this._getOrReturnCtx(t,s),G(s,{validation:"cidr",code:z.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?NS.test(t.data)||(s=this._getOrReturnCtx(t,s),G(s,{validation:"base64",code:z.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?ES.test(t.data)||(s=this._getOrReturnCtx(t,s),G(s,{validation:"base64url",code:z.invalid_string,message:a.message}),n.dirty()):xe.assertNever(a);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(s=>t.test(s),{validation:r,code:z.invalid_string,...te.errToObj(n)})}_addCheck(t){return new ln({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...te.errToObj(t)})}url(t){return this._addCheck({kind:"url",...te.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...te.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...te.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...te.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...te.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...te.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...te.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...te.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...te.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...te.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...te.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...te.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...te.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...te.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...te.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...te.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...te.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...te.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...te.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...te.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...te.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...te.errToObj(r)})}nonempty(t){return this.min(1,te.errToObj(t))}trim(){return new ln({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ln({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ln({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}ln.create=e=>new ln({checks:[],typeName:de.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...he(e)});function DS(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=r>n?r:n,a=Number.parseInt(e.toFixed(s).replace(".","")),i=Number.parseInt(t.toFixed(s).replace(".",""));return a%i/10**s}class Qs extends ve{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==ee.number){const a=this._getOrReturnCtx(t);return G(a,{code:z.invalid_type,expected:ee.number,received:a.parsedType}),ce}let n;const s=new Ft;for(const a of this._def.checks)a.kind==="int"?xe.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),G(n,{code:z.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),G(n,{code:z.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),G(n,{code:z.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?DS(t.data,a.value)!==0&&(n=this._getOrReturnCtx(t,n),G(n,{code:z.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),G(n,{code:z.not_finite,message:a.message}),s.dirty()):xe.assertNever(a);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,te.toString(r))}gt(t,r){return this.setLimit("min",t,!1,te.toString(r))}lte(t,r){return this.setLimit("max",t,!0,te.toString(r))}lt(t,r){return this.setLimit("max",t,!1,te.toString(r))}setLimit(t,r,n,s){return new Qs({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:te.toString(s)}]})}_addCheck(t){return new Qs({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:te.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:te.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:te.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:te.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:te.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:te.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:te.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:te.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:te.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&xe.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Qs.create=e=>new Qs({checks:[],typeName:de.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...he(e)});class pi extends ve{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==ee.bigint)return this._getInvalidInput(t);let n;const s=new Ft;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),G(n,{code:z.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),G(n,{code:z.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),G(n,{code:z.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):xe.assertNever(a);return{status:s.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return G(r,{code:z.invalid_type,expected:ee.bigint,received:r.parsedType}),ce}gte(t,r){return this.setLimit("min",t,!0,te.toString(r))}gt(t,r){return this.setLimit("min",t,!1,te.toString(r))}lte(t,r){return this.setLimit("max",t,!0,te.toString(r))}lt(t,r){return this.setLimit("max",t,!1,te.toString(r))}setLimit(t,r,n,s){return new pi({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:te.toString(s)}]})}_addCheck(t){return new pi({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:te.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:te.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:te.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:te.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:te.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}pi.create=e=>new pi({checks:[],typeName:de.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...he(e)});class pd extends ve{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==ee.boolean){const n=this._getOrReturnCtx(t);return G(n,{code:z.invalid_type,expected:ee.boolean,received:n.parsedType}),ce}return Jt(t.data)}}pd.create=e=>new pd({typeName:de.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...he(e)});class cl extends ve{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==ee.date){const a=this._getOrReturnCtx(t);return G(a,{code:z.invalid_type,expected:ee.date,received:a.parsedType}),ce}if(Number.isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return G(a,{code:z.invalid_date}),ce}const n=new Ft;let s;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(s=this._getOrReturnCtx(t,s),G(s,{code:z.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(s=this._getOrReturnCtx(t,s),G(s,{code:z.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):xe.assertNever(a);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new cl({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:te.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:te.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}cl.create=e=>new cl({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:de.ZodDate,...he(e)});class Mp extends ve{_parse(t){if(this._getType(t)!==ee.symbol){const n=this._getOrReturnCtx(t);return G(n,{code:z.invalid_type,expected:ee.symbol,received:n.parsedType}),ce}return Jt(t.data)}}Mp.create=e=>new Mp({typeName:de.ZodSymbol,...he(e)});class Vp extends ve{_parse(t){if(this._getType(t)!==ee.undefined){const n=this._getOrReturnCtx(t);return G(n,{code:z.invalid_type,expected:ee.undefined,received:n.parsedType}),ce}return Jt(t.data)}}Vp.create=e=>new Vp({typeName:de.ZodUndefined,...he(e)});class Fp extends ve{_parse(t){if(this._getType(t)!==ee.null){const n=this._getOrReturnCtx(t);return G(n,{code:z.invalid_type,expected:ee.null,received:n.parsedType}),ce}return Jt(t.data)}}Fp.create=e=>new Fp({typeName:de.ZodNull,...he(e)});class $p extends ve{constructor(){super(...arguments),this._any=!0}_parse(t){return Jt(t.data)}}$p.create=e=>new $p({typeName:de.ZodAny,...he(e)});class Up extends ve{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Jt(t.data)}}Up.create=e=>new Up({typeName:de.ZodUnknown,...he(e)});class Tn extends ve{_parse(t){const r=this._getOrReturnCtx(t);return G(r,{code:z.invalid_type,expected:ee.never,received:r.parsedType}),ce}}Tn.create=e=>new Tn({typeName:de.ZodNever,...he(e)});class zp extends ve{_parse(t){if(this._getType(t)!==ee.undefined){const n=this._getOrReturnCtx(t);return G(n,{code:z.invalid_type,expected:ee.void,received:n.parsedType}),ce}return Jt(t.data)}}zp.create=e=>new zp({typeName:de.ZodVoid,...he(e)});class _r extends ve{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),s=this._def;if(r.parsedType!==ee.array)return G(r,{code:z.invalid_type,expected:ee.array,received:r.parsedType}),ce;if(s.exactLength!==null){const i=r.data.length>s.exactLength.value,o=r.data.length<s.exactLength.value;(i||o)&&(G(r,{code:i?z.too_big:z.too_small,minimum:o?s.exactLength.value:void 0,maximum:i?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(G(r,{code:z.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(G(r,{code:z.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((i,o)=>s.type._parseAsync(new jn(r,i,r.path,o)))).then(i=>Ft.mergeArray(n,i));const a=[...r.data].map((i,o)=>s.type._parseSync(new jn(r,i,r.path,o)));return Ft.mergeArray(n,a)}get element(){return this._def.type}min(t,r){return new _r({...this._def,minLength:{value:t,message:te.toString(r)}})}max(t,r){return new _r({...this._def,maxLength:{value:t,message:te.toString(r)}})}length(t,r){return new _r({...this._def,exactLength:{value:t,message:te.toString(r)}})}nonempty(t){return this.min(1,t)}}_r.create=(e,t)=>new _r({type:e,minLength:null,maxLength:null,exactLength:null,typeName:de.ZodArray,...he(t)});function ms(e){if(e instanceof Ke){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=_n.create(ms(n))}return new Ke({...e._def,shape:()=>t})}else return e instanceof _r?new _r({...e._def,type:ms(e.element)}):e instanceof _n?_n.create(ms(e.unwrap())):e instanceof Js?Js.create(ms(e.unwrap())):e instanceof ss?ss.create(e.items.map(t=>ms(t))):e}class Ke extends ve{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=xe.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==ee.object){const c=this._getOrReturnCtx(t);return G(c,{code:z.invalid_type,expected:ee.object,received:c.parsedType}),ce}const{status:n,ctx:s}=this._processInputParams(t),{shape:a,keys:i}=this._getCached(),o=[];if(!(this._def.catchall instanceof Tn&&this._def.unknownKeys==="strip"))for(const c in s.data)i.includes(c)||o.push(c);const l=[];for(const c of i){const d=a[c],h=s.data[c];l.push({key:{status:"valid",value:c},value:d._parse(new jn(s,h,s.path,c)),alwaysSet:c in s.data})}if(this._def.catchall instanceof Tn){const c=this._def.unknownKeys;if(c==="passthrough")for(const d of o)l.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(c==="strict")o.length>0&&(G(s,{code:z.unrecognized_keys,keys:o}),n.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const d of o){const h=s.data[d];l.push({key:{status:"valid",value:d},value:c._parse(new jn(s,h,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const c=[];for(const d of l){const h=await d.key,f=await d.value;c.push({key:h,value:f,alwaysSet:d.alwaysSet})}return c}).then(c=>Ft.mergeObjectSync(n,c)):Ft.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(t){return te.errToObj,new Ke({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var a,i;const s=((i=(a=this._def).errorMap)==null?void 0:i.call(a,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:te.errToObj(t).message??s}:{message:s}}}:{}})}strip(){return new Ke({...this._def,unknownKeys:"strip"})}passthrough(){return new Ke({...this._def,unknownKeys:"passthrough"})}extend(t){return new Ke({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Ke({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:de.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Ke({...this._def,catchall:t})}pick(t){const r={};for(const n of xe.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Ke({...this._def,shape:()=>r})}omit(t){const r={};for(const n of xe.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new Ke({...this._def,shape:()=>r})}deepPartial(){return ms(this)}partial(t){const r={};for(const n of xe.objectKeys(this.shape)){const s=this.shape[n];t&&!t[n]?r[n]=s:r[n]=s.optional()}return new Ke({...this._def,shape:()=>r})}required(t){const r={};for(const n of xe.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof _n;)a=a._def.innerType;r[n]=a}return new Ke({...this._def,shape:()=>r})}keyof(){return Vv(xe.objectKeys(this.shape))}}Ke.create=(e,t)=>new Ke({shape:()=>e,unknownKeys:"strip",catchall:Tn.create(),typeName:de.ZodObject,...he(t)});Ke.strictCreate=(e,t)=>new Ke({shape:()=>e,unknownKeys:"strict",catchall:Tn.create(),typeName:de.ZodObject,...he(t)});Ke.lazycreate=(e,t)=>new Ke({shape:e,unknownKeys:"strip",catchall:Tn.create(),typeName:de.ZodObject,...he(t)});class dl extends ve{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function s(a){for(const o of a)if(o.result.status==="valid")return o.result;for(const o of a)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;const i=a.map(o=>new Sr(o.ctx.common.issues));return G(r,{code:z.invalid_union,unionErrors:i}),ce}if(r.common.async)return Promise.all(n.map(async a=>{const i={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:i}),ctx:i}})).then(s);{let a;const i=[];for(const l of n){const c={...r,common:{...r.common,issues:[]},parent:null},d=l._parseSync({data:r.data,path:r.path,parent:c});if(d.status==="valid")return d;d.status==="dirty"&&!a&&(a={result:d,ctx:c}),c.common.issues.length&&i.push(c.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(l=>new Sr(l));return G(r,{code:z.invalid_union,unionErrors:o}),ce}}get options(){return this._def.options}}dl.create=(e,t)=>new dl({options:e,typeName:de.ZodUnion,...he(t)});function md(e,t){const r=en(e),n=en(t);if(e===t)return{valid:!0,data:e};if(r===ee.object&&n===ee.object){const s=xe.objectKeys(t),a=xe.objectKeys(e).filter(o=>s.indexOf(o)!==-1),i={...e,...t};for(const o of a){const l=md(e[o],t[o]);if(!l.valid)return{valid:!1};i[o]=l.data}return{valid:!0,data:i}}else if(r===ee.array&&n===ee.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let a=0;a<e.length;a++){const i=e[a],o=t[a],l=md(i,o);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return r===ee.date&&n===ee.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class fl extends ve{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=(a,i)=>{if(Rp(a)||Rp(i))return ce;const o=md(a.value,i.value);return o.valid?((Op(a)||Op(i))&&r.dirty(),{status:r.value,value:o.data}):(G(n,{code:z.invalid_intersection_types}),ce)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,i])=>s(a,i)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}fl.create=(e,t,r)=>new fl({left:e,right:t,typeName:de.ZodIntersection,...he(r)});class ss extends ve{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ee.array)return G(n,{code:z.invalid_type,expected:ee.array,received:n.parsedType}),ce;if(n.data.length<this._def.items.length)return G(n,{code:z.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ce;!this._def.rest&&n.data.length>this._def.items.length&&(G(n,{code:z.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((i,o)=>{const l=this._def.items[o]||this._def.rest;return l?l._parse(new jn(n,i,n.path,o)):null}).filter(i=>!!i);return n.common.async?Promise.all(a).then(i=>Ft.mergeArray(r,i)):Ft.mergeArray(r,a)}get items(){return this._def.items}rest(t){return new ss({...this._def,rest:t})}}ss.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ss({items:e,typeName:de.ZodTuple,rest:null,...he(t)})};class Bp extends ve{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ee.map)return G(n,{code:z.invalid_type,expected:ee.map,received:n.parsedType}),ce;const s=this._def.keyType,a=this._def.valueType,i=[...n.data.entries()].map(([o,l],c)=>({key:s._parse(new jn(n,o,n.path,[c,"key"])),value:a._parse(new jn(n,l,n.path,[c,"value"]))}));if(n.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const l of i){const c=await l.key,d=await l.value;if(c.status==="aborted"||d.status==="aborted")return ce;(c.status==="dirty"||d.status==="dirty")&&r.dirty(),o.set(c.value,d.value)}return{status:r.value,value:o}})}else{const o=new Map;for(const l of i){const c=l.key,d=l.value;if(c.status==="aborted"||d.status==="aborted")return ce;(c.status==="dirty"||d.status==="dirty")&&r.dirty(),o.set(c.value,d.value)}return{status:r.value,value:o}}}}Bp.create=(e,t,r)=>new Bp({valueType:t,keyType:e,typeName:de.ZodMap,...he(r)});class mi extends ve{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ee.set)return G(n,{code:z.invalid_type,expected:ee.set,received:n.parsedType}),ce;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(G(n,{code:z.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(G(n,{code:z.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const a=this._def.valueType;function i(l){const c=new Set;for(const d of l){if(d.status==="aborted")return ce;d.status==="dirty"&&r.dirty(),c.add(d.value)}return{status:r.value,value:c}}const o=[...n.data.values()].map((l,c)=>a._parse(new jn(n,l,n.path,c)));return n.common.async?Promise.all(o).then(l=>i(l)):i(o)}min(t,r){return new mi({...this._def,minSize:{value:t,message:te.toString(r)}})}max(t,r){return new mi({...this._def,maxSize:{value:t,message:te.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}mi.create=(e,t)=>new mi({valueType:e,minSize:null,maxSize:null,typeName:de.ZodSet,...he(t)});class Kp extends ve{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Kp.create=(e,t)=>new Kp({getter:e,typeName:de.ZodLazy,...he(t)});class Hp extends ve{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return G(r,{received:r.data,code:z.invalid_literal,expected:this._def.value}),ce}return{status:"valid",value:t.data}}get value(){return this._def.value}}Hp.create=(e,t)=>new Hp({value:e,typeName:de.ZodLiteral,...he(t)});function Vv(e,t){return new Gs({values:e,typeName:de.ZodEnum,...he(t)})}class Gs extends ve{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return G(r,{expected:xe.joinValues(n),received:r.parsedType,code:z.invalid_type}),ce}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return G(r,{received:r.data,code:z.invalid_enum_value,options:n}),ce}return Jt(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Gs.create(t,{...this._def,...r})}exclude(t,r=this._def){return Gs.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}Gs.create=Vv;class Wp extends ve{_parse(t){const r=xe.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==ee.string&&n.parsedType!==ee.number){const s=xe.objectValues(r);return G(n,{expected:xe.joinValues(s),received:n.parsedType,code:z.invalid_type}),ce}if(this._cache||(this._cache=new Set(xe.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const s=xe.objectValues(r);return G(n,{received:n.data,code:z.invalid_enum_value,options:s}),ce}return Jt(t.data)}get enum(){return this._def.values}}Wp.create=(e,t)=>new Wp({values:e,typeName:de.ZodNativeEnum,...he(t)});class hl extends ve{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==ee.promise&&r.common.async===!1)return G(r,{code:z.invalid_type,expected:ee.promise,received:r.parsedType}),ce;const n=r.parsedType===ee.promise?r.data:Promise.resolve(r.data);return Jt(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}hl.create=(e,t)=>new hl({type:e,typeName:de.ZodPromise,...he(t)});class Ys extends ve{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===de.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=this._def.effect||null,a={addIssue:i=>{G(n,i),i.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){const i=s.transform(n.data,a);if(n.common.async)return Promise.resolve(i).then(async o=>{if(r.value==="aborted")return ce;const l=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return l.status==="aborted"?ce:l.status==="dirty"||r.value==="dirty"?Na(l.value):l});{if(r.value==="aborted")return ce;const o=this._def.schema._parseSync({data:i,path:n.path,parent:n});return o.status==="aborted"?ce:o.status==="dirty"||r.value==="dirty"?Na(o.value):o}}if(s.type==="refinement"){const i=o=>{const l=s.refinement(o,a);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?ce:(o.status==="dirty"&&r.dirty(),i(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?ce:(o.status==="dirty"&&r.dirty(),i(o.value).then(()=>({status:r.value,value:o.value}))))}if(s.type==="transform")if(n.common.async===!1){const i=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!qs(i))return ce;const o=s.transform(i.value,a);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(i=>qs(i)?Promise.resolve(s.transform(i.value,a)).then(o=>({status:r.value,value:o})):ce);xe.assertNever(s)}}Ys.create=(e,t,r)=>new Ys({schema:e,typeName:de.ZodEffects,effect:t,...he(r)});Ys.createWithPreprocess=(e,t,r)=>new Ys({schema:t,effect:{type:"preprocess",transform:e},typeName:de.ZodEffects,...he(r)});class _n extends ve{_parse(t){return this._getType(t)===ee.undefined?Jt(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}_n.create=(e,t)=>new _n({innerType:e,typeName:de.ZodOptional,...he(t)});class Js extends ve{_parse(t){return this._getType(t)===ee.null?Jt(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Js.create=(e,t)=>new Js({innerType:e,typeName:de.ZodNullable,...he(t)});class gd extends ve{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===ee.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}gd.create=(e,t)=>new gd({innerType:e,typeName:de.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...he(t)});class yd extends ve{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return ul(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Sr(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Sr(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}yd.create=(e,t)=>new yd({innerType:e,typeName:de.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...he(t)});class Zp extends ve{_parse(t){if(this._getType(t)!==ee.nan){const n=this._getOrReturnCtx(t);return G(n,{code:z.invalid_type,expected:ee.nan,received:n.parsedType}),ce}return{status:"valid",value:t.data}}}Zp.create=e=>new Zp({typeName:de.ZodNaN,...he(e)});class RS extends ve{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class $f extends ve{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?ce:a.status==="dirty"?(r.dirty(),Na(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?ce:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(t,r){return new $f({in:t,out:r,typeName:de.ZodPipeline})}}class vd extends ve{_parse(t){const r=this._def.innerType._parse(t),n=s=>(qs(s)&&(s.value=Object.freeze(s.value)),s);return ul(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}vd.create=(e,t)=>new vd({innerType:e,typeName:de.ZodReadonly,...he(t)});var de;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(de||(de={}));const W=ln.create,Ge=Qs.create,Fv=pd.create;Tn.create;const gt=_r.create,tt=Ke.create;dl.create;fl.create;ss.create;const pl=Gs.create;hl.create;_n.create;Js.create;const qp=(e,t,r)=>{if(e&&"reportValidity"in e){const n=Q(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},$v=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?qp(n.ref,r,e):n.refs&&n.refs.forEach(s=>qp(s,r,e))}},OS=(e,t)=>{t.shouldUseNativeValidation&&$v(e,t);const r={};for(const n in e){const s=Q(t.fields,n),a=Object.assign(e[n]||{},{ref:s&&s.ref});if(LS(t.names||Object.keys(e),n)){const i=Object.assign({},Q(r,n));Se(i,"root",a),Se(r,n,i)}else Se(r,n,a)}return r},LS=(e,t)=>e.some(r=>r.startsWith(t+"."));var MS=function(e,t){for(var r={};e.length;){var n=e[0],s=n.code,a=n.message,i=n.path.join(".");if(!r[i])if("unionErrors"in n){var o=n.unionErrors[0].errors[0];r[i]={message:o.message,type:o.code}}else r[i]={message:a,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(h){return e.push(h)})}),t){var l=r[i].types,c=l&&l[n.code];r[i]=Cv(i,t,r,s,c?[].concat(c,n.message):n.message)}e.shift()}return r},Uv=function(e,t,r){return r===void 0&&(r={}),function(n,s,a){try{return Promise.resolve(function(i,o){try{var l=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(c){return a.shouldUseNativeValidation&&$v({},a),{errors:{},values:r.raw?n:c}})}catch(c){return o(c)}return l&&l.then?l.then(void 0,o):l}(0,function(i){if(function(o){return Array.isArray(o==null?void 0:o.errors)}(i))return{values:{},errors:OS(MS(i.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw i}))}catch(i){return Promise.reject(i)}}};const ji=()=>{var a;const{state:e,dispatch:t}=ls(),r=zt(),n=p_(e),s=((a=e.auth.currentUser)==null?void 0:a.id)??"";return{territorios:n,addTerritorio:C.useCallback(async i=>{const o={id:Ei(),publisherId:s,...i};return await or.add(o),t({type:"ADD_TERRITORIO",payload:o}),r.success("Territrio salvo"),o},[s,t,r]),updateTerritorio:C.useCallback(async(i,o)=>{const l=n.find(h=>h.id===i),c=(l==null?void 0:l.publisherId)??s,d={id:i,publisherId:c,...o};return await or.add(d),t({type:"UPDATE_TERRITORIO",payload:d}),r.success("Territrio atualizado"),d},[s,t,n,r]),removeTerritorio:C.useCallback(async i=>{await or.remove(i),t({type:"REMOVE_TERRITORIO",payload:i}),r.success("Territrio removido")},[t,r])}},VS=tt({nome:W().min(1,"territories.validation.nameRequired"),imagem:W().optional()}),Ru=5,FS=()=>{var A;const{territorios:e,addTerritorio:t,removeTerritorio:r,updateTerritorio:n}=ji(),s=ia(),{t:a}=qe(),{register:i,handleSubmit:o,reset:l,setValue:c,watch:d,formState:h}=Ov({resolver:Uv(VS),defaultValues:{nome:"",imagem:void 0}}),{errors:f}=h,[y,m]=C.useState(null),[w,k]=C.useState(""),[g,p]=C.useState(!1),[x,S]=C.useState(1),b=e.filter(R=>R.nome.toLowerCase().includes(w.toLowerCase())&&(!g||!!(R.imagem||R.imageUrl))),_=Math.max(1,Math.ceil(b.length/Ru));C.useEffect(()=>{x>_&&S(_)},[x,_]);const v=b.slice((x-1)*Ru,x*Ru),E=async R=>{y?await n(y,R):await t(R),l(),m(null)},j=R=>{m(R.id),l({nome:R.nome,imagem:R.imagem??R.imageUrl})};return u.jsxs("div",{className:"grid gap-4",children:[u.jsx(Vt,{title:a(y?"territories.editTerritory":"territories.createTerritory"),children:u.jsxs("form",{onSubmit:o(E),className:"grid md:grid-cols-3 gap-3",children:[u.jsxs("div",{className:"grid gap-1",children:[u.jsx(Me,{children:a("territories.name")}),u.jsx(He,{...i("nome"),placeholder:a("territories.namePlaceholder")}),((A=f.nome)==null?void 0:A.message)&&u.jsx("p",{className:"text-sm text-red-600",children:a(f.nome.message)})]}),u.jsxs("div",{className:"grid gap-1 md:col-span-2",children:[u.jsx(Me,{children:a("territories.optionalImage")}),u.jsx(S_,{value:d("imagem"),onChange:R=>c("imagem",R),compress:!0})]}),u.jsxs("div",{className:"md:col-span-3 flex justify-end gap-2",children:[y&&u.jsx(me,{type:"button",onClick:()=>{l(),m(null)},className:"bg-neutral-100",children:a("common.cancel")}),u.jsx(me,{type:"submit",className:"bg-black text-white",children:a(y?"common.update":"territories.saveTerritory")})]})]})}),u.jsx(Vt,{title:a("territories.territoriesWithCount",{count:b.length}),actions:u.jsxs("div",{className:"flex gap-2 items-center",children:[u.jsx(He,{placeholder:a("territories.searchPlaceholder"),value:w,onChange:R=>{k(R.target.value),S(1)},className:"max-w-xs"}),u.jsxs("label",{className:"flex items-center gap-1 text-sm",children:[u.jsx("input",{type:"checkbox",checked:g,onChange:R=>{p(R.target.checked),S(1)}}),a("territories.withImage")]})]}),children:b.length===0?u.jsx("p",{className:"text-neutral-500",children:a("territories.noTerritories")}):u.jsxs("div",{className:"overflow-x-auto",children:[u.jsxs("table",{className:"w-full text-sm",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-left border-b",children:[u.jsx("th",{className:"py-2",children:a("territories.name")}),u.jsx("th",{children:a("territories.image")}),u.jsx("th",{})]})}),u.jsx("tbody",{children:v.map(R=>u.jsxs("tr",{className:"border-b last:border-0",children:[u.jsx("td",{className:"py-2",children:R.nome}),u.jsx("td",{children:R.imagem||R.imageUrl?u.jsx("img",{src:R.imagem||R.imageUrl,alt:R.nome,className:"w-16 h-16 object-cover rounded-lg border"}):a("territories.noImagePlaceholder")}),u.jsx("td",{className:"py-2 text-right",children:u.jsxs("div",{className:"flex gap-2 justify-end",children:[u.jsx(me,{onClick:()=>j(R),className:"bg-neutral-100",children:a("common.edit")}),u.jsx(me,{onClick:async()=>{await s(a("territories.confirmDelete"))&&await r(R.id)},className:"bg-red-50 text-red-700",children:a("common.delete")})]})})]},R.id))})]}),u.jsxs("div",{className:"flex justify-between items-center mt-3",children:[u.jsx("span",{className:"text-sm text-neutral-500",children:a("territories.pageInfo",{page:x,pageCount:_})}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(me,{type:"button",disabled:x===1,onClick:()=>S(R=>R-1),children:a("common.previous")}),u.jsx(me,{type:"button",disabled:x===_,onClick:()=>S(R=>R+1),children:a("common.next")})]})]})]})})]})},Ou=e=>{const t=e.currentTarget.getBoundingClientRect();return{x:e.clientX-t.left,y:e.clientY-t.top}};function $S({imageUrl:e,onAdd:t,onUpdate:r,onDelete:n}){const s=o=>{const l=Ou(o);t==null||t(l)},a=o=>{o.preventDefault();const l=Ou(o);r==null||r(l)},i=o=>{const l=Ou(o);n==null||n(l)};return u.jsxs("div",{className:"relative inline-block",children:[u.jsx("img",{src:e,alt:"",className:"max-w-full h-auto select-none"}),u.jsx("canvas",{className:"absolute top-0 left-0 w-full h-full cursor-crosshair",onClick:s,onContextMenu:a,onDoubleClick:i})]})}function US(){const{t:e}=qe(),t=zt(),{currentUser:r}=Kr(),[n,s]=C.useState([]),[a,i]=C.useState([]),[o,l]=C.useState([]),[c,d]=C.useState([]),[h,f]=C.useState("ruas"),[y,m]=C.useState(null),[w,k]=C.useState(""),[g,p]=C.useState(""),x=C.useRef(g),S=(r==null?void 0:r.id)??null,b=C.useMemo(()=>n.find(D=>D.id===g),[n,g]),_=C.useMemo(()=>a.filter(D=>D.territoryId===g),[a,g]),v=C.useCallback(async()=>{const D=await I.propertyTypes.toArray();l(D)},[]),E=C.useCallback(async(D,U)=>{if(!D||!U){i([]),d([]);return}const H=n.find(O=>O.id===D);if(!H||H.publisherId!==U){i([]),d([]);return}const re=await I.streets.where("territoryId").equals(D).toArray();if(x.current!==D)return;i(re);const fe=re.map(O=>O.id).filter(O=>typeof O=="number"),T=fe.length>0?await I.addresses.where("streetId").anyOf(fe).toArray():[];x.current===D&&d(T)},[n]);C.useEffect(()=>{let D=!0;return(async()=>{try{if(!S){if(!D)return;s([]),l([]),i([]),d([]),p("");return}const[H,re]=await Promise.all([or.forPublisher(S),I.propertyTypes.toArray()]);if(!D)return;s(H),l(re),p(fe=>{var T;return fe&&H.some(O=>O.id===fe&&O.publisherId===S)?fe:((T=H[0])==null?void 0:T.id)??""}),H.length===0&&i([])}catch(H){if(console.error(H),!D)return;s([]),l([]),i([]),d([]),p(""),t.error(e("ruasNumeracoes.feedback.loadError"))}})(),()=>{D=!1}},[S,e,t]),C.useEffect(()=>{x.current=g,E(g,S)},[g,E,S]);const j=async D=>{D.preventDefault();const U=D.currentTarget,H=new FormData(U),re=String(H.get("name"));if(!g||!re)return;const fe=S;!fe||!b||b.publisherId!==fe||(await I.streets.put({territoryId:g,name:re}),await E(g,fe),U.reset())},A=C.useCallback(()=>{m(null),k("")},[]),R=C.useCallback(D=>{D.id!==void 0&&(m(D.id),k(D.name))},[]),F=C.useCallback(async D=>{D.preventDefault();const U=D.currentTarget,re=new FormData(U).get("name"),fe=typeof re=="string"?re.trim():"";if(fe)try{await I.propertyTypes.put({name:fe}),await v(),U.reset(),t.success(e("ruasNumeracoes.feedback.createSuccess"))}catch(T){console.error(T),t.error(e("ruasNumeracoes.feedback.saveError"))}},[v,e,t]),V=C.useCallback(async()=>{if(y===null)return;const D=w.trim();if(D)try{await I.propertyTypes.put({id:y,name:D}),await v(),A(),t.success(e("ruasNumeracoes.feedback.updateSuccess"))}catch(U){console.error(U),t.error(e("ruasNumeracoes.feedback.saveError"))}},[A,y,w,v,e,t]),K=C.useCallback(async D=>{if(D!==void 0)try{await I.propertyTypes.delete(D),y===D&&A(),await v(),t.success(e("ruasNumeracoes.feedback.deleteSuccess"))}catch(U){console.error(U),t.error(e("ruasNumeracoes.feedback.deleteError"))}},[A,y,v,e,t]),se=C.useCallback(async D=>{if(D.preventDefault(),!g)return;const U=D.currentTarget,H=new FormData(U),re=_e=>{if(typeof _e!="string")return null;const mt=_e.trim();if(mt.length===0)return null;const ur=Number.parseInt(mt,10);return Number.isNaN(ur)?null:ur},fe=re(H.get("streetId")),T=re(H.get("propertyTypeId")),O=re(H.get("numberStart")),oe=re(H.get("numberEnd"));if(fe===null||T===null||O===null||oe===null)return;const Ee=_.some(_e=>_e.id===fe),rt=o.some(_e=>_e.id===T);if(!Ee||!rt)return;const be=S;if(!be||!b||b.publisherId!==be)return;const ot=Math.min(O,oe),Bt=Math.max(O,oe);try{await I.addresses.put({streetId:fe,numberStart:ot,numberEnd:Bt,propertyTypeId:T}),await E(g,be),U.reset()}catch(_e){console.error(_e)}},[o,S,E,b,g,_]),ae=C.useCallback(async D=>{const U=D.id;if(U===void 0)return;const H=S;if(!H||!b||b.publisherId!==H)return;const re=new Date,fe=re.toISOString(),T=new Date(re.getTime()+hv).toISOString();try{await I.addresses.update(U,{lastSuccessfulVisit:fe,nextVisitAllowed:T}),d(O=>O.map(oe=>oe.id===U?{...oe,lastSuccessfulVisit:fe,nextVisitAllowed:T}:oe))}catch(O){console.error(O)}},[S,b]),ie=C.useMemo(()=>{const D=new Map;_.forEach(H=>{H.id!==void 0&&D.set(H.id,H.name)});const U=new Map;return o.forEach(H=>{H.id!==void 0&&U.set(H.id,H.name)}),c.map(H=>({...H,streetName:D.get(H.streetId)??"",propertyTypeName:U.get(H.propertyTypeId)??""}))},[c,o,_]),M=C.useCallback(D=>{if(!D)return null;const U=new Date(D);return Number.isNaN(U.getTime())?null:U.toLocaleString()},[]);return u.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[u.jsx("div",{className:"border rounded p-2",children:b&&u.jsx($S,{imageUrl:b.imageUrl??b.imagem??""})}),u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{htmlFor:"territory-select",className:"text-sm font-medium",children:e("ruasNumeracoes.territorySelector.label")}),u.jsxs("select",{id:"territory-select",className:"border p-1 w-full",value:g,onChange:D=>p(D.target.value),disabled:n.length===0,children:[u.jsx("option",{value:"",children:e("ruasNumeracoes.territorySelector.placeholder")}),n.map(D=>u.jsx("option",{value:D.id,children:D.nome},D.id))]})]}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsx("button",{type:"button",className:h==="ruas"?"font-bold":"",onClick:()=>f("ruas"),children:e("ruasNumeracoes.tabs.streets")}),u.jsx("button",{type:"button",className:h==="enderecos"?"font-bold":"",onClick:()=>f("enderecos"),children:e("ruasNumeracoes.tabs.addresses")}),u.jsx("button",{type:"button",className:h==="tipos"?"font-bold":"",onClick:()=>f("tipos"),children:e("ruasNumeracoes.tabs.propertyTypes")}),u.jsx("button",{type:"button",className:h==="resumo"?"font-bold":"",onClick:()=>f("resumo"),children:e("ruasNumeracoes.tabs.summary")})]}),h==="ruas"&&u.jsxs("div",{children:[u.jsxs("form",{onSubmit:j,className:"mb-2 flex flex-col gap-2 sm:flex-row sm:flex-wrap sm:items-end",children:[u.jsx("input",{name:"name",placeholder:e("ruasNumeracoes.streetsForm.streetNamePlaceholder"),className:"border p-1 w-full sm:flex-1"}),u.jsx("button",{type:"submit",className:"border px-2 py-1 w-full sm:w-auto",children:e("common.save")})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full min-w-[320px] text-sm",children:[u.jsx("thead",{children:u.jsx("tr",{children:u.jsx("th",{className:"text-left",children:e("ruasNumeracoes.streetsTable.name")})})}),u.jsx("tbody",{children:_.map(D=>u.jsx("tr",{children:u.jsx("td",{children:D.name})},D.id))})]})})]}),h==="enderecos"&&u.jsxs("div",{children:[u.jsxs("form",{onSubmit:se,className:"mb-2 grid grid-cols-1 gap-2 sm:grid-cols-2 lg:grid-cols-3",children:[u.jsxs("label",{className:"flex flex-col gap-1 text-sm",children:[u.jsx("span",{className:"font-medium",children:e("ruasNumeracoes.addressesForm.selectStreet")}),u.jsxs("select",{name:"streetId",className:"border p-1",children:[u.jsx("option",{value:"",children:e("ruasNumeracoes.addressesForm.selectStreet")}),_.map(D=>u.jsx("option",{value:D.id,children:D.name},D.id??D.name))]})]}),u.jsxs("label",{className:"flex flex-col gap-1 text-sm",children:[u.jsx("span",{className:"font-medium",children:e("ruasNumeracoes.addressesForm.selectType")}),u.jsxs("select",{name:"propertyTypeId",className:"border p-1",children:[u.jsx("option",{value:"",children:e("ruasNumeracoes.addressesForm.selectType")}),o.map(D=>u.jsx("option",{value:D.id,children:D.name},D.id??D.name))]})]}),u.jsxs("label",{className:"flex flex-col gap-1 text-sm",children:[u.jsx("span",{className:"font-medium",children:e("ruasNumeracoes.addressesForm.numberStart")}),u.jsx("input",{name:"numberStart",type:"number",className:"border p-1"})]}),u.jsxs("label",{className:"flex flex-col gap-1 text-sm",children:[u.jsx("span",{className:"font-medium",children:e("ruasNumeracoes.addressesForm.numberEnd")}),u.jsx("input",{name:"numberEnd",type:"number",className:"border p-1"})]}),u.jsx("div",{className:"sm:col-span-2 lg:col-span-3",children:u.jsx("button",{type:"submit",className:"border px-2 py-1 w-full sm:w-auto",children:e("common.create")})})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full min-w-[640px] text-sm",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-2 py-1 text-left whitespace-nowrap",children:e("ruasNumeracoes.addressesTable.street")}),u.jsx("th",{className:"px-2 py-1 text-left whitespace-nowrap",children:e("ruasNumeracoes.addressesTable.start")}),u.jsx("th",{className:"px-2 py-1 text-left whitespace-nowrap",children:e("ruasNumeracoes.addressesTable.end")}),u.jsx("th",{className:"px-2 py-1 text-left whitespace-nowrap",children:e("ruasNumeracoes.addressesTable.type")}),u.jsx("th",{className:"px-2 py-1 text-left whitespace-nowrap",children:e("ruasNumeracoes.addressesTable.lastVisit")}),u.jsx("th",{className:"px-2 py-1 text-left whitespace-nowrap",children:e("ruasNumeracoes.addressesTable.nextVisit")}),u.jsx("th",{className:"px-2 py-1 text-left whitespace-nowrap",children:e("ruasNumeracoes.addressesTable.actions")})]})}),u.jsx("tbody",{children:ie.map((D,U)=>{const H=M(D.lastSuccessfulVisit)??e("ruasNumeracoes.addressesTable.neverVisited"),re=M(D.nextVisitAllowed)??e("ruasNumeracoes.addressesTable.cooldownNotScheduled");return u.jsxs("tr",{children:[u.jsx("td",{className:"px-2 py-1",children:D.streetName||""}),u.jsx("td",{className:"px-2 py-1",children:D.numberStart}),u.jsx("td",{className:"px-2 py-1",children:D.numberEnd}),u.jsx("td",{className:"px-2 py-1",children:D.propertyTypeName||""}),u.jsx("td",{className:"px-2 py-1",children:H}),u.jsx("td",{className:"px-2 py-1",children:re}),u.jsx("td",{className:"px-2 py-1",children:u.jsx("button",{type:"button",className:"border px-2 py-1",onClick:()=>{ae(D)},children:e("ruasNumeracoes.addressesTable.markVisit")})})]},D.id??`${D.streetId}-${U}`)})})]})})]}),h==="tipos"&&u.jsxs("div",{children:[u.jsxs("form",{onSubmit:F,className:"mb-2 flex flex-col gap-2 sm:flex-row sm:flex-wrap sm:items-end",children:[u.jsx("input",{name:"name",placeholder:e("ruasNumeracoes.propertyTypesForm.namePlaceholder"),className:"border p-1 w-full sm:flex-1"}),u.jsx("button",{type:"submit",className:"border px-2 py-1 w-full sm:w-auto",children:e("common.create")})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full min-w-[480px] text-sm",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-2 py-1 text-left whitespace-nowrap",children:e("ruasNumeracoes.propertyTypesTable.name")}),u.jsx("th",{className:"px-2 py-1 text-left whitespace-nowrap",children:e("ruasNumeracoes.propertyTypesTable.actions")})]})}),u.jsx("tbody",{children:o.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:2,className:"px-2 py-2 text-sm text-gray-500",children:e("ruasNumeracoes.propertyTypesTable.empty")})}):o.map((D,U)=>{const H=y===D.id;return u.jsxs("tr",{children:[u.jsx("td",{className:"px-2 py-1",children:H?u.jsx("input",{value:w,onChange:re=>k(re.target.value),onKeyDown:re=>{re.key==="Enter"&&(re.preventDefault(),V())},className:"w-full border p-1"}):D.name}),u.jsx("td",{className:"min-w-[12rem] px-2 py-1",children:u.jsx("div",{className:"flex flex-col gap-2 sm:flex-row sm:flex-wrap",children:H?u.jsxs(u.Fragment,{children:[u.jsx("button",{type:"button",className:"border px-2 py-1 w-full sm:w-auto",onClick:()=>{V()},children:e("common.save")}),u.jsx("button",{type:"button",className:"border px-2 py-1 w-full sm:w-auto",onClick:A,children:e("common.cancel")})]}):u.jsxs(u.Fragment,{children:[u.jsx("button",{type:"button",className:"border px-2 py-1 w-full sm:w-auto",onClick:()=>R(D),children:e("common.edit")}),u.jsx("button",{type:"button",className:"border px-2 py-1 w-full sm:w-auto",onClick:()=>{K(D.id)},children:e("common.delete")})]})})})]},D.id??`${D.name}-${U}`)})})]})})]}),h==="resumo"&&u.jsxs("div",{children:[u.jsx("p",{children:e("ruasNumeracoes.summary.totalStreets",{count:_.length})}),u.jsx("p",{children:e("ruasNumeracoes.summary.totalAddresses",{count:c.length})}),u.jsx("p",{children:e("ruasNumeracoes.summary.totalPropertyTypes",{count:o.length})})]})]})]})}const zS=e=>tt({id:W().optional(),territory_id:W().min(1,e("buildingsVillages.validation.selectTerritory")),name:W().trim().min(1,e("buildingsVillages.validation.nameRequired")),address_line:W().trim().optional(),type:W().trim().optional(),number:W().trim().optional(),residences_count:W().trim().optional().refine(t=>{if(t===void 0||t==="")return!0;const r=Number(t);return Number.isInteger(r)&&r>=0},{message:e("buildingsVillages.validation.invalidNumber")}),modality:W().trim().optional(),reception_type:W().trim().optional(),responsible:W().trim().optional(),contact_method:W().trim().optional(),letter_status:pl(di),letter_history:gt(tt({id:W(),status:pl(di),sent_at:W().optional(),notes:W().optional()})).optional(),assigned_at:W().optional(),returned_at:W().optional(),block:W().trim().optional(),notes:W().trim().optional()}),zv="not_sent",Qp="sent",Lu={territory_id:"",name:"",address_line:"",type:"",number:"",residences_count:"",modality:"",reception_type:"",responsible:"",contact_method:"",letter_status:zv,letter_history:[],assigned_at:"",returned_at:"",block:"",notes:""},Gp={not_sent:"buildingsVillages.letterStatus.notSent",in_progress:"buildingsVillages.letterStatus.inProgress",sent:"buildingsVillages.letterStatus.sent",responded:"buildingsVillages.letterStatus.responded"},Yp=()=>typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():Math.random().toString(36).slice(2,12),Mu=e=>{if(!e)return null;const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString()},Vu=e=>e?e.length>10?e.slice(0,10):e:"",dr=e=>{if(!e)return null;const t=e.trim();return t.length===0?null:t},BS=e=>[...e].sort((t,r)=>{const n=t.sent_at??"";return(r.sent_at??"").localeCompare(n)});function KS(){const[e,t]=C.useState([]),[r,n]=C.useState([]),[s,a]=C.useState({search:"",territory:"all",type:"all",modality:"all"}),[i,o]=C.useState(!1),[l,c]=C.useState(null),[d,h]=C.useState(!0),f=zt(),y=ia(),{t:m}=qe(),{currentUser:w}=Kr(),k=(w==null?void 0:w.id)??null,g=C.useMemo(()=>zS(m),[m]),p=C.useMemo(()=>Uv(g),[g]),{register:x,handleSubmit:S,reset:b,control:_,formState:{errors:v,isSubmitting:E}}=Ov({resolver:p,defaultValues:Lu}),{fields:j,append:A,remove:R}=lS({control:_,name:"letter_history",keyName:"fieldId"});C.useEffect(()=>{let T=!0;return(async()=>{try{if(!k){T&&(t([]),n([]),h(!1));return}T&&h(!0);const[oe,Ee]=await Promise.all([wn.forPublisher(k),or.forPublisher(k)]);if(!T)return;t(oe),n(Ee)}catch(oe){if(!T)return;console.error(oe),f.error(m("buildingsVillages.feedback.loadError"))}finally{T&&h(!1)}})(),()=>{T=!1}},[k,f,m]);const F=C.useMemo(()=>r.reduce((T,O)=>(T[O.id]=O.nome,T),{}),[r]),V=C.useMemo(()=>{const T=new Set;return e.forEach(O=>{O.type&&T.add(O.type)}),Array.from(T).sort((O,oe)=>O.localeCompare(oe))},[e]),K=C.useMemo(()=>{const T=new Set;return e.forEach(O=>{O.modality&&T.add(O.modality)}),Array.from(T).sort((O,oe)=>O.localeCompare(oe))},[e]),se=C.useMemo(()=>di.map(T=>({value:T,label:m(Gp[T])})),[m]),ae=T=>m(T?Gp[T]:"buildingsVillages.letterStatus.unknown"),ie=()=>{A({id:Yp(),status:Qp,sent_at:"",notes:""})},M=C.useMemo(()=>{const T=s.search.trim().toLowerCase();return e.filter(O=>{const oe=T.length===0||[O.name,O.address_line,O.responsible,O.block,O.notes,O.contact_method,O.letter_status?ae(O.letter_status):null,...Array.isArray(O.letter_history)?O.letter_history.flatMap(ot=>[ot.notes,ae(ot.status)]):[]].filter(Boolean).some(ot=>ot.toLowerCase().includes(T)),Ee=s.territory==="all"||O.territory_id===s.territory,rt=s.type==="all"||O.type===s.type,be=s.modality==="all"||O.modality===s.modality;return oe&&Ee&&rt&&be}).sort((O,oe)=>(O.name??"").localeCompare(oe.name??""))},[s,e,m]),D=async T=>{if(await y(m("buildingsVillages.confirmDelete")))try{await wn.remove(T.id),t(oe=>oe.filter(Ee=>Ee.id!==T.id)),f.success(m("buildingsVillages.feedback.deleteSuccess"))}catch(oe){console.error(oe),f.error(m("buildingsVillages.feedback.deleteError"))}},U=()=>{o(!1),c(null),b({...Lu,territory_id:s.territory!=="all"?s.territory:""})},H=()=>{c(null),b({...Lu,territory_id:s.territory!=="all"?s.territory:""}),o(!0)},re=T=>{c(T),b({id:T.id,territory_id:T.territory_id,name:T.name??"",address_line:T.address_line??"",type:T.type??"",number:T.number??"",residences_count:T.residences_count!==null&&T.residences_count!==void 0?String(T.residences_count):"",modality:T.modality??"",reception_type:T.reception_type??"",responsible:T.responsible??"",contact_method:T.contact_method??"",letter_status:T.letter_status??zv,letter_history:Array.isArray(T.letter_history)?T.letter_history.map(O=>({id:O.id,status:O.status??Qp,sent_at:Vu(O.sent_at),notes:O.notes??""})):[],assigned_at:Vu(T.assigned_at),returned_at:Vu(T.returned_at),block:T.block??"",notes:T.notes??""}),o(!0)},fe=S(async T=>{const O=T.id??(l==null?void 0:l.id)??Yp(),oe=Array.isArray(T.letter_history)?T.letter_history.map((be,ot)=>{const Bt=typeof be.id=="string"?be.id.trim():"",_e=`${O}-letter-${ot+1}`,mt=typeof be.sent_at=="string"?be.sent_at.trim():"";return{id:Bt.length>0?Bt:_e,status:be.status,sent_at:mt.length>0?mt:null,notes:dr(be.notes)}}).filter(be=>be.sent_at!==null||be.notes!==null):[],Ee=(l==null?void 0:l.publisherId)??k;if(!Ee){f.error(m("buildingsVillages.feedback.saveError"));return}const rt={id:O,territory_id:T.territory_id,publisherId:Ee,name:T.name.trim(),address_line:dr(T.address_line),type:dr(T.type),number:dr(T.number),residences_count:T.residences_count&&T.residences_count!==""?Number(T.residences_count):null,modality:dr(T.modality),reception_type:dr(T.reception_type),responsible:dr(T.responsible),contact_method:dr(T.contact_method),letter_status:T.letter_status??null,letter_history:oe,assigned_at:T.assigned_at?T.assigned_at:null,returned_at:T.returned_at?T.returned_at:null,block:dr(T.block),notes:dr(T.notes),created_at:(l==null?void 0:l.created_at)??null};rt.created_at||(rt.created_at=new Date().toISOString());try{await wn.add(rt),t(be=>be.some(Bt=>Bt.id===rt.id)?be.map(Bt=>Bt.id===rt.id?rt:Bt):[rt,...be]),f.success(m(l?"buildingsVillages.feedback.updateSuccess":"buildingsVillages.feedback.createSuccess")),U()}catch(be){console.error(be),f.error(m("buildingsVillages.feedback.saveError"))}});return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-semibold",children:m("buildingsVillages.title")}),u.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:m("buildingsVillages.subtitle")})]}),u.jsx("button",{type:"button",onClick:H,className:"self-start rounded-xl bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow hover:bg-blue-700",children:m("buildingsVillages.newRecord")})]}),u.jsxs("section",{className:"rounded-2xl border border-black/5 bg-white/70 p-4 shadow backdrop-blur dark:border-white/10 dark:bg-neutral-900/60",children:[u.jsx("h2",{className:"mb-4 text-lg font-semibold",children:m("filters.filters")}),u.jsxs("div",{className:"grid gap-4 md:grid-cols-4 sm:grid-cols-2",children:[u.jsxs("label",{className:"flex flex-col text-sm font-medium text-neutral-600 dark:text-neutral-300",children:[u.jsx("span",{className:"mb-1",children:m("buildingsVillages.filters.search")}),u.jsx("input",{type:"search",value:s.search,onChange:T=>a(O=>({...O,search:T.target.value})),className:"w-full rounded-xl border border-black/10 bg-white px-3 py-2 shadow-sm outline-none focus:ring-2 focus:ring-blue-500 dark:border-white/10 dark:bg-neutral-950",placeholder:m("buildingsVillages.filters.searchPlaceholder")})]}),u.jsxs("label",{className:"flex flex-col text-sm font-medium text-neutral-600 dark:text-neutral-300",children:[u.jsx("span",{className:"mb-1",children:m("buildingsVillages.filters.territory")}),u.jsxs("select",{value:s.territory,onChange:T=>a(O=>({...O,territory:T.target.value})),className:"w-full rounded-xl border border-black/10 bg-white px-3 py-2 shadow-sm outline-none focus:ring-2 focus:ring-blue-500 dark:border-white/10 dark:bg-neutral-950",children:[u.jsx("option",{value:"all",children:m("filters.all")}),r.map(T=>u.jsx("option",{value:T.id,children:T.nome},T.id))]})]}),u.jsxs("label",{className:"flex flex-col text-sm font-medium text-neutral-600 dark:text-neutral-300",children:[u.jsx("span",{className:"mb-1",children:m("buildingsVillages.filters.type")}),u.jsxs("select",{value:s.type,onChange:T=>a(O=>({...O,type:T.target.value})),className:"w-full rounded-xl border border-black/10 bg-white px-3 py-2 shadow-sm outline-none focus:ring-2 focus:ring-blue-500 dark:border-white/10 dark:bg-neutral-950",children:[u.jsx("option",{value:"all",children:m("filters.all")}),V.map(T=>u.jsx("option",{value:T,children:T},T))]})]}),u.jsxs("label",{className:"flex flex-col text-sm font-medium text-neutral-600 dark:text-neutral-300",children:[u.jsx("span",{className:"mb-1",children:m("buildingsVillages.filters.modality")}),u.jsxs("select",{value:s.modality,onChange:T=>a(O=>({...O,modality:T.target.value})),className:"w-full rounded-xl border border-black/10 bg-white px-3 py-2 shadow-sm outline-none focus:ring-2 focus:ring-blue-500 dark:border-white/10 dark:bg-neutral-950",children:[u.jsx("option",{value:"all",children:m("buildingsVillages.filters.allModalities")}),K.map(T=>u.jsx("option",{value:T,children:T},T))]})]})]})]}),u.jsxs("section",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h2",{className:"text-lg font-semibold",children:m("buildingsVillages.records.title")}),u.jsx("span",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:m("buildingsVillages.records.count",{count:M.length})})]}),d?u.jsx("div",{className:"rounded-2xl border border-dashed border-black/10 p-8 text-center text-sm text-neutral-500 dark:border-white/10 dark:text-neutral-400",children:m("buildingsVillages.records.loading")}):M.length===0?u.jsx("div",{className:"rounded-2xl border border-dashed border-black/10 p-8 text-center text-sm text-neutral-500 dark:border-white/10 dark:text-neutral-400",children:m("buildingsVillages.records.empty")}):u.jsx("div",{className:"grid gap-4 sm:grid-cols-2 xl:grid-cols-3",children:M.map(T=>u.jsxs("article",{className:"flex flex-col rounded-2xl border border-black/5 bg-white/80 p-4 shadow-sm backdrop-blur dark:border-white/10 dark:bg-neutral-900/70",children:[u.jsxs("header",{className:"mb-3 flex items-start justify-between gap-3",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100",children:T.name||m("buildingsVillages.records.noName")}),u.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:F[T.territory_id]??m("buildingsVillages.records.noTerritory")})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{type:"button",onClick:()=>re(T),className:"rounded-lg border border-black/10 px-2 py-1 text-xs font-medium text-neutral-700 shadow-sm transition hover:bg-neutral-100 dark:border-white/10 dark:text-neutral-200 dark:hover:bg-neutral-800",children:m("common.edit")}),u.jsx("button",{type:"button",onClick:()=>void D(T),className:"rounded-lg border border-red-200 px-2 py-1 text-xs font-medium text-red-600 shadow-sm transition hover:bg-red-50 dark:border-red-900 dark:text-red-400 dark:hover:bg-red-950/50",children:m("common.delete")})]})]}),u.jsxs("dl",{className:"space-y-2 text-sm text-neutral-600 dark:text-neutral-300",children:[T.address_line&&u.jsxs("div",{children:[u.jsx("dt",{className:"font-medium text-neutral-500 dark:text-neutral-400",children:m("buildingsVillages.fields.address")}),u.jsx("dd",{children:T.address_line})]}),T.number&&u.jsxs("div",{children:[u.jsx("dt",{className:"font-medium text-neutral-500 dark:text-neutral-400",children:m("buildingsVillages.fields.number")}),u.jsx("dd",{children:T.number})]}),T.type&&u.jsxs("div",{children:[u.jsx("dt",{className:"font-medium text-neutral-500 dark:text-neutral-400",children:m("buildingsVillages.fields.type")}),u.jsx("dd",{children:T.type})]}),T.modality&&u.jsxs("div",{children:[u.jsx("dt",{className:"font-medium text-neutral-500 dark:text-neutral-400",children:m("buildingsVillages.fields.modality")}),u.jsx("dd",{children:T.modality})]}),T.reception_type&&u.jsxs("div",{children:[u.jsx("dt",{className:"font-medium text-neutral-500 dark:text-neutral-400",children:m("buildingsVillages.fields.reception")}),u.jsx("dd",{children:T.reception_type})]}),T.residences_count!==null&&T.residences_count!==void 0&&u.jsxs("div",{children:[u.jsx("dt",{className:"font-medium text-neutral-500 dark:text-neutral-400",children:m("buildingsVillages.fields.residences")}),u.jsx("dd",{children:T.residences_count})]}),T.responsible&&u.jsxs("div",{children:[u.jsx("dt",{className:"font-medium text-neutral-500 dark:text-neutral-400",children:m("buildingsVillages.fields.responsible")}),u.jsx("dd",{children:T.responsible})]}),T.contact_method&&u.jsxs("div",{children:[u.jsx("dt",{className:"font-medium text-neutral-500 dark:text-neutral-400",children:m("buildingsVillages.fields.contactMethod")}),u.jsx("dd",{children:T.contact_method})]}),T.letter_status&&u.jsxs("div",{children:[u.jsx("dt",{className:"font-medium text-neutral-500 dark:text-neutral-400",children:m("buildingsVillages.fields.letterStatus")}),u.jsx("dd",{children:ae(T.letter_status)})]}),T.letter_history.length>0&&u.jsxs("div",{children:[u.jsx("dt",{className:"font-medium text-neutral-500 dark:text-neutral-400",children:m("buildingsVillages.fields.letterHistory")}),u.jsx("dd",{children:u.jsx("ul",{className:"space-y-1",children:BS(T.letter_history).map(O=>{const oe=[O.sent_at?Mu(O.sent_at):null,ae(O.status)].filter(Boolean).join("  ");return u.jsxs("li",{className:"rounded-lg bg-neutral-50 px-2 py-1 dark:bg-neutral-800/60",children:[u.jsx("span",{className:"block text-xs font-medium text-neutral-700 dark:text-neutral-200",children:oe}),O.notes&&u.jsx("span",{className:"block text-xs text-neutral-500 dark:text-neutral-400",children:O.notes})]},O.id)})})})]}),T.assigned_at&&u.jsxs("div",{children:[u.jsx("dt",{className:"font-medium text-neutral-500 dark:text-neutral-400",children:m("buildingsVillages.fields.assignedAt")}),u.jsx("dd",{children:Mu(T.assigned_at)})]}),T.returned_at&&u.jsxs("div",{children:[u.jsx("dt",{className:"font-medium text-neutral-500 dark:text-neutral-400",children:m("buildingsVillages.fields.returnedAt")}),u.jsx("dd",{children:Mu(T.returned_at)})]}),T.block&&u.jsxs("div",{children:[u.jsx("dt",{className:"font-medium text-neutral-500 dark:text-neutral-400",children:m("buildingsVillages.fields.block")}),u.jsx("dd",{children:T.block})]}),T.notes&&u.jsxs("div",{children:[u.jsx("dt",{className:"font-medium text-neutral-500 dark:text-neutral-400",children:m("buildingsVillages.fields.notes")}),u.jsx("dd",{className:"whitespace-pre-line",children:T.notes})]})]})]},T.id))})]}),i&&u.jsxs(Rf,{children:[u.jsxs("div",{className:"flex items-start justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-semibold",children:m(l?"buildingsVillages.modal.editTitle":"buildingsVillages.modal.createTitle")}),u.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:m(l?"buildingsVillages.modal.descriptionEdit":"buildingsVillages.modal.descriptionCreate")})]}),u.jsx("button",{type:"button",onClick:U,className:"rounded-full border border-black/10 px-2 py-1 text-xs text-neutral-500 transition hover:bg-neutral-100 dark:border-white/10 dark:text-neutral-400 dark:hover:bg-neutral-800",children:m("app.close")})]}),u.jsxs("form",{onSubmit:fe,className:"mt-6 space-y-4",children:[u.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[u.jsxs("label",{className:"flex flex-col text-sm font-medium text-neutral-600 dark:text-neutral-300",children:[u.jsxs("span",{className:"mb-1",children:[m("buildingsVillages.fields.territory")," *"]}),u.jsxs("select",{...x("territory_id"),className:"w-full rounded-xl border border-black/10 bg-white px-3 py-2 shadow-sm outline-none focus:ring-2 focus:ring-blue-500 dark:border-white/10 dark:bg-neutral-950",children:[u.jsx("option",{value:"",children:m("buildingsVillages.placeholders.territory")}),r.map(T=>u.jsx("option",{value:T.id,children:T.nome},T.id))]}),v.territory_id&&u.jsx("span",{className:"mt-1 text-xs text-red-600",children:v.territory_id.message})]}),u.jsxs("label",{className:"flex flex-col text-sm font-medium text-neutral-600 dark:text-neutral-300",children:[u.jsxs("span",{className:"mb-1",children:[m("buildingsVillages.fields.name")," *"]}),u.jsx("input",{type:"text",...x("name"),className:"w-full rounded-xl border border-black/10 bg-white px-3 py-2 shadow-sm outline-none focus:ring-2 focus:ring-blue-500 dark:border-white/10 dark:bg-neutral-950",placeholder:m("buildingsVillages.placeholders.name")}),v.name&&u.jsx("span",{className:"mt-1 text-xs text-red-600",children:v.name.message})]}),u.jsxs("label",{className:"flex flex-col text-sm font-medium text-neutral-600 dark:text-neutral-300",children:[u.jsx("span",{className:"mb-1",children:m("buildingsVillages.fields.address")}),u.jsx("input",{type:"text",...x("address_line"),className:"w-full rounded-xl border border-black/10 bg-white px-3 py-2 shadow-sm outline-none focus:ring-2 focus:ring-blue-500 dark:border-white/10 dark:bg-neutral-950",placeholder:m("buildingsVillages.placeholders.address")}),v.address_line&&u.jsx("span",{className:"mt-1 text-xs text-red-600",children:v.address_line.message})]}),u.jsxs("label",{className:"flex flex-col text-sm font-medium text-neutral-600 dark:text-neutral-300",children:[u.jsx("span",{className:"mb-1",children:m("buildingsVillages.fields.number")}),u.jsx("input",{type:"text",...x("number"),className:"w-full rounded-xl border border-black/10 bg-white px-3 py-2 shadow-sm outline-none focus:ring-2 focus:ring-blue-500 dark:border-white/10 dark:bg-neutral-950",placeholder:m("buildingsVillages.placeholders.number")}),v.number&&u.jsx("span",{className:"mt-1 text-xs text-red-600",children:v.number.message})]}),u.jsxs("label",{className:"flex flex-col text-sm font-medium text-neutral-600 dark:text-neutral-300",children:[u.jsx("span",{className:"mb-1",children:m("buildingsVillages.fields.type")}),u.jsx("input",{type:"text",...x("type"),className:"w-full rounded-xl border border-black/10 bg-white px-3 py-2 shadow-sm outline-none focus:ring-2 focus:ring-blue-500 dark:border-white/10 dark:bg-neutral-950",placeholder:m("buildingsVillages.placeholders.type")}),v.type&&u.jsx("span",{className:"mt-1 text-xs text-red-600",children:v.type.message})]}),u.jsxs("label",{className:"flex flex-col text-sm font-medium text-neutral-600 dark:text-neutral-300",children:[u.jsx("span",{className:"mb-1",children:m("buildingsVillages.fields.modality")}),u.jsx("input",{type:"text",...x("modality"),className:"w-full rounded-xl border border-black/10 bg-white px-3 py-2 shadow-sm outline-none focus:ring-2 focus:ring-blue-500 dark:border-white/10 dark:bg-neutral-950",placeholder:m("buildingsVillages.placeholders.modality")}),v.modality&&u.jsx("span",{className:"mt-1 text-xs text-red-600",children:v.modality.message})]}),u.jsxs("label",{className:"flex flex-col text-sm font-medium text-neutral-600 dark:text-neutral-300",children:[u.jsx("span",{className:"mb-1",children:m("buildingsVillages.fields.reception")}),u.jsx("input",{type:"text",...x("reception_type"),className:"w-full rounded-xl border border-black/10 bg-white px-3 py-2 shadow-sm outline-none focus:ring-2 focus:ring-blue-500 dark:border-white/10 dark:bg-neutral-950",placeholder:m("buildingsVillages.placeholders.reception")}),v.reception_type&&u.jsx("span",{className:"mt-1 text-xs text-red-600",children:v.reception_type.message})]}),u.jsxs("label",{className:"flex flex-col text-sm font-medium text-neutral-600 dark:text-neutral-300",children:[u.jsx("span",{className:"mb-1",children:m("buildingsVillages.fields.responsible")}),u.jsx("input",{type:"text",...x("responsible"),className:"w-full rounded-xl border border-black/10 bg-white px-3 py-2 shadow-sm outline-none focus:ring-2 focus:ring-blue-500 dark:border-white/10 dark:bg-neutral-950",placeholder:m("buildingsVillages.placeholders.responsible")}),v.responsible&&u.jsx("span",{className:"mt-1 text-xs text-red-600",children:v.responsible.message})]}),u.jsxs("label",{className:"flex flex-col text-sm font-medium text-neutral-600 dark:text-neutral-300",children:[u.jsx("span",{className:"mb-1",children:m("buildingsVillages.fields.contactMethod")}),u.jsx("input",{type:"text",...x("contact_method"),className:"w-full rounded-xl border border-black/10 bg-white px-3 py-2 shadow-sm outline-none focus:ring-2 focus:ring-blue-500 dark:border-white/10 dark:bg-neutral-950",placeholder:m("buildingsVillages.placeholders.contactMethod")}),v.contact_method&&u.jsx("span",{className:"mt-1 text-xs text-red-600",children:v.contact_method.message})]}),u.jsxs("label",{className:"flex flex-col text-sm font-medium text-neutral-600 dark:text-neutral-300",children:[u.jsx("span",{className:"mb-1",children:m("buildingsVillages.fields.letterStatus")}),u.jsx("select",{...x("letter_status"),className:"w-full rounded-xl border border-black/10 bg-white px-3 py-2 shadow-sm outline-none focus:ring-2 focus:ring-blue-500 dark:border-white/10 dark:bg-neutral-950",children:se.map(T=>u.jsx("option",{value:T.value,children:T.label},T.value))}),v.letter_status&&u.jsx("span",{className:"mt-1 text-xs text-red-600",children:v.letter_status.message})]}),u.jsxs("label",{className:"flex flex-col text-sm font-medium text-neutral-600 dark:text-neutral-300",children:[u.jsx("span",{className:"mb-1",children:m("buildingsVillages.fields.residences")}),u.jsx("input",{type:"number",min:0,...x("residences_count"),className:"w-full rounded-xl border border-black/10 bg-white px-3 py-2 shadow-sm outline-none focus:ring-2 focus:ring-blue-500 dark:border-white/10 dark:bg-neutral-950",placeholder:"0"}),v.residences_count&&u.jsx("span",{className:"mt-1 text-xs text-red-600",children:v.residences_count.message})]}),u.jsxs("label",{className:"flex flex-col text-sm font-medium text-neutral-600 dark:text-neutral-300",children:[u.jsx("span",{className:"mb-1",children:m("buildingsVillages.fields.block")}),u.jsx("input",{type:"text",...x("block"),className:"w-full rounded-xl border border-black/10 bg-white px-3 py-2 shadow-sm outline-none focus:ring-2 focus:ring-blue-500 dark:border-white/10 dark:bg-neutral-950",placeholder:m("buildingsVillages.placeholders.block")}),v.block&&u.jsx("span",{className:"mt-1 text-xs text-red-600",children:v.block.message})]}),u.jsxs("label",{className:"flex flex-col text-sm font-medium text-neutral-600 dark:text-neutral-300",children:[u.jsx("span",{className:"mb-1",children:m("buildingsVillages.fields.assignedAt")}),u.jsx("input",{type:"date",...x("assigned_at"),className:"w-full rounded-xl border border-black/10 bg-white px-3 py-2 shadow-sm outline-none focus:ring-2 focus:ring-blue-500 dark:border-white/10 dark:bg-neutral-950"}),v.assigned_at&&u.jsx("span",{className:"mt-1 text-xs text-red-600",children:v.assigned_at.message})]}),u.jsxs("label",{className:"flex flex-col text-sm font-medium text-neutral-600 dark:text-neutral-300",children:[u.jsx("span",{className:"mb-1",children:m("buildingsVillages.fields.returnedAt")}),u.jsx("input",{type:"date",...x("returned_at"),className:"w-full rounded-xl border border-black/10 bg-white px-3 py-2 shadow-sm outline-none focus:ring-2 focus:ring-blue-500 dark:border-white/10 dark:bg-neutral-950"}),v.returned_at&&u.jsx("span",{className:"mt-1 text-xs text-red-600",children:v.returned_at.message})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[u.jsx("span",{className:"text-sm font-medium text-neutral-600 dark:text-neutral-300",children:m("buildingsVillages.fields.letterHistory")}),u.jsx("button",{type:"button",onClick:ie,className:"self-start rounded-lg border border-blue-500 px-3 py-1 text-xs font-medium text-blue-600 transition hover:bg-blue-50 dark:border-blue-400 dark:text-blue-300 dark:hover:bg-blue-500/20",children:m("buildingsVillages.letterHistory.add")})]}),j.length===0?u.jsx("p",{className:"rounded-xl border border-dashed border-black/10 px-3 py-2 text-xs text-neutral-500 dark:border-white/10 dark:text-neutral-400",children:m("buildingsVillages.letterHistory.empty")}):u.jsx("div",{className:"space-y-3",children:j.map((T,O)=>u.jsxs("div",{className:"space-y-2 rounded-xl border border-black/10 p-3 shadow-sm dark:border-white/10 dark:bg-neutral-950/40",children:[u.jsx("input",{type:"hidden",...x(`letter_history.${O}.id`)}),u.jsxs("div",{className:"grid gap-3 sm:grid-cols-3",children:[u.jsxs("label",{className:"flex flex-col text-xs font-medium text-neutral-600 dark:text-neutral-300",children:[u.jsx("span",{className:"mb-1",children:m("buildingsVillages.letterHistory.sentAt")}),u.jsx("input",{type:"date",...x(`letter_history.${O}.sent_at`),className:"w-full rounded-lg border border-black/10 bg-white px-2 py-1.5 text-sm shadow-sm outline-none focus:ring-2 focus:ring-blue-500 dark:border-white/10 dark:bg-neutral-900"})]}),u.jsxs("label",{className:"flex flex-col text-xs font-medium text-neutral-600 dark:text-neutral-300",children:[u.jsx("span",{className:"mb-1",children:m("buildingsVillages.letterHistory.status")}),u.jsx("select",{...x(`letter_history.${O}.status`),className:"w-full rounded-lg border border-black/10 bg-white px-2 py-1.5 text-sm shadow-sm outline-none focus:ring-2 focus:ring-blue-500 dark:border-white/10 dark:bg-neutral-900",children:se.map(oe=>u.jsx("option",{value:oe.value,children:oe.label},oe.value))})]}),u.jsx("div",{className:"flex items-end justify-end",children:u.jsx("button",{type:"button",onClick:()=>R(O),className:"rounded-lg border border-red-200 px-3 py-1 text-xs font-medium text-red-600 transition hover:bg-red-50 dark:border-red-800 dark:text-red-400 dark:hover:bg-red-900/40",children:m("buildingsVillages.letterHistory.remove")})})]}),u.jsxs("label",{className:"flex flex-col text-xs font-medium text-neutral-600 dark:text-neutral-300",children:[u.jsx("span",{className:"mb-1",children:m("buildingsVillages.letterHistory.notes")}),u.jsx("textarea",{rows:2,...x(`letter_history.${O}.notes`),className:"w-full rounded-lg border border-black/10 bg-white px-2 py-1.5 text-sm shadow-sm outline-none focus:ring-2 focus:ring-blue-500 dark:border-white/10 dark:bg-neutral-900",placeholder:m("buildingsVillages.letterHistory.notesPlaceholder")})]})]},T.fieldId))})]}),u.jsxs("label",{className:"flex flex-col text-sm font-medium text-neutral-600 dark:text-neutral-300",children:[u.jsx("span",{className:"mb-1",children:m("buildingsVillages.fields.notes")}),u.jsx("textarea",{rows:3,...x("notes"),className:"w-full rounded-xl border border-black/10 bg-white px-3 py-2 shadow-sm outline-none focus:ring-2 focus:ring-blue-500 dark:border-white/10 dark:bg-neutral-950",placeholder:m("buildingsVillages.placeholders.notes")}),v.notes&&u.jsx("span",{className:"mt-1 text-xs text-red-600",children:v.notes.message})]}),u.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[u.jsx("button",{type:"button",onClick:U,className:"rounded-xl border border-black/10 px-4 py-2 text-sm font-medium text-neutral-600 transition hover:bg-neutral-100 dark:border-white/10 dark:text-neutral-300 dark:hover:bg-neutral-800",children:m("common.cancel")}),u.jsx("button",{type:"submit",disabled:E,className:"rounded-xl bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow transition hover:bg-blue-700 disabled:cursor-not-allowed disabled:opacity-70",children:m(E?"app.saving":l?"common.update":"common.create")})]})]})]})]})}const HS={not_sent:"buildingsVillages.letterStatus.notSent",in_progress:"buildingsVillages.letterStatus.inProgress",sent:"buildingsVillages.letterStatus.sent",responded:"buildingsVillages.letterStatus.responded"},WS=e=>{if(!e)return null;const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString()},ZS=e=>[...e].sort((t,r)=>{const n=t.sent_at??"";return(r.sent_at??"").localeCompare(n)}),Jp=(e,t)=>t(e?HS[e]:"buildingsVillages.letterStatus.unknown"),qS=()=>{const[e,t]=C.useState([]),[r,n]=C.useState([]),[s,a]=C.useState(!0),i=zt(),{t:o}=qe(),{currentUser:l}=Kr(),c=(l==null?void 0:l.id)??null;C.useEffect(()=>{let y=!0;return(async()=>{try{if(!c){y&&(t([]),n([]),a(!1));return}y&&a(!0);const[w,k]=await Promise.all([wn.forPublisher(c),or.forPublisher(c)]);if(!y)return;t(w),n(k)}catch(w){if(!y)return;console.error(w),i.error(o("letters.feedback.loadError"))}finally{y&&a(!1)}})(),()=>{y=!1}},[c,i,o]);const d=C.useMemo(()=>r.reduce((y,m)=>(y[m.id]=m.nome,y),{}),[r]),h=C.useMemo(()=>{const y=new Map;return e.forEach(m=>{var S;const w=(S=m.responsible)==null?void 0:S.trim();if(!w)return;const k=Array.isArray(m.letter_history)?m.letter_history:[],g=k.length>0,p=!!m.letter_status;if(!g&&!p)return;const x=y.get(w)??{responsible:w,contactMethods:[],lettersCount:0,entries:[]};if(x.entries.push({buildingId:m.id,buildingName:m.name??null,territoryId:m.territory_id,contactMethod:m.contact_method,letterStatus:m.letter_status??null,letterHistory:k}),m.contact_method){const b=m.contact_method.trim();b.length>0&&!x.contactMethods.includes(b)&&x.contactMethods.push(b)}x.lettersCount+=k.length,y.set(w,x)}),Array.from(y.values()).map(m=>({...m,contactMethods:m.contactMethods.sort((w,k)=>w.localeCompare(k)),entries:m.entries.sort((w,k)=>{const g=w.buildingName??"",p=k.buildingName??"";return g.localeCompare(p)})})).sort((m,w)=>m.responsible.localeCompare(w.responsible))},[e]),f=C.useMemo(()=>h.reduce((y,m)=>y+m.lettersCount,0),[h]);return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("header",{className:"space-y-2",children:[u.jsx("h1",{className:"text-2xl font-semibold",children:o("letters.title")}),u.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:o("letters.subtitle")})]}),u.jsx("section",{className:"rounded-2xl border border-black/5 bg-white/70 p-4 shadow backdrop-blur dark:border-white/10 dark:bg-neutral-900/60",children:u.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:o("letters.summary",{responsibles:h.length,letters:f})})}),s?u.jsx("div",{className:"rounded-2xl border border-dashed border-black/10 p-8 text-center text-sm text-neutral-500 dark:border-white/10 dark:text-neutral-400",children:o("letters.loading")}):h.length===0?u.jsx("div",{className:"rounded-2xl border border-dashed border-black/10 p-8 text-center text-sm text-neutral-500 dark:border-white/10 dark:text-neutral-400",children:o("letters.empty")}):u.jsx("div",{className:"space-y-6",children:h.map(y=>u.jsxs("section",{className:"space-y-3 rounded-2xl border border-black/5 bg-white/80 p-4 shadow-sm backdrop-blur dark:border-white/10 dark:bg-neutral-900/70",children:[u.jsxs("header",{className:"flex flex-col gap-1 sm:flex-row sm:items-baseline sm:justify-between",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-semibold text-neutral-900 dark:text-neutral-100",children:y.responsible}),u.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:o("letters.groupSummary",{letters:y.lettersCount,buildings:y.entries.length})})]}),y.contactMethods.length>0&&u.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:o("letters.contactMethods",{methods:y.contactMethods.join(", ")})})]}),u.jsx("div",{className:"space-y-3",children:y.entries.map(m=>u.jsxs("article",{className:"space-y-2 rounded-xl border border-black/5 p-3 shadow-sm dark:border-white/10 dark:bg-neutral-950/50",children:[u.jsxs("header",{className:"flex flex-col gap-1 sm:flex-row sm:items-baseline sm:justify-between",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-medium text-neutral-900 dark:text-neutral-100",children:m.buildingName||o("letters.unnamedBuilding")}),u.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:d[m.territoryId]??o("letters.unknownTerritory")})]}),m.letterStatus&&u.jsx("span",{className:"inline-flex items-center justify-center rounded-full bg-blue-50 px-3 py-1 text-xs font-medium text-blue-700 dark:bg-blue-500/20 dark:text-blue-200",children:Jp(m.letterStatus,o)})]}),u.jsxs("dl",{className:"space-y-1 text-xs text-neutral-600 dark:text-neutral-300",children:[m.contactMethod&&u.jsxs("div",{children:[u.jsx("dt",{className:"font-medium text-neutral-500 dark:text-neutral-400",children:o("letters.contactMethod")}),u.jsx("dd",{children:m.contactMethod})]}),m.letterHistory.length===0?u.jsxs("div",{children:[u.jsx("dt",{className:"font-medium text-neutral-500 dark:text-neutral-400",children:o("letters.history")}),u.jsx("dd",{children:o("letters.noHistory")})]}):u.jsxs("div",{children:[u.jsx("dt",{className:"font-medium text-neutral-500 dark:text-neutral-400",children:o("letters.history")}),u.jsx("dd",{children:u.jsx("ul",{className:"space-y-1",children:ZS(m.letterHistory).map(w=>{const k=[w.sent_at?WS(w.sent_at):null,Jp(w.status,o)].filter(Boolean).join("  ");return u.jsxs("li",{className:"rounded-lg bg-neutral-50 px-2 py-1 text-[11px] font-medium text-neutral-700 dark:bg-neutral-800/60 dark:text-neutral-200",children:[u.jsx("span",{children:k}),w.notes&&u.jsx("span",{className:"block text-[11px] font-normal text-neutral-500 dark:text-neutral-400",children:w.notes})]},w.id)})})})]})]})]},m.buildingId))})]},y.responsible))})]})},Uf=()=>{var a;const{state:e,dispatch:t}=ls(),r=zt(),n=m_(e),s=((a=e.auth.currentUser)==null?void 0:a.id)??"";return{saidas:n,addSaida:C.useCallback(async i=>{const o={id:Ei(),publisherId:s,...i};return await xn.add(o),t({type:"ADD_SAIDA",payload:o}),r.success("Sada salva"),o},[s,t,r]),updateSaida:C.useCallback(async(i,o)=>{const l=n.find(h=>h.id===i),c=(l==null?void 0:l.publisherId)??s,d={id:i,publisherId:c,...o};return await xn.add(d),t({type:"UPDATE_SAIDA",payload:d}),r.success("Sada atualizada"),d},[s,t,n,r]),removeSaida:C.useCallback(async i=>{await xn.remove(i),t({type:"REMOVE_SAIDA",payload:i}),r.success("Sada removida")},[t,r])}},QS=()=>{const{saidas:e,addSaida:t,removeSaida:r}=Uf(),n=ia(),{t:s}=qe(),[a,i]=C.useState(""),[o,l]=C.useState(6),[c,d]=C.useState("09:00"),h=async f=>{f.preventDefault(),a.trim()&&(await t({nome:a.trim(),diaDaSemana:o,hora:c}),i(""),l(6),d("09:00"))};return u.jsxs("div",{className:"grid gap-4",children:[u.jsx(Vt,{title:s("exits.newExit"),children:u.jsxs("form",{onSubmit:h,className:"grid md:grid-cols-4 gap-3",children:[u.jsxs("div",{className:"grid gap-1",children:[u.jsx(Me,{children:s("exits.name")}),u.jsx(He,{value:a,onChange:f=>i(f.target.value),placeholder:s("exits.namePlaceholder")})]}),u.jsxs("div",{className:"grid gap-1",children:[u.jsx(Me,{children:s("exits.weekday")}),u.jsx("select",{value:o,onChange:f=>l(Number(f.target.value)),className:"w-full rounded-xl border px-3 py-2 bg-white dark:bg-neutral-900",children:ld.map((f,y)=>u.jsx("option",{value:y,children:f},f))})]}),u.jsxs("div",{className:"grid gap-1",children:[u.jsx(Me,{children:s("exits.time")}),u.jsx(He,{type:"time",value:c,onChange:f=>d(f.target.value)})]}),u.jsx("div",{className:"flex items-end justify-end",children:u.jsx(me,{type:"submit",className:"bg-black text-white",children:s("exits.save")})})]})}),u.jsx(Vt,{title:s("exits.exitsWithCount",{count:e.length}),children:e.length===0?u.jsx("p",{className:"text-neutral-500",children:s("exits.noExits")}):u.jsx("div",{className:"grid md:grid-cols-2 gap-3",children:e.map(f=>u.jsxs("div",{className:"rounded-xl border p-3 flex items-center justify-between bg-white dark:bg-neutral-950",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold",children:f.nome}),u.jsxs("p",{className:"text-sm text-neutral-600",children:[ld[f.diaDaSemana],"  ",f.hora]})]}),u.jsx(me,{onClick:async()=>{await n(s("exits.confirmDelete"))&&await r(f.id)},className:"bg-red-50 text-red-700",children:s("exits.delete")})]},f.id))})})]})},GS={ativo:"bg-green-600",devolvido:"bg-blue-600",atrasado:"bg-red-600"},YS=({status:e})=>{const{t}=qe();return u.jsx("span",{className:`text-xs text-white px-2 py-1 rounded ${GS[e]}`,children:t(`status.${e}`)})},Vl=()=>{var a;const{state:e,dispatch:t}=ls(),r=zt(),n=g_(e),s=((a=e.auth.currentUser)==null?void 0:a.id)??"";return{designacoes:n,addDesignacao:C.useCallback(async i=>{const o={id:Ei(),devolvido:!1,...i,publisherId:s};return await Mr.add(o),t({type:"ADD_DESIGNACAO",payload:o}),r.success("Designao salva"),o},[s,t,r]),updateDesignacao:C.useCallback(async(i,o)=>{const l=n.find(d=>d.id===i);if(!l)return;const c={...l,...o,id:i};return await Mr.add(c),t({type:"UPDATE_DESIGNACAO",payload:c}),r.success("Designao atualizada"),c},[n,t,r]),removeDesignacao:C.useCallback(async i=>{await Mr.remove(i),t({type:"REMOVE_DESIGNACAO",payload:i}),r.success("Designao removida")},[t,r])}},JS={avoidLastAssignments:5,defaultDurationDays:30,avoidMonthsPerExit:6,recentWeight:1,balanceWeight:1},Bv=()=>vv("tm.rules",JS),un=(e,t)=>{const r=t.find(n=>n.id===e);return r?"name"in r&&typeof r.name=="string"?r.name:"nome"in r&&typeof r.nome=="string"?r.nome:"":""},Kv=(e,t)=>t.filter(r=>r.territorioId===e).map(r=>new Date(`${r.dataInicial}T00:00:00`)).sort((r,n)=>n.getTime()-r.getTime())[0],XS=()=>{const{territorios:e}=ji(),{saidas:t}=Uf(),{designacoes:r,addDesignacao:n,removeDesignacao:s,updateDesignacao:a}=Vl(),[i]=Bv(),o=ia(),l=zt(),{t:c}=qe(),d=al(),[h,f]=C.useState(""),[y,m]=C.useState(""),[w,k]=C.useState(d),[g,p]=C.useState(sl(d,i.defaultDurationDays)),x=()=>{const _=t.find(F=>F.id===y);if(!_){l.error(c("assignments.selectExit"));return}const v=new Set([...r].sort((F,V)=>V.dataInicial.localeCompare(F.dataInicial)).slice(0,i.avoidLastAssignments).map(F=>F.territorioId)),E=new Date(`${w}T00:00:00`),A=e.filter(F=>!v.has(F.id)).flatMap(F=>{const V=r.filter(M=>M.territorioId===F.id&&M.saidaId===_.id).map(M=>new Date(`${M.dataInicial}T00:00:00`)).sort((M,D)=>D.getTime()-M.getTime())[0];if(V&&(E.getTime()-V.getTime())/1e3/60/60/24/30<i.avoidMonthsPerExit)return[];const K=Kv(F.id,r),se=K?Math.floor((E.getTime()-K.getTime())/864e5):Number.POSITIVE_INFINITY,ae=K?1/(se+1):0,ie=-i.recentWeight*ae;return[{territorioId:F.id,score:ie}]}).sort((F,V)=>V.score-F.score)[0];if(!A){l.error(c("assignments.noAvailableTerritories"));return}const R=_v(w,_.diaDaSemana);f(A.territorioId),k(R),p(sl(R,i.defaultDurationDays))},S=async _=>{if(_.preventDefault(),!h||!y){l.error(c("assignments.selectTerritoryAndExit"));return}await n({territorioId:h,saidaId:y,dataInicial:w,dataFinal:g,devolvido:!1})},b=async _=>{await a(_.id,{devolvido:!_.devolvido})};return u.jsxs("div",{className:"grid gap-4",children:[u.jsx(Vt,{title:c("assignments.newAssignment"),children:u.jsxs("form",{onSubmit:S,className:"grid md:grid-cols-5 gap-3",children:[u.jsxs("div",{className:"grid gap-1",children:[u.jsx(Me,{children:c("assignments.territory")}),u.jsxs("select",{value:h,onChange:_=>f(_.target.value),className:"w-full rounded-xl border px-3 py-2 bg-white dark:bg-neutral-900",children:[u.jsx("option",{value:"",children:c("assignments.selectPlaceholder")}),e.map(_=>u.jsx("option",{value:_.id,children:_.nome},_.id))]})]}),u.jsxs("div",{className:"grid gap-1",children:[u.jsx(Me,{children:c("assignments.exit")}),u.jsxs("select",{value:y,onChange:_=>m(_.target.value),className:"w-full rounded-xl border px-3 py-2 bg-white dark:bg-neutral-900",children:[u.jsx("option",{value:"",children:c("assignments.selectPlaceholder")}),t.map(_=>u.jsx("option",{value:_.id,children:_.nome},_.id))]})]}),u.jsxs("div",{className:"grid gap-1",children:[u.jsx(Me,{children:c("assignments.assignmentDate")}),u.jsx(He,{type:"date",value:w,onChange:_=>k(_.target.value)})]}),u.jsxs("div",{className:"grid gap-1",children:[u.jsx(Me,{children:c("assignments.returnDate")}),u.jsx(He,{type:"date",value:g,onChange:_=>p(_.target.value)})]}),u.jsxs("div",{className:"flex items-end justify-end gap-2",children:[u.jsx(me,{type:"button",onClick:x,className:"bg-blue-600 text-white",children:c("assignments.generateSuggestion")}),u.jsx(me,{type:"submit",className:"bg-black text-white",children:c("assignments.save")})]})]})}),u.jsx(Vt,{title:c("assignments.assignmentsWithCount",{count:r.length}),children:r.length===0?u.jsx("p",{className:"text-neutral-500",children:c("assignments.noAssignments")}):u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-sm",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-left border-b",children:[u.jsx("th",{className:"py-2",children:c("assignments.territory")}),u.jsx("th",{children:c("assignments.exit")}),u.jsx("th",{children:c("assignments.assignmentDate")}),u.jsx("th",{children:c("assignments.returnDate")}),u.jsx("th",{children:c("assignments.status")}),u.jsx("th",{})]})}),u.jsx("tbody",{children:r.map(_=>{const v=_.devolvido?"devolvido":new Date(_.dataFinal)<new Date?"atrasado":"ativo";return u.jsxs("tr",{className:"border-b last:border-0",children:[u.jsx("td",{className:"py-2",children:un(_.territorioId,e)}),u.jsx("td",{children:un(_.saidaId,t)}),u.jsx("td",{children:br(_.dataInicial)}),u.jsx("td",{children:br(_.dataFinal)}),u.jsx("td",{children:u.jsx(YS,{status:v})}),u.jsxs("td",{className:"text-right flex gap-2 justify-end",children:[u.jsx(me,{onClick:()=>b(_),className:"bg-neutral-100",children:_.devolvido?c("assignments.reactivate"):c("assignments.markAsReturned")}),u.jsx(me,{onClick:async()=>{await o(c("assignments.confirmDelete"))&&await s(_.id)},className:"bg-red-50 text-red-700",children:c("assignments.delete")})]})]},_.id)})})]})})})]})},ek=()=>vv("tm.warningDays",2),tk=()=>{const{designacoes:e}=Vl(),{territorios:t}=ji(),[r,n]=ek(),[s,a]=C.useState(()=>new Date),[i,o]=C.useState(null),{t:l}=qe(),c=new Date,d=k=>k.toISOString().slice(0,10),h=new Date(s.getFullYear(),s.getMonth(),1),f=new Date(h);f.setDate(f.getDate()-f.getDay());const y=[];for(let k=0;k<42;k+=1){const g=new Date(f);g.setDate(f.getDate()+k),y.push(g)}const m=k=>o(k),w=()=>o(null);return u.jsxs("div",{className:"grid gap-4",children:[u.jsxs(Vt,{children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(me,{onClick:()=>a(new Date(s.getFullYear(),s.getMonth()-1,1)),className:"bg-neutral-100",children:""}),u.jsx("h2",{className:"font-semibold",children:s.toLocaleString("default",{month:"long",year:"numeric"})}),u.jsx(me,{onClick:()=>a(new Date(s.getFullYear(),s.getMonth()+1,1)),className:"bg-neutral-100",children:""})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Me,{children:l("calendar.warningDays")}),u.jsx(He,{type:"number",min:0,value:r,onChange:k=>n(Number(k.target.value)||0),className:"w-16"})]})]}),u.jsx("div",{className:"grid grid-cols-7 text-sm font-medium text-center mb-1",children:ld.map(k=>u.jsx("div",{children:k.slice(0,3)},k))}),u.jsx("div",{className:"grid grid-cols-7 gap-px bg-neutral-200 rounded overflow-hidden",children:y.map(k=>{const g=d(k),p=k.getMonth()===s.getMonth(),x=e.filter(v=>v.dataInicial===g),S=e.filter(v=>v.dataFinal===g&&!v.devolvido);let b=p?"bg-white":"bg-neutral-50 text-neutral-400";const _=S.map(v=>Math.ceil((new Date(v.dataFinal).getTime()-c.getTime())/864e5));return _.some(v=>v<0)?b+=" bg-red-100":_.some(v=>v<=r)&&(b+=" bg-yellow-100"),u.jsxs("div",{className:`min-h-24 p-1 cursor-pointer ${b}`,onClick:()=>m(g),onDragStart:()=>m(g),draggable:!0,children:[u.jsx("div",{className:"text-xs text-right",children:k.getDate()}),x.map(v=>{const E=Math.ceil((new Date(v.dataFinal).getTime()-c.getTime())/864e5);let j=null;return v.devolvido||(E<0?j=u.jsx("span",{className:"ml-1 text-[10px] px-1 rounded bg-red-600 text-white",children:l("calendar.overdue")}):E<=r&&(j=u.jsx("span",{className:"ml-1 text-[10px] px-1 rounded bg-orange-500 text-white",children:l("calendar.dueIn",{diff:E})}))),u.jsxs("div",{className:"text-[10px] truncate",children:[un(v.territorioId,t),j]},v.id)})]},g)})})]}),i&&u.jsx(Rf,{children:u.jsxs("div",{className:"grid gap-2",children:[u.jsx("h3",{className:"text-lg font-semibold",children:br(i)}),(()=>{const k=e.filter(g=>g.dataInicial===i||g.dataFinal===i);return k.length===0?u.jsx("p",{className:"text-sm text-neutral-500",children:l("calendar.noAssignments")}):u.jsx("ul",{className:"text-sm grid gap-1",children:k.map(g=>u.jsxs("li",{children:[un(g.territorioId,t),"  ",br(g.dataInicial)," ",br(g.dataFinal)]},g.id))})})(),u.jsx("div",{className:"text-right",children:u.jsx(me,{onClick:w,className:"bg-neutral-100",children:l("app.close")})})]})})]})},eo=12,Xp=(e,t,r)=>Math.min(Math.max(e,t),r),rk=({steps:e,open:t,stepIndex:r,onNext:n,onPrevious:s,onClose:a})=>{const{t:i}=qe(),[o,l]=C.useState(null),[c,d]=C.useState(null),h=e.length,f=r>=h-1,y=r<=0,m=e[r],w=C.useMemo(()=>()=>{var v;if(!t)return;const k=(v=e[r])==null?void 0:v.ref.current;if(!k){l(null),d(null);return}const g=k.getBoundingClientRect(),p={top:g.top-eo,left:g.left-eo,width:g.width+eo*2,height:g.height+eo*2};l(p);const x=Math.min(320,window.innerWidth-32),S=16;let b=g.bottom+S;b+200>window.innerHeight&&(b=g.top-S-200),b=Xp(b,16,Math.max(16,window.innerHeight-216));const _=Xp(g.left,16,window.innerWidth-x-16);d({top:b,left:_})},[t,r,e]);return C.useLayoutEffect(()=>{if(!t){l(null),d(null);return}return w(),window.addEventListener("resize",w),window.addEventListener("scroll",w,!0),()=>{window.removeEventListener("resize",w),window.removeEventListener("scroll",w,!0)}},[t,w]),C.useEffect(()=>{var g;if(!t)return;const k=(g=e[r])==null?void 0:g.ref.current;k&&k.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),w()},[t,r,e,w]),C.useEffect(()=>{if(!t)return;const k=g=>{g.key==="Escape"&&(g.preventDefault(),a())};return window.addEventListener("keydown",k),()=>window.removeEventListener("keydown",k)},[t,a]),!t||h===0?null:Ty.createPortal(u.jsxs("div",{className:"fixed inset-0 z-[1000]",children:[u.jsx("div",{className:"absolute inset-0",onClick:a}),o&&u.jsx("div",{className:"pointer-events-none fixed rounded-2xl border-2 border-white shadow-[0_0_0_9999px_rgba(0,0,0,0.6)] transition-all duration-150",style:{top:Math.max(o.top,8),left:Math.max(o.left,8),width:Math.max(o.width,40),height:Math.max(o.height,40)}}),u.jsx("div",{className:"fixed inset-0 flex items-start justify-center overflow-hidden pointer-events-none",children:u.jsx("div",{className:"relative w-full",style:{maxWidth:"100%",height:"100%"},children:c&&m&&u.jsxs("div",{className:"pointer-events-auto fixed z-[1001] max-w-[320px] rounded-2xl bg-white p-4 text-neutral-900 shadow-lg dark:bg-neutral-900 dark:text-neutral-100",style:{top:c.top,left:c.left},children:[u.jsx("div",{className:"mb-2 text-xs uppercase tracking-wide text-neutral-500 dark:text-neutral-400",children:i("suggestions.tour.progress",{current:r+1,total:h})}),u.jsx("h3",{className:"text-lg font-semibold",children:m.title}),u.jsx("p",{className:"mt-1 text-sm text-neutral-600 dark:text-neutral-300",children:m.description}),u.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[u.jsx(me,{type:"button",onClick:s,disabled:y,className:"bg-neutral-200 text-neutral-900 dark:bg-neutral-800 dark:text-neutral-100 disabled:cursor-not-allowed disabled:opacity-50",children:i("common.previous")}),u.jsx(me,{type:"button",onClick:a,className:"ml-auto bg-transparent text-neutral-500 hover:text-neutral-700 dark:text-neutral-300",children:i("app.close")}),u.jsx(me,{type:"button",onClick:f?a:n,className:"bg-black text-white dark:bg-white dark:text-black",children:i(f?"suggestions.tour.finish":"common.next")})]})]})})})]}),document.body)},nk=()=>{const{territorios:e}=ji(),{saidas:t}=Uf(),{designacoes:r,addDesignacao:n}=Vl(),[s,a]=Bv(),i=zt(),{t:o}=qe(),[l,c]=C.useState(()=>al()),[d,h]=C.useState(s.defaultDurationDays),[f,y]=C.useState(s.avoidLastAssignments),[m,w]=C.useState(s.avoidMonthsPerExit),[k,g]=C.useState(s.recentWeight),[p,x]=C.useState(s.balanceWeight),[S,b]=C.useState(null),[_,v]=C.useState({}),[E,j]=C.useState(null),A=C.useRef(null),R=C.useRef(null),F=C.useRef(null),V=C.useRef(null),K=C.useRef(null),se=C.useRef(null),ae=C.useMemo(()=>[{ref:A,title:o("suggestions.labels.startDate"),description:o("suggestions.tooltips.startDate")},{ref:R,title:o("suggestions.labels.duration"),description:o("suggestions.tooltips.duration")},{ref:F,title:o("suggestions.labels.avoidCount"),description:o("suggestions.tooltips.avoidCount")},{ref:V,title:o("suggestions.labels.monthsPerExit"),description:o("suggestions.tooltips.monthsPerExit")},{ref:K,title:o("suggestions.labels.recentWeight"),description:o("suggestions.tooltips.recentWeight")},{ref:se,title:o("suggestions.labels.balanceWeight"),description:o("suggestions.tooltips.balanceWeight")}],[o]),ie=E!==null,M=()=>j(0),D=()=>j(null),U=()=>j(O=>O===null?O:O>=ae.length-1?null:O+1),H=()=>j(O=>O===null||O<=0?O:O-1),re=()=>{if(e.length===0||t.length===0){b([]),v({});return}const O=[],oe={},Ee=new Set([...r].sort((_e,mt)=>mt.dataInicial.localeCompare(_e.dataInicial)).slice(0,f).map(_e=>_e.territorioId)),rt=new Set,be=t.map(_e=>({id:_e.id,count:r.filter(mt=>mt.saidaId===_e.id).length})),ot=Math.max(1,...be.map(_e=>_e.count));[...t].sort((_e,mt)=>{var Rn,Wr;const ur=((Rn=be.find(On=>On.id===_e.id))==null?void 0:Rn.count)||0,Dn=((Wr=be.find(On=>On.id===mt.id))==null?void 0:Wr.count)||0;return ur-Dn}).forEach(_e=>{var On;const mt=((On=be.find(lt=>lt.id===_e.id))==null?void 0:On.count)||0,ur=(ot-mt)/ot,Dn=new Date(`${l}T00:00:00`),Rn=e.filter(lt=>!Ee.has(lt.id)&&!rt.has(lt.id)).flatMap(lt=>{const N=r.filter(X=>X.territorioId===lt.id&&X.saidaId===_e.id).map(X=>new Date(`${X.dataInicial}T00:00:00`)).sort((X,we)=>we.getTime()-X.getTime())[0];if(N&&(Dn.getTime()-N.getTime())/1e3/60/60/24/30<m)return[];const P=Kv(lt.id,r),L=P?Math.floor((Dn.getTime()-P.getTime())/864e5):Number.POSITIVE_INFINITY,q=P?1/(L+1):0,Z=p*ur-k*q,B=[o("suggestions.reasons.exitLoad",{value:(ur*100).toFixed(0)}),P?o("suggestions.reasons.recent",{value:(q*100).toFixed(0)}):o("suggestions.reasons.neverUsed")];return[{territorioId:lt.id,score:Z,reasons:B}]}).sort((lt,N)=>N.score-lt.score);oe[_e.id]=Rn;const Wr=Rn[0];if(Wr){rt.add(Wr.territorioId);const lt=_v(l,_e.diaDaSemana);O.push({saidaId:_e.id,territorioId:Wr.territorioId,dataInicial:lt,dataFinal:sl(lt,d)})}}),v(oe),b(O)},fe=()=>{if(!S||S.length===0){i.error(o("suggestions.toast.nothingToApply"));return}S.forEach(O=>void n({territorioId:O.territorioId,saidaId:O.saidaId,dataInicial:O.dataInicial,dataFinal:O.dataFinal,devolvido:!1})),i.success(o("suggestions.toast.applied"))},T=()=>a({avoidLastAssignments:f,defaultDurationDays:d,avoidMonthsPerExit:m,recentWeight:k,balanceWeight:p});return u.jsxs("div",{className:"grid gap-4",children:[u.jsx(Vt,{title:o("suggestions.cards.rules"),actions:u.jsxs(u.Fragment,{children:[u.jsx(me,{onClick:M,className:"bg-blue-600 text-white",children:o("suggestions.actions.viewTour")}),u.jsx(me,{onClick:T,className:"bg-neutral-100",children:o("suggestions.actions.saveDefaults")})]}),children:u.jsxs("div",{className:"grid md:grid-cols-6 gap-3",children:[u.jsxs("div",{ref:A,className:"grid gap-1",children:[u.jsx(Me,{htmlFor:"suggestion-rule-startDate",title:o("suggestions.tooltips.startDate"),children:o("suggestions.labels.startDate")}),u.jsx(He,{id:"suggestion-rule-startDate",type:"date",value:l,onChange:O=>c(O.target.value)})]}),u.jsxs("div",{ref:R,className:"grid gap-1",children:[u.jsx(Me,{htmlFor:"suggestion-rule-duration",title:o("suggestions.tooltips.duration"),children:o("suggestions.labels.duration")}),u.jsx(He,{id:"suggestion-rule-duration",type:"number",min:1,value:d,onChange:O=>h(Number(O.target.value)||1)})]}),u.jsxs("div",{ref:F,className:"grid gap-1",children:[u.jsx(Me,{htmlFor:"suggestion-rule-avoidCount",title:o("suggestions.tooltips.avoidCount"),children:o("suggestions.labels.avoidCount")}),u.jsx(He,{id:"suggestion-rule-avoidCount",type:"number",min:0,value:f,onChange:O=>y(Number(O.target.value)||0)})]}),u.jsxs("div",{ref:V,className:"grid gap-1",children:[u.jsx(Me,{htmlFor:"suggestion-rule-monthsPerExit",title:o("suggestions.tooltips.monthsPerExit"),children:o("suggestions.labels.monthsPerExit")}),u.jsx(He,{id:"suggestion-rule-monthsPerExit",type:"number",min:0,value:m,onChange:O=>w(Number(O.target.value)||0)})]}),u.jsxs("div",{ref:K,className:"grid gap-1",children:[u.jsx(Me,{htmlFor:"suggestion-rule-recentWeight",title:o("suggestions.tooltips.recentWeight"),children:o("suggestions.labels.recentWeight")}),u.jsx(He,{id:"suggestion-rule-recentWeight",type:"number",min:0,step:"0.1",value:k,onChange:O=>g(Number(O.target.value)||0)})]}),u.jsxs("div",{ref:se,className:"grid gap-1",children:[u.jsx(Me,{htmlFor:"suggestion-rule-balanceWeight",title:o("suggestions.tooltips.balanceWeight"),children:o("suggestions.labels.balanceWeight")}),u.jsx(He,{id:"suggestion-rule-balanceWeight",type:"number",min:0,step:"0.1",value:p,onChange:O=>x(Number(O.target.value)||0)})]}),u.jsx("div",{className:"flex items-end",children:u.jsx(me,{onClick:re,className:"bg-black text-white w-full",children:o("suggestions.actions.generate")})})]})}),u.jsx(rk,{steps:ae,open:ie,stepIndex:E??0,onClose:D,onNext:U,onPrevious:H}),u.jsx(Vt,{title:o("suggestions.cards.generated"),actions:S&&S.length>0&&u.jsx(me,{onClick:fe,className:"bg-green-600 text-white",children:o("suggestions.actions.applyAll")}),children:S===null?u.jsx("p",{className:"text-neutral-500",children:o("suggestions.messages.waiting")}):S.length===0?u.jsx("p",{className:"text-neutral-500",children:o("suggestions.messages.empty")}):u.jsxs("div",{className:"grid gap-4",children:[u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-sm",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-left border-b",children:[u.jsx("th",{className:"py-2",children:o("suggestions.table.exit")}),u.jsx("th",{children:o("suggestions.table.territory")}),u.jsx("th",{children:o("suggestions.table.start")}),u.jsx("th",{children:o("suggestions.table.end")})]})}),u.jsx("tbody",{children:S.map((O,oe)=>u.jsxs("tr",{className:"border-b last:border-0",children:[u.jsx("td",{className:"py-2",children:un(O.saidaId,t)}),u.jsx("td",{children:un(O.territorioId,e)}),u.jsx("td",{children:br(O.dataInicial)}),u.jsx("td",{children:br(O.dataFinal)})]},O.saidaId+O.territorioId+oe))})]})}),u.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:Object.entries(_).map(([O,oe])=>u.jsxs("div",{className:"border rounded-xl p-3",children:[u.jsx("h4",{className:"font-semibold mb-2",children:un(O,t)}),u.jsx("ol",{className:"list-decimal ml-4 space-y-1 text-sm",children:oe.map(Ee=>u.jsxs("li",{children:[un(Ee.territorioId,e)," - ",Ee.score.toFixed(2),u.jsx("span",{className:"block text-neutral-500",children:Ee.reasons.join(" | ")})]},Ee.territorioId))})]},O))})]})})]})},sk=()=>{var a;const{state:e,dispatch:t}=ls(),r=zt(),n=y_(e),s=((a=e.auth.currentUser)==null?void 0:a.id)??"";return{registros:n,addNaoEmCasa:C.useCallback(async i=>{const o={id:Ei(),completedAt:i.completedAt??null,conversationConfirmed:i.conversationConfirmed??!1,...i,publisherId:s};return await bn.add(o),t({type:"ADD_NAO_EM_CASA",payload:o}),r.success("Retorno agendado"),o},[s,t,r]),updateNaoEmCasa:C.useCallback(async(i,o)=>{const l=n.find(d=>d.id===i);if(!l)return;const c={...l,...o,id:i,conversationConfirmed:o.conversationConfirmed??l.conversationConfirmed??!1};return await bn.add(c),t({type:"UPDATE_NAO_EM_CASA",payload:c}),r.success("Registro atualizado"),c},[t,n,r]),removeNaoEmCasa:C.useCallback(async i=>{await bn.remove(i),t({type:"REMOVE_NAO_EM_CASA",payload:i}),r.success("Registro removido")},[t,r])}},ak=120,ik=e=>{if(!e)return"other";const t=e.toLowerCase();return t.includes("comer")||t.includes("negcio")||t.includes("business")?"commercial":t.includes("resi")||t.includes("casa")||t.includes("home")?"residential":"other"},em=(e,t)=>{if(e==null&&t==null)return"";if(e!=null&&t!=null)return e===t?String(e):`${e}  ${t}`;const r=e??t;return r!=null?String(r):""},ok=(e,t)=>t.id!==void 0?`id:${t.id}`:`combo:${e}:${t.streetId}:${t.numberStart}:${t.numberEnd}`,lk=(e,t)=>{const r=new Map;for(const s of e){const a=s.address.streetId,i=a!=null?`id:${a}`:`name:${s.streetName??t}`,o=s.streetName??t,l=r.get(i);l?l.addresses.push(s):r.set(i,{key:i,name:o,addresses:[s]})}const n=Array.from(r.values()).sort((s,a)=>s.name.localeCompare(a.name,void 0,{sensitivity:"base"}));return n.forEach(s=>{s.addresses.sort((a,i)=>{const o=a.address.numberStart??a.address.numberEnd??Number.POSITIVE_INFINITY,l=i.address.numberStart??i.address.numberEnd??Number.POSITIVE_INFINITY;if(o!==l)return o-l;const c=a.address.numberEnd??a.address.numberStart??Number.POSITIVE_INFINITY,d=i.address.numberEnd??i.address.numberStart??Number.POSITIVE_INFINITY;return c-d})}),n},uk=()=>{const{territorios:e}=ji(),{designacoes:t}=Vl(),{registros:r,addNaoEmCasa:n,updateNaoEmCasa:s}=sk(),{t:a}=qe(),i=C.useMemo(()=>al(),[]),o=C.useMemo(()=>t.filter(v=>v.dataInicial<=i&&v.dataFinal>=i&&!v.devolvido),[t,i]),l=C.useMemo(()=>Array.from(new Set(o.map(v=>v.territorioId))),[o]),c=C.useMemo(()=>l.map(v=>e.find(E=>E.id===v)).filter(v=>v!==void 0),[l,e]),[d,h]=C.useState([]),f=C.useMemo(()=>{const v=new Map;return d.forEach(E=>{E.id!==void 0&&v.set(E.id,E)}),v},[d]),[y,m]=C.useState({});C.useEffect(()=>{let v=!0;return(async()=>{const j=await I.propertyTypes.toArray();v&&h(j)})(),()=>{v=!1}},[]),C.useEffect(()=>{let v=!1;return(async()=>{if(l.length===0){v||m({});return}const j=await Promise.all(l.map(async A=>{const R=await I.streets.where("territoryId").equals(A).toArray(),F=R.map(K=>K.id).filter(K=>K!==void 0),V=F.length>0?await I.addresses.where("streetId").anyOf(F).toArray():[];return[A,{streets:R,addresses:V}]}));v||m(Object.fromEntries(j))})(),()=>{v=!0}},[l]);const w=C.useMemo(()=>r.filter(v=>!v.completedAt),[r]),k=C.useMemo(()=>{const v=new Map;return w.forEach(E=>{const j=E.addressId!=null?`id:${E.addressId}`:`combo:${E.territorioId}:${E.streetId??""}:${E.numberStart??""}:${E.numberEnd??""}`;v.set(j,E)}),v},[w]),g=C.useCallback(v=>{const E=y[v];return E?E.addresses.map(j=>{var F;const A=E.streets.find(V=>V.id===j.streetId),R=((F=f.get(j.propertyTypeId))==null?void 0:F.name)??null;return{address:j,streetName:(A==null?void 0:A.name)??null,propertyTypeName:R,category:ik(R)}}):[]},[y,f]),p=C.useCallback(async(v,E,j)=>{const A=sl(i,ak),{address:R,streetName:F,propertyTypeName:V}=E;if(j){await s(j.id,{territorioId:v,addressId:R.id??null,streetId:R.streetId,streetName:F,numberStart:R.numberStart,numberEnd:R.numberEnd,propertyTypeId:R.propertyTypeId,propertyTypeName:V,recordedAt:i,followUpAt:A,completedAt:null,conversationConfirmed:!1});return}await n({territorioId:v,addressId:R.id??null,streetId:R.streetId,streetName:F,numberStart:R.numberStart,numberEnd:R.numberEnd,propertyTypeId:R.propertyTypeId,propertyTypeName:V,recordedAt:i,followUpAt:A,completedAt:null,conversationConfirmed:!1})},[n,i,s]),x=C.useCallback(async(v,E)=>{await s(v.id,{conversationConfirmed:E})},[s]),S=C.useCallback(async v=>{const E=al();await s(v.id,{completedAt:E,conversationConfirmed:!0})},[s]),b=C.useMemo(()=>[...w].sort((v,E)=>v.followUpAt.localeCompare(E.followUpAt)),[w]),_=C.useCallback(v=>{var E;return((E=e.find(j=>j.id===v))==null?void 0:E.nome)??v},[e]);return u.jsxs("div",{className:"grid gap-4",children:[u.jsx(Vt,{title:a("naoEmCasa.todayAssignments",{count:c.length}),children:c.length===0?u.jsx("p",{className:"text-neutral-500",children:a("naoEmCasa.noAssignments")}):u.jsx("div",{className:"grid gap-6",children:c.map(v=>{const E=g(v.id),j=a("naoEmCasa.unknownStreet"),A=lk(E,j);return u.jsx("div",{className:"flex flex-col gap-4",children:u.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[u.jsx("div",{className:"md:w-64",children:v.imagem||v.imageUrl?u.jsx("img",{src:v.imagem||v.imageUrl,alt:a("naoEmCasa.miniMapAlt",{name:v.nome}),className:"w-full rounded-lg border object-cover"}):u.jsx("div",{className:"h-40 w-full rounded-lg border grid place-items-center text-sm text-neutral-500",children:a("naoEmCasa.noImage")})}),u.jsxs("div",{className:"flex-1 overflow-x-auto",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:v.nome}),E.length===0?u.jsx("p",{className:"text-neutral-500",children:a("naoEmCasa.noAddresses")}):u.jsx("div",{className:"grid gap-3",children:A.map(R=>u.jsxs("details",{className:"rounded-xl border bg-white",children:[u.jsxs("summary",{className:"flex cursor-pointer select-none items-center justify-between gap-2 px-4 py-3 font-medium",children:[u.jsx("span",{children:R.name}),u.jsx("span",{className:"text-sm text-neutral-500",children:a("naoEmCasa.streetAddresses",{count:R.addresses.length})})]}),u.jsx("div",{className:"border-t",children:R.addresses.map(F=>{const{address:V}=F,K=ok(v.id,V),se=k.get(K),ae=(se==null?void 0:se.conversationConfirmed)??!1,ie=F.category==="residential"?a("naoEmCasa.residential"):F.category==="commercial"?a("naoEmCasa.commercial"):a("naoEmCasa.other"),M=em(V.numberStart,V.numberEnd),D=ae;return u.jsxs("div",{className:"flex flex-col gap-3 border-b border-neutral-200 px-4 py-3 last:border-b-0",children:[u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("p",{className:"font-medium",children:a("naoEmCasa.addressLabel",{street:F.streetName??a("naoEmCasa.unknownStreet"),range:M})}),u.jsxs("p",{className:"text-sm text-neutral-500",children:[u.jsx("span",{children:F.propertyTypeName??a("naoEmCasa.unknownType")}),u.jsx("span",{className:"ml-2 text-xs text-neutral-400",children:ie})]}),se&&u.jsx("p",{className:"text-xs text-neutral-500",children:a("naoEmCasa.scheduledFor",{date:br(se.followUpAt)})}),ae&&u.jsx("p",{className:"text-xs font-medium text-green-600",children:a("naoEmCasa.conversationConfirmedLabel")})]}),u.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[u.jsxs("label",{className:`flex items-center gap-2 text-sm ${se?"text-neutral-700":"text-neutral-400"}`,children:[u.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-neutral-300 text-blue-600 focus:ring-blue-500",disabled:!se,checked:ae,onChange:U=>se&&x(se,U.target.checked)}),a("naoEmCasa.confirmConversation")]}),u.jsx(me,{type:"button",className:"bg-blue-600 text-white disabled:cursor-not-allowed disabled:opacity-60",disabled:D,onClick:()=>p(v.id,F,se),children:a("naoEmCasa.recordNotAtHome")})]})]},K)})})]},R.key))})]})]})},v.id)})})}),u.jsx(Vt,{title:a("naoEmCasa.followUpsTitle",{count:b.length}),children:b.length===0?u.jsx("p",{className:"text-neutral-500",children:a("naoEmCasa.noFollowUps")}):u.jsx("ul",{className:"grid gap-3",children:b.map(v=>{const E=v.streetName??a("naoEmCasa.unknownStreet"),j=em(v.numberStart??null,v.numberEnd??null),A=v.propertyTypeName??a("naoEmCasa.unknownType");return u.jsxs("li",{className:"flex flex-col gap-3 rounded-xl border p-3 md:flex-row md:items-center md:justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-medium",children:_(v.territorioId)}),u.jsx("p",{className:"text-sm text-neutral-600",children:a("naoEmCasa.addressLabel",{street:E,range:j})}),u.jsx("p",{className:"text-sm text-neutral-500",children:A}),u.jsx("p",{className:"text-sm text-neutral-600",children:a("naoEmCasa.followUpOn",{date:br(v.followUpAt)})}),u.jsx("p",{className:"text-xs text-neutral-400",children:a("naoEmCasa.recordedOn",{date:br(v.recordedAt)})})]}),u.jsx(me,{type:"button",onClick:()=>S(v),className:"bg-green-600 text-white self-start",children:a("naoEmCasa.markCompleted")})]},v.id)})})})]})},ck=()=>{const{state:e,dispatch:t}=ls(),r=zt(),{t:n}=qe(),s=x_(e);return{users:s,addUser:C.useCallback(async a=>{const i=new Date().toISOString(),o=a.password.trim();if(!o)throw new Error("PASSWORD_REQUIRED");const l=await fi(o),{password:c,...d}=a,h={id:Ei(),createdAt:i,updatedAt:i,passwordHash:l,...d};return await wr.add(h),t({type:"ADD_USER",payload:h}),r.success(n("users.toast.createSuccess")),h},[t,n,r]),updateUser:C.useCallback(async(a,i)=>{var m;const o=s.find(w=>w.id===a),l=(o==null?void 0:o.createdAt)??new Date().toISOString(),c=(m=i.password)==null?void 0:m.trim(),d=c&&c.length>0?await fi(c):(o==null?void 0:o.passwordHash)??"",{password:h,...f}=i,y={id:a,createdAt:l,updatedAt:new Date().toISOString(),passwordHash:d,...f};return await wr.update(y),t({type:"UPDATE_USER",payload:y}),r.success(n("users.toast.updateSuccess")),y},[t,n,r,s]),removeUser:C.useCallback(async a=>{await wr.remove(a),t({type:"REMOVE_USER",payload:a}),r.success(n("users.toast.deleteSuccess"))},[t,n,r])}},tm="viewer",dk=()=>{const{t:e}=qe(),t=ia(),r=zt(),{users:n,addUser:s,updateUser:a,removeUser:i}=ck(),[o,l]=C.useState(null),[c,d]=C.useState(""),[h,f]=C.useState(""),[y,m]=C.useState(tm),[w,k]=C.useState(""),[g,p]=C.useState(""),[x,S]=C.useState(!1),b=C.useMemo(()=>[...n].sort((A,R)=>A.name.localeCompare(R.name,void 0,{sensitivity:"base"})),[n]),_=()=>{l(null),d(""),f(""),m(tm),k(""),p(""),S(!1)},v=async A=>{A.preventDefault();const R=c.trim(),F=h.trim(),V=w.trim(),K=g.trim();if(R){if(o){if(V||K){if(!V||!K){r.error(e("users.form.passwordMismatch"));return}if(V!==K){r.error(e("users.form.passwordMismatch"));return}}}else{if(!V){r.error(e("users.form.passwordRequired"));return}if(V!==K){r.error(e("users.form.passwordMismatch"));return}}try{S(!0),o?await a(o,{name:R,email:F,role:y,password:V||void 0}):await s({name:R,email:F,role:y,password:V}),_()}catch(se){if(se instanceof Error&&se.message==="PASSWORD_REQUIRED"){r.error(e("users.form.passwordRequired"));return}console.error("Failed to save user",se),r.error(e("users.toast.saveError"))}finally{S(!1)}}},E=A=>{l(A.id),d(A.name),f(A.email),m(A.role),k(""),p("")},j=async A=>{await t(e("users.confirmDelete",{name:A.name}))&&(await i(A.id),o===A.id&&_())};return u.jsxs("div",{className:"grid gap-4",children:[u.jsx(Vt,{title:e(o?"users.form.editTitle":"users.form.createTitle"),children:u.jsxs("form",{onSubmit:v,className:"grid gap-3 md:grid-cols-6",children:[u.jsxs("div",{className:"grid gap-1 md:col-span-2",children:[u.jsx(Me,{htmlFor:"user-name",children:e("users.form.name")}),u.jsx(He,{id:"user-name",value:c,onChange:A=>d(A.target.value),placeholder:e("users.form.namePlaceholder")})]}),u.jsxs("div",{className:"grid gap-1 md:col-span-2",children:[u.jsx(Me,{htmlFor:"user-email",children:e("users.form.email")}),u.jsx(He,{id:"user-email",type:"email",value:h,onChange:A=>f(A.target.value),placeholder:e("users.form.emailPlaceholder")})]}),u.jsxs("div",{className:"grid gap-1 md:col-span-2",children:[u.jsx(Me,{htmlFor:"user-role",children:e("users.form.role")}),u.jsx("select",{id:"user-role",value:y,onChange:A=>m(A.target.value),className:"w-full rounded-xl border px-3 py-2 bg-white dark:bg-neutral-900",children:pv.map(A=>u.jsx("option",{value:A,children:e(`users.roles.${A}`)},A))})]}),u.jsxs("div",{className:"grid gap-1 md:col-span-3",children:[u.jsx(Me,{htmlFor:"user-password",children:e("users.form.password")}),u.jsx(He,{id:"user-password",type:"password",value:w,onChange:A=>k(A.target.value),placeholder:e("users.form.passwordPlaceholder"),autoComplete:"new-password"})]}),u.jsxs("div",{className:"grid gap-1 md:col-span-3",children:[u.jsx(Me,{htmlFor:"user-password-confirm",children:e("users.form.passwordConfirmation")}),u.jsx(He,{id:"user-password-confirm",type:"password",value:g,onChange:A=>p(A.target.value),placeholder:e("users.form.passwordConfirmationPlaceholder"),autoComplete:"new-password"}),u.jsx("p",{className:"text-xs text-neutral-500",children:e("users.form.passwordHint")})]}),u.jsxs("div",{className:"flex items-end justify-end gap-2 md:col-span-6",children:[o&&u.jsx(me,{type:"button",className:"bg-neutral-100",onClick:_,children:e("users.form.cancel")}),u.jsx(me,{type:"submit",className:"bg-black text-white",disabled:x,children:e(o?"users.form.update":"users.form.save")})]})]})}),u.jsx(Vt,{title:e("users.listTitle",{count:n.length}),children:b.length===0?u.jsx("p",{className:"text-neutral-500",children:e("users.empty")}):u.jsx("div",{className:"grid gap-3",children:b.map(A=>u.jsxs("div",{className:"rounded-xl border p-3 flex flex-col gap-3 bg-white dark:bg-neutral-900 md:flex-row md:items-center md:justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold",children:A.name}),u.jsx("p",{className:"text-sm text-neutral-600",children:A.email?A.email:e("users.noEmail")}),u.jsx("p",{className:"text-sm text-neutral-500",children:e(`users.roles.${A.role}`)})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(me,{type:"button",className:"bg-neutral-100",onClick:()=>E(A),children:e("users.actions.edit")}),u.jsx(me,{type:"button",className:"bg-red-50 text-red-700",onClick:()=>{j(A)},children:e("users.actions.delete")})]})]},A.id))})})]})},fk=e=>{const t=r=>r.toString().padStart(2,"0");return[e.getFullYear(),t(e.getMonth()+1),t(e.getDate()),t(e.getHours()),t(e.getMinutes()),t(e.getSeconds())].join("")},hk=async e=>{const[t,r,n,s,a,i,o]=await Promise.all([or.forPublisher(e),xn.forPublisher(e),Mr.forPublisher(e),hi.forPublisher(e),bn.forPublisher(e),wn.forPublisher(e),wr.all()]),[l,c,d,h,f,y]=await Promise.all([I.streets.toArray(),I.propertyTypes.toArray(),I.addresses.toArray(),I.derivedTerritories.toArray(),I.derivedTerritoryAddresses.toArray(),I.metadata.toArray()]);return{version:Zs,exportedAt:new Date().toISOString(),territorios:t,saidas:r,designacoes:n,sugestoes:s,naoEmCasa:a,buildingsVillages:i,users:o,streets:l,propertyTypes:c,addresses:d,derivedTerritories:h,derivedTerritoryAddresses:f,metadata:y}},pk=e=>{const t=new Blob([e],{type:"application/json"}),r=URL.createObjectURL(t),n=document.createElement("a"),s=fk(new Date);n.href=r,n.download=`assigna-export-${s}.json`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)},mk=async e=>{if(!e)throw new Error("Publisher ID is required to export data");const t=await hk(e),r=JSON.stringify(t,null,2);pk(r)},gk=tt({id:W(),nome:W(),publisherId:W().optional().default(""),imagem:W().optional(),imageUrl:W().optional()}),yk=tt({id:W(),nome:W(),diaDaSemana:Ge(),hora:W(),publisherId:W().optional().default("")}),vk=tt({id:W(),territorioId:W(),saidaId:W(),dataInicial:W(),dataFinal:W(),publisherId:W().optional().default(""),devolvido:Fv().optional()}),xk=tt({territorioId:W(),saidaId:W(),dataInicial:W(),dataFinal:W(),publisherId:W().optional().default("")}),Hv=pl(di),wk=tt({id:W(),status:Hv,sent_at:W().nullable().optional().default(null),notes:W().nullable().optional().default(null)}),bk=tt({id:W(),territory_id:W(),publisherId:W().optional().default(""),name:W().nullable(),address_line:W().nullable(),type:W().nullable(),number:W().nullable(),residences_count:Ge().nullable(),modality:W().nullable(),reception_type:W().nullable(),responsible:W().nullable(),contact_method:W().nullable().optional().default(null),letter_status:Hv.nullable().optional().default(null),letter_history:gt(wk).optional().default([]),assigned_at:W().nullable(),returned_at:W().nullable(),block:W().nullable(),notes:W().nullable(),created_at:W().nullable()}),_k=tt({id:Ge(),territoryId:W(),name:W()}),Sk=tt({id:Ge(),name:W()}),kk=tt({id:Ge(),streetId:Ge(),numberStart:Ge(),numberEnd:Ge(),propertyTypeId:Ge()}),Nk=tt({id:W(),territorioId:W(),publisherId:W().optional().default(""),addressId:Ge().nullable().optional(),streetId:Ge().nullable().optional(),streetName:W().nullable().optional(),numberStart:Ge().nullable().optional(),numberEnd:Ge().nullable().optional(),propertyTypeId:Ge().nullable().optional(),propertyTypeName:W().nullable().optional(),recordedAt:W(),followUpAt:W(),completedAt:W().nullable().optional(),conversationConfirmed:Fv().optional().default(!1)}),Ek=tt({id:Ge(),baseTerritoryId:W(),name:W()}),Ck=tt({derivedTerritoryId:Ge(),addressId:Ge()}),jk=tt({id:W(),name:W(),email:W(),role:pl(pv),passwordHash:W().optional().default(""),createdAt:W(),updatedAt:W()}),Tk=tt({key:W(),value:Ge()}),Ak=tt({version:Ge().optional(),exportedAt:W().optional(),territorios:gt(gk).optional().default([]),saidas:gt(yk).optional().default([]),designacoes:gt(vk).optional().default([]),sugestoes:gt(xk).optional().default([]),buildingsVillages:gt(bk).optional().default([]),streets:gt(_k).optional().default([]),propertyTypes:gt(Sk).optional().default([]),addresses:gt(kk).optional().default([]),naoEmCasa:gt(Nk).optional().default([]),derivedTerritories:gt(Ek).optional().default([]),derivedTerritoryAddresses:gt(Ck).optional().default([]),metadata:gt(Tk).optional().default([]),users:gt(jk).optional().default([])}).transform(e=>({...e,territorios:e.territorios??[],saidas:e.saidas??[],designacoes:e.designacoes??[],sugestoes:e.sugestoes??[],buildingsVillages:e.buildingsVillages??[],streets:e.streets??[],propertyTypes:e.propertyTypes??[],addresses:e.addresses??[],naoEmCasa:e.naoEmCasa??[],derivedTerritories:e.derivedTerritories??[],derivedTerritoryAddresses:e.derivedTerritoryAddresses??[],metadata:e.metadata??[],users:e.users??[]})),Ik=async e=>typeof e=="string"?e:e.text(),Pk=e=>{const t=e.metadata.filter(r=>r.key!=="schemaVersion");return t.push({key:"schemaVersion",value:Zs}),t},Dk=async e=>{const t=await Ik(e);let r;try{r=JSON.parse(t)}catch{throw new Error("INVALID_JSON")}let n;try{n=Ak.parse(r)}catch(a){throw a instanceof Sr?new Error("INVALID_EXPORT_DATA"):a}const s=Pk(n);return await I.transaction("rw",[I.territorios,I.saidas,I.designacoes,I.sugestoes,I.buildingsVillages,I.naoEmCasa,I.users,I.streets,I.propertyTypes,I.addresses,I.derivedTerritories,I.derivedTerritoryAddresses,I.metadata],async()=>{await Promise.all([or.clear(),xn.clear(),Mr.clear(),hi.clear(),wn.clear(),bn.clear(),wr.clear(),I.streets.clear(),I.propertyTypes.clear(),I.addresses.clear(),I.derivedTerritories.clear(),I.derivedTerritoryAddresses.clear(),I.metadata.clear()]),n.territorios.length>0&&await or.bulkAdd(n.territorios),n.saidas.length>0&&await xn.bulkAdd(n.saidas),n.designacoes.length>0&&await Mr.bulkAdd(n.designacoes),n.sugestoes.length>0&&await hi.bulkAdd(n.sugestoes),n.naoEmCasa.length>0&&await bn.bulkAdd(n.naoEmCasa),n.buildingsVillages.length>0&&await wn.bulkAdd(n.buildingsVillages),n.users.length>0&&await wr.bulkAdd(n.users),n.streets.length>0&&await I.streets.bulkPut(n.streets),n.propertyTypes.length>0&&await I.propertyTypes.bulkPut(n.propertyTypes),n.addresses.length>0&&await I.addresses.bulkPut(n.addresses),n.derivedTerritories.length>0&&await I.derivedTerritories.bulkPut(n.derivedTerritories),n.derivedTerritoryAddresses.length>0&&await I.derivedTerritoryAddresses.bulkPut(n.derivedTerritoryAddresses),await I.metadata.bulkPut(s)}),await If(),{...n,metadata:s,version:Zs}},Rk=()=>{const e=Tw(),{currentUser:t}=Kr(),r=e.state??void 0,n=(r==null?void 0:r.reason)??(t?"unauthorized":"unauthenticated"),s={unauthenticated:{title:"Faa login para continuar",description:"Entre com uma conta autorizada usando os controles no topo da pgina."},unauthorized:{title:"Acesso no permitido",description:"Sua conta atual no possui permisso para acessar esta seo."}};return u.jsxs("section",{className:"flex flex-col items-center justify-center gap-4 py-24 text-center",children:[u.jsxs("div",{className:"max-w-lg space-y-3",children:[u.jsx("h2",{className:"text-2xl font-semibold",children:s[n].title}),u.jsx("p",{className:"text-neutral-600 dark:text-neutral-300",children:s[n].description}),r!=null&&r.from?u.jsxs("p",{className:"text-sm text-neutral-500",children:["Rota solicitada: ",r.from]}):null,t?u.jsxs("p",{className:"text-xs uppercase tracking-wide text-neutral-500",children:["Usurio atual: ",t.id,"  ",t.role]}):null]}),u.jsx(Iw,{to:"/",className:"rounded-xl px-3 py-2 border bg-neutral-100 hover:bg-neutral-200 transition",children:"Voltar para o incio"})]})},xd="/unauthorized",rm=aa.toLowerCase(),Ok={territories:FS,streets:US,buildingsVillages:KS,letters:qS,exits:QS,assignments:XS,users:dk,calendar:tk,suggestions:nk,notAtHome:uk},Lk=({component:e,allowedRoles:t,currentRole:r,path:n})=>{const s=(r==null?void 0:r.toLowerCase())??null,a=s!==null&&t.some(i=>i.toLowerCase()===s);return s===null?u.jsx(Dc,{to:xd,replace:!0,state:{from:n,reason:"unauthenticated"}}):a?u.jsx(e,{}):u.jsx(Dc,{to:xd,replace:!0,state:{from:n,reason:"unauthorized"}})},Mk=()=>{const{dispatch:e}=ls(),t=zt(),r=ia(),{t:n}=qe(),s=C.useRef(null),{currentUser:a}=Kr(),i=async()=>{try{if(!(a!=null&&a.id)){t.error(n("app.exportError")),console.error("Exportao falhou: nenhum publicador autenticado.");return}await mk(a.id),t.success(n("app.exportSuccess"))}catch(d){console.error(n("app.exportError"),d),t.error(n("app.exportError"))}},o=()=>{var d;(d=s.current)==null||d.click()},l=async d=>{var f;const h=(f=d.target.files)==null?void 0:f[0];if(h)try{const y=await Dk(h);e({type:"SET_TERRITORIOS",payload:y.territorios}),e({type:"SET_SAIDAS",payload:y.saidas}),e({type:"SET_DESIGNACOES",payload:y.designacoes}),e({type:"SET_SUGESTOES",payload:y.sugestoes}),e({type:"SET_NAO_EM_CASA",payload:y.naoEmCasa}),e({type:"SET_USERS",payload:y.users}),t.success(n("app.importSuccess"))}catch(y){console.error(n("app.importError"),y),t.error(n("app.importError"))}finally{d.target.value=""}},c=async()=>{if(await r(n("app.clearConfirm")))try{await Promise.all([or.clear(),xn.clear(),Mr.clear(),hi.clear(),bn.clear(),wr.clear(),wn.clear(),I.streets.clear(),I.propertyTypes.clear(),I.addresses.clear(),I.derivedTerritories.clear(),I.derivedTerritoryAddresses.clear(),I.naoEmCasa.clear(),I.metadata.clear()]),await mv(),await I.metadata.put({key:"schemaVersion",value:Zs}),e({type:"RESET_STATE"}),t.success(n("app.clearSuccess"))}catch(d){console.error(n("app.clearError"),d),t.error(n("app.clearError"))}};return u.jsxs("div",{className:"flex flex-col items-end gap-2",children:[u.jsx("input",{ref:s,type:"file",accept:"application/json,application/*+json",onChange:l,className:"hidden"}),u.jsxs("div",{className:"flex flex-wrap justify-end gap-2",children:[u.jsx(me,{onClick:i,className:"mt-4 bg-neutral-100",children:"Exportar"}),u.jsx(me,{onClick:o,className:"mt-4 bg-neutral-100",children:"Importar"}),u.jsx(me,{onClick:c,className:"mt-4 bg-red-600 text-white",children:"Limpar TODOS os dados"})]})]})},Vk=()=>{const{currentUser:e}=Kr(),t=(e==null?void 0:e.role)??null,r=(t==null?void 0:t.toLowerCase())??null,n=r===rm,s=r===rm;return u.jsxs(U_,{children:[u.jsxs(Aw,{children:[E_.map(([a,i])=>{const o=Ok[a];return u.jsx(mu,{path:i.path,element:u.jsx(Lk,{component:o,allowedRoles:i.allowedRoles,currentRole:t,path:i.path})},a)}),u.jsx(mu,{path:xd,element:u.jsx(Rk,{})}),u.jsx(mu,{path:"*",element:u.jsx(Dc,{to:"/",replace:!0})})]}),n&&u.jsx(b_,{}),s&&u.jsx(Mk,{})]})};function Fk(){return u.jsx(wv,{children:u.jsx(Cw,{children:u.jsx(Vk,{})})})}const ue=e=>typeof e=="string",va=()=>{let e,t;const r=new Promise((n,s)=>{e=n,t=s});return r.resolve=e,r.reject=t,r},nm=e=>e==null?"":""+e,$k=(e,t,r)=>{e.forEach(n=>{t[n]&&(r[n]=t[n])})},Uk=/###/g,sm=e=>e&&e.indexOf("###")>-1?e.replace(Uk,"."):e,am=e=>!e||ue(e),$a=(e,t,r)=>{const n=ue(t)?t.split("."):t;let s=0;for(;s<n.length-1;){if(am(e))return{};const a=sm(n[s]);!e[a]&&r&&(e[a]=new r),Object.prototype.hasOwnProperty.call(e,a)?e=e[a]:e={},++s}return am(e)?{}:{obj:e,k:sm(n[s])}},im=(e,t,r)=>{const{obj:n,k:s}=$a(e,t,Object);if(n!==void 0||t.length===1){n[s]=r;return}let a=t[t.length-1],i=t.slice(0,t.length-1),o=$a(e,i,Object);for(;o.obj===void 0&&i.length;)a=`${i[i.length-1]}.${a}`,i=i.slice(0,i.length-1),o=$a(e,i,Object),o!=null&&o.obj&&typeof o.obj[`${o.k}.${a}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${a}`]=r},zk=(e,t,r,n)=>{const{obj:s,k:a}=$a(e,t,Object);s[a]=s[a]||[],s[a].push(r)},ml=(e,t)=>{const{obj:r,k:n}=$a(e,t);if(r&&Object.prototype.hasOwnProperty.call(r,n))return r[n]},Bk=(e,t,r)=>{const n=ml(e,r);return n!==void 0?n:ml(t,r)},Wv=(e,t,r)=>{for(const n in t)n!=="__proto__"&&n!=="constructor"&&(n in e?ue(e[n])||e[n]instanceof String||ue(t[n])||t[n]instanceof String?r&&(e[n]=t[n]):Wv(e[n],t[n],r):e[n]=t[n]);return e},hs=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Kk={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Hk=e=>ue(e)?e.replace(/[&<>"'\/]/g,t=>Kk[t]):e;class Wk{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const r=this.regExpMap.get(t);if(r!==void 0)return r;const n=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,n),this.regExpQueue.push(t),n}}const Zk=[" ",",","?","!",";"],qk=new Wk(20),Qk=(e,t,r)=>{t=t||"",r=r||"";const n=Zk.filter(i=>t.indexOf(i)<0&&r.indexOf(i)<0);if(n.length===0)return!0;const s=qk.getRegExp(`(${n.map(i=>i==="?"?"\\?":i).join("|")})`);let a=!s.test(e);if(!a){const i=e.indexOf(r);i>0&&!s.test(e.substring(0,i))&&(a=!0)}return a},wd=(e,t,r=".")=>{if(!e)return;if(e[t])return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0;const n=t.split(r);let s=e;for(let a=0;a<n.length;){if(!s||typeof s!="object")return;let i,o="";for(let l=a;l<n.length;++l)if(l!==a&&(o+=r),o+=n[l],i=s[o],i!==void 0){if(["string","number","boolean"].indexOf(typeof i)>-1&&l<n.length-1)continue;a+=l-a+1;break}s=i}return s},gi=e=>e==null?void 0:e.replace("_","-"),Gk={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){var r,n;(n=(r=console==null?void 0:console[e])==null?void 0:r.apply)==null||n.call(r,console,t)}};class gl{constructor(t,r={}){this.init(t,r)}init(t,r={}){this.prefix=r.prefix||"i18next:",this.logger=t||Gk,this.options=r,this.debug=r.debug}log(...t){return this.forward(t,"log","",!0)}warn(...t){return this.forward(t,"warn","",!0)}error(...t){return this.forward(t,"error","")}deprecate(...t){return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(t,r,n,s){return s&&!this.debug?null:(ue(t[0])&&(t[0]=`${n}${this.prefix} ${t[0]}`),this.logger[r](t))}create(t){return new gl(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new gl(this.logger,t)}}var yr=new gl;class Fl{constructor(){this.observers={}}on(t,r){return t.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const s=this.observers[n].get(r)||0;this.observers[n].set(r,s+1)}),this}off(t,r){if(this.observers[t]){if(!r){delete this.observers[t];return}this.observers[t].delete(r)}}emit(t,...r){this.observers[t]&&Array.from(this.observers[t].entries()).forEach(([s,a])=>{for(let i=0;i<a;i++)s(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([s,a])=>{for(let i=0;i<a;i++)s.apply(s,[t,...r])})}}class om extends Fl{constructor(t,r={ns:["translation"],defaultNS:"translation"}){super(),this.data=t||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const r=this.options.ns.indexOf(t);r>-1&&this.options.ns.splice(r,1)}getResource(t,r,n,s={}){var c,d;const a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,i=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;t.indexOf(".")>-1?o=t.split("."):(o=[t,r],n&&(Array.isArray(n)?o.push(...n):ue(n)&&a?o.push(...n.split(a)):o.push(n)));const l=ml(this.data,o);return!l&&!r&&!n&&t.indexOf(".")>-1&&(t=o[0],r=o[1],n=o.slice(2).join(".")),l||!i||!ue(n)?l:wd((d=(c=this.data)==null?void 0:c[t])==null?void 0:d[r],n,a)}addResource(t,r,n,s,a={silent:!1}){const i=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let o=[t,r];n&&(o=o.concat(i?n.split(i):n)),t.indexOf(".")>-1&&(o=t.split("."),s=r,r=o[1]),this.addNamespaces(r),im(this.data,o,s),a.silent||this.emit("added",t,r,n,s)}addResources(t,r,n,s={silent:!1}){for(const a in n)(ue(n[a])||Array.isArray(n[a]))&&this.addResource(t,r,a,n[a],{silent:!0});s.silent||this.emit("added",t,r,n)}addResourceBundle(t,r,n,s,a,i={silent:!1,skipCopy:!1}){let o=[t,r];t.indexOf(".")>-1&&(o=t.split("."),s=n,n=r,r=o[1]),this.addNamespaces(r);let l=ml(this.data,o)||{};i.skipCopy||(n=JSON.parse(JSON.stringify(n))),s?Wv(l,n,a):l={...l,...n},im(this.data,o,l),i.silent||this.emit("added",t,r,n)}removeResourceBundle(t,r){this.hasResourceBundle(t,r)&&delete this.data[t][r],this.removeNamespaces(r),this.emit("removed",t,r)}hasResourceBundle(t,r){return this.getResource(t,r)!==void 0}getResourceBundle(t,r){return r||(r=this.options.defaultNS),this.getResource(t,r)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const r=this.getDataByLanguage(t);return!!(r&&Object.keys(r)||[]).find(s=>r[s]&&Object.keys(r[s]).length>0)}toJSON(){return this.data}}var Zv={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,r,n,s){return e.forEach(a=>{var i;t=((i=this.processors[a])==null?void 0:i.process(t,r,n,s))??t}),t}};const qv=Symbol("i18next/PATH_KEY");function Yk(){const e=[],t=Object.create(null);let r;return t.get=(n,s)=>{var a;return(a=r==null?void 0:r.revoke)==null||a.call(r),s===qv?e:(e.push(s),r=Proxy.revocable(n,t),r.proxy)},Proxy.revocable(Object.create(null),t).proxy}function bd(e,t){const{[qv]:r}=e(Yk());return r.join((t==null?void 0:t.keySeparator)??".")}const lm={},um=e=>!ue(e)&&typeof e!="boolean"&&typeof e!="number";class yl extends Fl{constructor(t,r={}){super(),$k(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=yr.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t,r={interpolation:{}}){const n={...r};if(t==null)return!1;const s=this.resolve(t,n);return(s==null?void 0:s.res)!==void 0}extractFromKey(t,r){let n=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const s=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let a=r.ns||this.options.defaultNS||[];const i=n&&t.indexOf(n)>-1,o=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!Qk(t,n,s);if(i&&!o){const l=t.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:t,namespaces:ue(a)?[a]:a};const c=t.split(n);(n!==s||n===s&&this.options.ns.indexOf(c[0])>-1)&&(a=c.shift()),t=c.join(s)}return{key:t,namespaces:ue(a)?[a]:a}}translate(t,r,n){let s=typeof r=="object"?{...r}:r;if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof s=="object"&&(s={...s}),s||(s={}),t==null)return"";typeof t=="function"&&(t=bd(t,{...this.options,...s})),Array.isArray(t)||(t=[String(t)]);const a=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,i=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:o,namespaces:l}=this.extractFromKey(t[t.length-1],s),c=l[l.length-1];let d=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;d===void 0&&(d=":");const h=s.lng||this.language,f=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((h==null?void 0:h.toLowerCase())==="cimode")return f?a?{res:`${c}${d}${o}`,usedKey:o,exactUsedKey:o,usedLng:h,usedNS:c,usedParams:this.getUsedParamsDetails(s)}:`${c}${d}${o}`:a?{res:o,usedKey:o,exactUsedKey:o,usedLng:h,usedNS:c,usedParams:this.getUsedParamsDetails(s)}:o;const y=this.resolve(t,s);let m=y==null?void 0:y.res;const w=(y==null?void 0:y.usedKey)||o,k=(y==null?void 0:y.exactUsedKey)||o,g=["[object Number]","[object Function]","[object RegExp]"],p=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,x=!this.i18nFormat||this.i18nFormat.handleAsObject,S=s.count!==void 0&&!ue(s.count),b=yl.hasDefaultValue(s),_=S?this.pluralResolver.getSuffix(h,s.count,s):"",v=s.ordinal&&S?this.pluralResolver.getSuffix(h,s.count,{ordinal:!1}):"",E=S&&!s.ordinal&&s.count===0,j=E&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${_}`]||s[`defaultValue${v}`]||s.defaultValue;let A=m;x&&!m&&b&&(A=j);const R=um(A),F=Object.prototype.toString.apply(A);if(x&&A&&R&&g.indexOf(F)<0&&!(ue(p)&&Array.isArray(A))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const V=this.options.returnedObjectHandler?this.options.returnedObjectHandler(w,A,{...s,ns:l}):`key '${o} (${this.language})' returned an object instead of string.`;return a?(y.res=V,y.usedParams=this.getUsedParamsDetails(s),y):V}if(i){const V=Array.isArray(A),K=V?[]:{},se=V?k:w;for(const ae in A)if(Object.prototype.hasOwnProperty.call(A,ae)){const ie=`${se}${i}${ae}`;b&&!m?K[ae]=this.translate(ie,{...s,defaultValue:um(j)?j[ae]:void 0,joinArrays:!1,ns:l}):K[ae]=this.translate(ie,{...s,joinArrays:!1,ns:l}),K[ae]===ie&&(K[ae]=A[ae])}m=K}}else if(x&&ue(p)&&Array.isArray(m))m=m.join(p),m&&(m=this.extendTranslation(m,t,s,n));else{let V=!1,K=!1;!this.isValidLookup(m)&&b&&(V=!0,m=j),this.isValidLookup(m)||(K=!0,m=o);const ae=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&K?void 0:m,ie=b&&j!==m&&this.options.updateMissing;if(K||V||ie){if(this.logger.log(ie?"updateKey":"missingKey",h,c,o,ie?j:m),i){const H=this.resolve(o,{...s,keySeparator:!1});H&&H.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let M=[];const D=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&D&&D[0])for(let H=0;H<D.length;H++)M.push(D[H]);else this.options.saveMissingTo==="all"?M=this.languageUtils.toResolveHierarchy(s.lng||this.language):M.push(s.lng||this.language);const U=(H,re,fe)=>{var O;const T=b&&fe!==m?fe:ae;this.options.missingKeyHandler?this.options.missingKeyHandler(H,c,re,T,ie,s):(O=this.backendConnector)!=null&&O.saveMissing&&this.backendConnector.saveMissing(H,c,re,T,ie,s),this.emit("missingKey",H,c,re,m)};this.options.saveMissing&&(this.options.saveMissingPlurals&&S?M.forEach(H=>{const re=this.pluralResolver.getSuffixes(H,s);E&&s[`defaultValue${this.options.pluralSeparator}zero`]&&re.indexOf(`${this.options.pluralSeparator}zero`)<0&&re.push(`${this.options.pluralSeparator}zero`),re.forEach(fe=>{U([H],o+fe,s[`defaultValue${fe}`]||j)})}):U(M,o,j))}m=this.extendTranslation(m,t,s,y,n),K&&m===o&&this.options.appendNamespaceToMissingKey&&(m=`${c}${d}${o}`),(K||V)&&this.options.parseMissingKeyHandler&&(m=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}${d}${o}`:o,V?m:void 0,s))}return a?(y.res=m,y.usedParams=this.getUsedParamsDetails(s),y):m}extendTranslation(t,r,n,s,a){var l,c;if((l=this.i18nFormat)!=null&&l.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const d=ue(t)&&(((c=n==null?void 0:n.interpolation)==null?void 0:c.skipOnVariables)!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let h;if(d){const y=t.match(this.interpolator.nestingRegexp);h=y&&y.length}let f=n.replace&&!ue(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(f={...this.options.interpolation.defaultVariables,...f}),t=this.interpolator.interpolate(t,f,n.lng||this.language||s.usedLng,n),d){const y=t.match(this.interpolator.nestingRegexp),m=y&&y.length;h<m&&(n.nest=!1)}!n.lng&&s&&s.res&&(n.lng=this.language||s.usedLng),n.nest!==!1&&(t=this.interpolator.nest(t,(...y)=>(a==null?void 0:a[0])===y[0]&&!n.context?(this.logger.warn(`It seems you are nesting recursively key: ${y[0]} in key: ${r[0]}`),null):this.translate(...y,r),n)),n.interpolation&&this.interpolator.reset()}const i=n.postProcess||this.options.postProcess,o=ue(i)?[i]:i;return t!=null&&(o!=null&&o.length)&&n.applyPostProcessor!==!1&&(t=Zv.handle(o,t,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),t}resolve(t,r={}){let n,s,a,i,o;return ue(t)&&(t=[t]),t.forEach(l=>{if(this.isValidLookup(n))return;const c=this.extractFromKey(l,r),d=c.key;s=d;let h=c.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const f=r.count!==void 0&&!ue(r.count),y=f&&!r.ordinal&&r.count===0,m=r.context!==void 0&&(ue(r.context)||typeof r.context=="number")&&r.context!=="",w=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);h.forEach(k=>{var g,p;this.isValidLookup(n)||(o=k,!lm[`${w[0]}-${k}`]&&((g=this.utils)!=null&&g.hasLoadedNamespace)&&!((p=this.utils)!=null&&p.hasLoadedNamespace(o))&&(lm[`${w[0]}-${k}`]=!0,this.logger.warn(`key "${s}" for languages "${w.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),w.forEach(x=>{var _;if(this.isValidLookup(n))return;i=x;const S=[d];if((_=this.i18nFormat)!=null&&_.addLookupKeys)this.i18nFormat.addLookupKeys(S,d,x,k,r);else{let v;f&&(v=this.pluralResolver.getSuffix(x,r.count,r));const E=`${this.options.pluralSeparator}zero`,j=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(f&&(r.ordinal&&v.indexOf(j)===0&&S.push(d+v.replace(j,this.options.pluralSeparator)),S.push(d+v),y&&S.push(d+E)),m){const A=`${d}${this.options.contextSeparator||"_"}${r.context}`;S.push(A),f&&(r.ordinal&&v.indexOf(j)===0&&S.push(A+v.replace(j,this.options.pluralSeparator)),S.push(A+v),y&&S.push(A+E))}}let b;for(;b=S.pop();)this.isValidLookup(n)||(a=b,n=this.getResource(x,k,b,r))}))})}),{res:n,usedKey:s,exactUsedKey:a,usedLng:i,usedNS:o}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,r,n,s={}){var a;return(a=this.i18nFormat)!=null&&a.getResource?this.i18nFormat.getResource(t,r,n,s):this.resourceStore.getResource(t,r,n,s)}getUsedParamsDetails(t={}){const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=t.replace&&!ue(t.replace);let s=n?t.replace:t;if(n&&typeof t.count<"u"&&(s.count=t.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!n){s={...s};for(const a of r)delete s[a]}return s}static hasDefaultValue(t){const r="defaultValue";for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&r===n.substring(0,r.length)&&t[n]!==void 0)return!0;return!1}}class cm{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=yr.create("languageUtils")}getScriptPartFromCode(t){if(t=gi(t),!t||t.indexOf("-")<0)return null;const r=t.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(t){if(t=gi(t),!t||t.indexOf("-")<0)return t;const r=t.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(t){if(ue(t)&&t.indexOf("-")>-1){let r;try{r=Intl.getCanonicalLocales(t)[0]}catch{}return r&&this.options.lowerCaseLng&&(r=r.toLowerCase()),r||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let r;return t.forEach(n=>{if(r)return;const s=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(s))&&(r=s)}),!r&&this.options.supportedLngs&&t.forEach(n=>{if(r)return;const s=this.getScriptPartFromCode(n);if(this.isSupportedCode(s))return r=s;const a=this.getLanguagePartFromCode(n);if(this.isSupportedCode(a))return r=a;r=this.options.supportedLngs.find(i=>{if(i===a)return i;if(!(i.indexOf("-")<0&&a.indexOf("-")<0)&&(i.indexOf("-")>0&&a.indexOf("-")<0&&i.substring(0,i.indexOf("-"))===a||i.indexOf(a)===0&&a.length>1))return i})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(t,r){if(!t)return[];if(typeof t=="function"&&(t=t(r)),ue(t)&&(t=[t]),Array.isArray(t))return t;if(!r)return t.default||[];let n=t[r];return n||(n=t[this.getScriptPartFromCode(r)]),n||(n=t[this.formatLanguageCode(r)]),n||(n=t[this.getLanguagePartFromCode(r)]),n||(n=t.default),n||[]}toResolveHierarchy(t,r){const n=this.getFallbackCodes((r===!1?[]:r)||this.options.fallbackLng||[],t),s=[],a=i=>{i&&(this.isSupportedCode(i)?s.push(i):this.logger.warn(`rejecting language code not found in supportedLngs: ${i}`))};return ue(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(t))):ue(t)&&a(this.formatLanguageCode(t)),n.forEach(i=>{s.indexOf(i)<0&&a(this.formatLanguageCode(i))}),s}}const dm={zero:0,one:1,two:2,few:3,many:4,other:5},fm={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class Jk{constructor(t,r={}){this.languageUtils=t,this.options=r,this.logger=yr.create("pluralResolver"),this.pluralRulesCache={}}addRule(t,r){this.rules[t]=r}clearCache(){this.pluralRulesCache={}}getRule(t,r={}){const n=gi(t==="dev"?"en":t),s=r.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:n,type:s});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let i;try{i=new Intl.PluralRules(n,{type:s})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),fm;if(!t.match(/-|_/))return fm;const l=this.languageUtils.getLanguagePartFromCode(t);i=this.getRule(l,r)}return this.pluralRulesCache[a]=i,i}needsPlural(t,r={}){let n=this.getRule(t,r);return n||(n=this.getRule("dev",r)),(n==null?void 0:n.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(t,r,n={}){return this.getSuffixes(t,n).map(s=>`${r}${s}`)}getSuffixes(t,r={}){let n=this.getRule(t,r);return n||(n=this.getRule("dev",r)),n?n.resolvedOptions().pluralCategories.sort((s,a)=>dm[s]-dm[a]).map(s=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${s}`):[]}getSuffix(t,r,n={}){const s=this.getRule(t,n);return s?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${s.select(r)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",r,n))}}const hm=(e,t,r,n=".",s=!0)=>{let a=Bk(e,t,r);return!a&&s&&ue(r)&&(a=wd(e,r,n),a===void 0&&(a=wd(t,r,n))),a},Fu=e=>e.replace(/\$/g,"$$$$");class Xk{constructor(t={}){var r;this.logger=yr.create("interpolator"),this.options=t,this.format=((r=t==null?void 0:t.interpolation)==null?void 0:r.format)||(n=>n),this.init(t)}init(t={}){t.interpolation||(t.interpolation={escapeValue:!0});const{escape:r,escapeValue:n,useRawValueToEscape:s,prefix:a,prefixEscaped:i,suffix:o,suffixEscaped:l,formatSeparator:c,unescapeSuffix:d,unescapePrefix:h,nestingPrefix:f,nestingPrefixEscaped:y,nestingSuffix:m,nestingSuffixEscaped:w,nestingOptionsSeparator:k,maxReplaces:g,alwaysFormat:p}=t.interpolation;this.escape=r!==void 0?r:Hk,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=a?hs(a):i||"{{",this.suffix=o?hs(o):l||"}}",this.formatSeparator=c||",",this.unescapePrefix=d?"":h||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=f?hs(f):y||hs("$t("),this.nestingSuffix=m?hs(m):w||hs(")"),this.nestingOptionsSeparator=k||",",this.maxReplaces=g||1e3,this.alwaysFormat=p!==void 0?p:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(r,n)=>(r==null?void 0:r.source)===n?(r.lastIndex=0,r):new RegExp(n,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(t,r,n,s){var y;let a,i,o;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=m=>{if(m.indexOf(this.formatSeparator)<0){const p=hm(r,l,m,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(p,void 0,n,{...s,...r,interpolationkey:m}):p}const w=m.split(this.formatSeparator),k=w.shift().trim(),g=w.join(this.formatSeparator).trim();return this.format(hm(r,l,k,this.options.keySeparator,this.options.ignoreJSONStructure),g,n,{...s,...r,interpolationkey:k})};this.resetRegExp();const d=(s==null?void 0:s.missingInterpolationHandler)||this.options.missingInterpolationHandler,h=((y=s==null?void 0:s.interpolation)==null?void 0:y.skipOnVariables)!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:m=>Fu(m)},{regex:this.regexp,safeValue:m=>this.escapeValue?Fu(this.escape(m)):Fu(m)}].forEach(m=>{for(o=0;a=m.regex.exec(t);){const w=a[1].trim();if(i=c(w),i===void 0)if(typeof d=="function"){const g=d(t,a,s);i=ue(g)?g:""}else if(s&&Object.prototype.hasOwnProperty.call(s,w))i="";else if(h){i=a[0];continue}else this.logger.warn(`missed to pass in variable ${w} for interpolating ${t}`),i="";else!ue(i)&&!this.useRawValueToEscape&&(i=nm(i));const k=m.safeValue(i);if(t=t.replace(a[0],k),h?(m.regex.lastIndex+=i.length,m.regex.lastIndex-=a[0].length):m.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),t}nest(t,r,n={}){let s,a,i;const o=(l,c)=>{const d=this.nestingOptionsSeparator;if(l.indexOf(d)<0)return l;const h=l.split(new RegExp(`${d}[ ]*{`));let f=`{${h[1]}`;l=h[0],f=this.interpolate(f,i);const y=f.match(/'/g),m=f.match(/"/g);(((y==null?void 0:y.length)??0)%2===0&&!m||m.length%2!==0)&&(f=f.replace(/'/g,'"'));try{i=JSON.parse(f),c&&(i={...c,...i})}catch(w){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,w),`${l}${d}${f}`}return i.defaultValue&&i.defaultValue.indexOf(this.prefix)>-1&&delete i.defaultValue,l};for(;s=this.nestingRegexp.exec(t);){let l=[];i={...n},i=i.replace&&!ue(i.replace)?i.replace:i,i.applyPostProcessor=!1,delete i.defaultValue;const c=/{.*}/.test(s[1])?s[1].lastIndexOf("}")+1:s[1].indexOf(this.formatSeparator);if(c!==-1&&(l=s[1].slice(c).split(this.formatSeparator).map(d=>d.trim()).filter(Boolean),s[1]=s[1].slice(0,c)),a=r(o.call(this,s[1].trim(),i),i),a&&s[0]===t&&!ue(a))return a;ue(a)||(a=nm(a)),a||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${t}`),a=""),l.length&&(a=l.reduce((d,h)=>this.format(d,h,n.lng,{...n,interpolationkey:s[1].trim()}),a.trim())),t=t.replace(s[0],a),this.regexp.lastIndex=0}return t}}const e1=e=>{let t=e.toLowerCase().trim();const r={};if(e.indexOf("(")>-1){const n=e.split("(");t=n[0].toLowerCase().trim();const s=n[1].substring(0,n[1].length-1);t==="currency"&&s.indexOf(":")<0?r.currency||(r.currency=s.trim()):t==="relativetime"&&s.indexOf(":")<0?r.range||(r.range=s.trim()):s.split(";").forEach(i=>{if(i){const[o,...l]=i.split(":"),c=l.join(":").trim().replace(/^'+|'+$/g,""),d=o.trim();r[d]||(r[d]=c),c==="false"&&(r[d]=!1),c==="true"&&(r[d]=!0),isNaN(c)||(r[d]=parseInt(c,10))}})}return{formatName:t,formatOptions:r}},pm=e=>{const t={};return(r,n,s)=>{let a=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(a={...a,[s.interpolationkey]:void 0});const i=n+JSON.stringify(a);let o=t[i];return o||(o=e(gi(n),s),t[i]=o),o(r)}},t1=e=>(t,r,n)=>e(gi(r),n)(t);class r1{constructor(t={}){this.logger=yr.create("formatter"),this.options=t,this.init(t)}init(t,r={interpolation:{}}){this.formatSeparator=r.interpolation.formatSeparator||",";const n=r.cacheInBuiltFormats?pm:t1;this.formats={number:n((s,a)=>{const i=new Intl.NumberFormat(s,{...a});return o=>i.format(o)}),currency:n((s,a)=>{const i=new Intl.NumberFormat(s,{...a,style:"currency"});return o=>i.format(o)}),datetime:n((s,a)=>{const i=new Intl.DateTimeFormat(s,{...a});return o=>i.format(o)}),relativetime:n((s,a)=>{const i=new Intl.RelativeTimeFormat(s,{...a});return o=>i.format(o,a.range||"day")}),list:n((s,a)=>{const i=new Intl.ListFormat(s,{...a});return o=>i.format(o)})}}add(t,r){this.formats[t.toLowerCase().trim()]=r}addCached(t,r){this.formats[t.toLowerCase().trim()]=pm(r)}format(t,r,n,s={}){const a=r.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(o=>o.indexOf(")")>-1)){const o=a.findIndex(l=>l.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,o)].join(this.formatSeparator)}return a.reduce((o,l)=>{var h;const{formatName:c,formatOptions:d}=e1(l);if(this.formats[c]){let f=o;try{const y=((h=s==null?void 0:s.formatParams)==null?void 0:h[s.interpolationkey])||{},m=y.locale||y.lng||s.locale||s.lng||n;f=this.formats[c](o,m,{...d,...s,...y})}catch(y){this.logger.warn(y)}return f}else this.logger.warn(`there was no format function for ${c}`);return o},t)}}const n1=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class s1 extends Fl{constructor(t,r,n,s={}){var a,i;super(),this.backend=t,this.store=r,this.services=n,this.languageUtils=n.languageUtils,this.options=s,this.logger=yr.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],(i=(a=this.backend)==null?void 0:a.init)==null||i.call(a,n,s.backend,s)}queueLoad(t,r,n,s){const a={},i={},o={},l={};return t.forEach(c=>{let d=!0;r.forEach(h=>{const f=`${c}|${h}`;!n.reload&&this.store.hasResourceBundle(c,h)?this.state[f]=2:this.state[f]<0||(this.state[f]===1?i[f]===void 0&&(i[f]=!0):(this.state[f]=1,d=!1,i[f]===void 0&&(i[f]=!0),a[f]===void 0&&(a[f]=!0),l[h]===void 0&&(l[h]=!0)))}),d||(o[c]=!0)}),(Object.keys(a).length||Object.keys(i).length)&&this.queue.push({pending:i,pendingCount:Object.keys(i).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(a),pending:Object.keys(i),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(l)}}loaded(t,r,n){const s=t.split("|"),a=s[0],i=s[1];r&&this.emit("failedLoading",a,i,r),!r&&n&&this.store.addResourceBundle(a,i,n,void 0,void 0,{skipCopy:!0}),this.state[t]=r?-1:2,r&&n&&(this.state[t]=0);const o={};this.queue.forEach(l=>{zk(l.loaded,[a],i),n1(l,t),r&&l.errors.push(r),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(c=>{o[c]||(o[c]={});const d=l.loaded[c];d.length&&d.forEach(h=>{o[c][h]===void 0&&(o[c][h]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(l=>!l.done)}read(t,r,n,s=0,a=this.retryTimeout,i){if(!t.length)return i(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:r,fcName:n,tried:s,wait:a,callback:i});return}this.readingCalls++;const o=(c,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(c&&d&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,t,r,n,s+1,a*2,i)},a);return}i(c,d)},l=this.backend[n].bind(this.backend);if(l.length===2){try{const c=l(t,r);c&&typeof c.then=="function"?c.then(d=>o(null,d)).catch(o):o(null,c)}catch(c){o(c)}return}return l(t,r,o)}prepareLoading(t,r,n={},s){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();ue(t)&&(t=this.languageUtils.toResolveHierarchy(t)),ue(r)&&(r=[r]);const a=this.queueLoad(t,r,n,s);if(!a.toLoad.length)return a.pending.length||s(),null;a.toLoad.forEach(i=>{this.loadOne(i)})}load(t,r,n){this.prepareLoading(t,r,{},n)}reload(t,r,n){this.prepareLoading(t,r,{reload:!0},n)}loadOne(t,r=""){const n=t.split("|"),s=n[0],a=n[1];this.read(s,a,"read",void 0,void 0,(i,o)=>{i&&this.logger.warn(`${r}loading namespace ${a} for language ${s} failed`,i),!i&&o&&this.logger.log(`${r}loaded namespace ${a} for language ${s}`,o),this.loaded(t,i,o)})}saveMissing(t,r,n,s,a,i={},o=()=>{}){var l,c,d,h,f;if((c=(l=this.services)==null?void 0:l.utils)!=null&&c.hasLoadedNamespace&&!((h=(d=this.services)==null?void 0:d.utils)!=null&&h.hasLoadedNamespace(r))){this.logger.warn(`did not save key "${n}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if((f=this.backend)!=null&&f.create){const y={...i,isUpdate:a},m=this.backend.create.bind(this.backend);if(m.length<6)try{let w;m.length===5?w=m(t,r,n,s,y):w=m(t,r,n,s),w&&typeof w.then=="function"?w.then(k=>o(null,k)).catch(o):o(null,w)}catch(w){o(w)}else m(t,r,n,s,o,y)}!t||!t[0]||this.store.addResource(t[0],r,n,s)}}}const mm=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),ue(e[1])&&(t.defaultValue=e[1]),ue(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const r=e[3]||e[2];Object.keys(r).forEach(n=>{t[n]=r[n]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),gm=e=>{var t,r;return ue(e.ns)&&(e.ns=[e.ns]),ue(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),ue(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),((r=(t=e.supportedLngs)==null?void 0:t.indexOf)==null?void 0:r.call(t,"cimode"))<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e},to=()=>{},a1=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(r=>{typeof e[r]=="function"&&(e[r]=e[r].bind(e))})};class yi extends Fl{constructor(t={},r){if(super(),this.options=gm(t),this.services={},this.logger=yr,this.modules={external:[]},a1(this),r&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,r),this;setTimeout(()=>{this.init(t,r)},0)}}init(t={},r){this.isInitializing=!0,typeof t=="function"&&(r=t,t={}),t.defaultNS==null&&t.ns&&(ue(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const n=mm();this.options={...n,...this.options,...gm(t)},this.options.interpolation={...n.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const s=c=>c?typeof c=="function"?new c:c:null;if(!this.options.isClone){this.modules.logger?yr.init(s(this.modules.logger),this.options):yr.init(null,this.options);let c;this.modules.formatter?c=this.modules.formatter:c=r1;const d=new cm(this.options);this.store=new om(this.options.resources,this.options);const h=this.services;h.logger=yr,h.resourceStore=this.store,h.languageUtils=d,h.pluralResolver=new Jk(d,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==n.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),c&&(!this.options.interpolation.format||this.options.interpolation.format===n.interpolation.format)&&(h.formatter=s(c),h.formatter.init&&h.formatter.init(h,this.options),this.options.interpolation.format=h.formatter.format.bind(h.formatter)),h.interpolator=new Xk(this.options),h.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},h.backendConnector=new s1(s(this.modules.backend),h.resourceStore,h,this.options),h.backendConnector.on("*",(y,...m)=>{this.emit(y,...m)}),this.modules.languageDetector&&(h.languageDetector=s(this.modules.languageDetector),h.languageDetector.init&&h.languageDetector.init(h,this.options.detection,this.options)),this.modules.i18nFormat&&(h.i18nFormat=s(this.modules.i18nFormat),h.i18nFormat.init&&h.i18nFormat.init(this)),this.translator=new yl(this.services,this.options),this.translator.on("*",(y,...m)=>{this.emit(y,...m)}),this.modules.external.forEach(y=>{y.init&&y.init(this)})}if(this.format=this.options.interpolation.format,r||(r=to),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&c[0]!=="dev"&&(this.options.lng=c[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(c=>{this[c]=(...d)=>this.store[c](...d)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(c=>{this[c]=(...d)=>(this.store[c](...d),this)});const o=va(),l=()=>{const c=(d,h)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),o.resolve(h),r(d,h)};if(this.languages&&!this.isInitialized)return c(null,this.t.bind(this));this.changeLanguage(this.options.lng,c)};return this.options.resources||!this.options.initAsync?l():setTimeout(l,0),o}loadResources(t,r=to){var a,i;let n=r;const s=ue(t)?t:this.language;if(typeof t=="function"&&(n=t),!this.options.resources||this.options.partialBundledLanguages){if((s==null?void 0:s.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const o=[],l=c=>{if(!c||c==="cimode")return;this.services.languageUtils.toResolveHierarchy(c).forEach(h=>{h!=="cimode"&&o.indexOf(h)<0&&o.push(h)})};s?l(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(d=>l(d)),(i=(a=this.options.preload)==null?void 0:a.forEach)==null||i.call(a,c=>l(c)),this.services.backendConnector.load(o,this.options.ns,c=>{!c&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(c)})}else n(null)}reloadResources(t,r,n){const s=va();return typeof t=="function"&&(n=t,t=void 0),typeof r=="function"&&(n=r,r=void 0),t||(t=this.languages),r||(r=this.options.ns),n||(n=to),this.services.backendConnector.reload(t,r,a=>{s.resolve(),n(a)}),s}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&Zv.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1)){for(let r=0;r<this.languages.length;r++){const n=this.languages[r];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}!this.resolvedLanguage&&this.languages.indexOf(t)<0&&this.store.hasLanguageSomeTranslations(t)&&(this.resolvedLanguage=t,this.languages.unshift(t))}}changeLanguage(t,r){this.isLanguageChangingTo=t;const n=va();this.emit("languageChanging",t);const s=o=>{this.language=o,this.languages=this.services.languageUtils.toResolveHierarchy(o),this.resolvedLanguage=void 0,this.setResolvedLanguage(o)},a=(o,l)=>{l?this.isLanguageChangingTo===t&&(s(l),this.translator.changeLanguage(l),this.isLanguageChangingTo=void 0,this.emit("languageChanged",l),this.logger.log("languageChanged",l)):this.isLanguageChangingTo=void 0,n.resolve((...c)=>this.t(...c)),r&&r(o,(...c)=>this.t(...c))},i=o=>{var d,h;!t&&!o&&this.services.languageDetector&&(o=[]);const l=ue(o)?o:o&&o[0],c=this.store.hasLanguageSomeTranslations(l)?l:this.services.languageUtils.getBestMatchFromCodes(ue(o)?[o]:o);c&&(this.language||s(c),this.translator.language||this.translator.changeLanguage(c),(h=(d=this.services.languageDetector)==null?void 0:d.cacheUserLanguage)==null||h.call(d,c)),this.loadResources(c,f=>{a(f,c)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?i(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(i):this.services.languageDetector.detect(i):i(t),n}getFixedT(t,r,n){const s=(a,i,...o)=>{let l;typeof i!="object"?l=this.options.overloadTranslationOptionHandler([a,i].concat(o)):l={...i},l.lng=l.lng||s.lng,l.lngs=l.lngs||s.lngs,l.ns=l.ns||s.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||n||s.keyPrefix);const c=this.options.keySeparator||".";let d;return l.keyPrefix&&Array.isArray(a)?d=a.map(h=>(typeof h=="function"&&(h=bd(h,{...this.options,...i})),`${l.keyPrefix}${c}${h}`)):(typeof a=="function"&&(a=bd(a,{...this.options,...i})),d=l.keyPrefix?`${l.keyPrefix}${c}${a}`:a),this.t(d,l)};return ue(t)?s.lng=t:s.lngs=t,s.ns=r,s.keyPrefix=n,s}t(...t){var r;return(r=this.translator)==null?void 0:r.translate(...t)}exists(...t){var r;return(r=this.translator)==null?void 0:r.exists(...t)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t,r={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=r.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const i=(o,l)=>{const c=this.services.backendConnector.state[`${o}|${l}`];return c===-1||c===0||c===2};if(r.precheck){const o=r.precheck(this,i);if(o!==void 0)return o}return!!(this.hasResourceBundle(n,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||i(n,t)&&(!s||i(a,t)))}loadNamespaces(t,r){const n=va();return this.options.ns?(ue(t)&&(t=[t]),t.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{n.resolve(),r&&r(s)}),n):(r&&r(),Promise.resolve())}loadLanguages(t,r){const n=va();ue(t)&&(t=[t]);const s=this.options.preload||[],a=t.filter(i=>s.indexOf(i)<0&&this.services.languageUtils.isSupportedCode(i));return a.length?(this.options.preload=s.concat(a),this.loadResources(i=>{n.resolve(),r&&r(i)}),n):(r&&r(),Promise.resolve())}dir(t){var s,a;if(t||(t=this.resolvedLanguage||(((s=this.languages)==null?void 0:s.length)>0?this.languages[0]:this.language)),!t)return"rtl";try{const i=new Intl.Locale(t);if(i&&i.getTextInfo){const o=i.getTextInfo();if(o&&o.direction)return o.direction}}catch{}const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=((a=this.services)==null?void 0:a.languageUtils)||new cm(mm());return t.toLowerCase().indexOf("-latn")>1?"ltr":r.indexOf(n.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(t={},r){return new yi(t,r)}cloneInstance(t={},r=to){const n=t.forkResourceStore;n&&delete t.forkResourceStore;const s={...this.options,...t,isClone:!0},a=new yi(s);if((t.debug!==void 0||t.prefix!==void 0)&&(a.logger=a.logger.clone(t)),["store","services","language"].forEach(o=>{a[o]=this[o]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},n){const o=Object.keys(this.store.data).reduce((l,c)=>(l[c]={...this.store.data[c]},l[c]=Object.keys(l[c]).reduce((d,h)=>(d[h]={...l[c][h]},d),l[c]),l),{});a.store=new om(o,s),a.services.resourceStore=a.store}return a.translator=new yl(a.services,s),a.translator.on("*",(o,...l)=>{a.emit(o,...l)}),a.init(s,r),a.translator.options=s,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const it=yi.createInstance();it.createInstance=yi.createInstance;it.createInstance;it.dir;it.init;it.loadResources;it.reloadResources;it.use;it.changeLanguage;it.getFixedT;it.t;it.exists;it.setDefaultNamespace;it.hasLoadedNamespace;it.loadNamespaces;it.loadLanguages;const i1={title:"Home",today:"Today is {{date}}",exampleNumber:"Example number: {{value}}"},o1={title:"About"},l1={home:"Home",about:"About",settings:"Settings",profile:"Profile",logout:"Logout",dashboard:"Dashboard"},u1={cancel:"Cancel",confirm:"Confirm",delete:"Delete",save:"Save",yes:"Yes",no:"No",ok:"OK",continue:"Continue",areYouSure:"Are you sure?"},c1={title:"Monthly export",enable:"Enable",disable:"Disable",nextRun:"Next run:",lastRun:"Last run:",frequency:"Frequency",daily:"Daily",weekly:"Weekly",monthly:"Monthly",time:"Time",runNow:"Run now"},d1={territories:"Territories",streets:"Streets",buildingsVillages:"Buildings & Villages",letters:"Letters",exits:"Exits",assignments:"Assignments",calendar:"Calendar",suggestions:"Suggestions",notAtHome:"Not at Home",dashboard:"Dashboard",reports:"Reports",maps:"Maps",users:"Users",settings:"Settings",notifications:"Notifications"},f1={title:"Not at Home",todayAssignments:"Territories assigned for today ({{count}})",noAssignments:"No territories assigned for today.",miniMapAlt:"{{name}} territory mini map",noImage:"No image available",addressesTitle:"Addresses",noAddresses:"No addresses registered for this territory.",table:{street:"Street",numbers:"Numbers",type:"Type",actions:"Actions"},residential:"Residential",commercial:"Commercial",other:"Other",recordNotAtHome:"Record not at home",streetAddresses:"{{count}} address",streetAddresses_plural:"{{count}} addresses",confirmConversation:"Confirm conversation",conversationConfirmedLabel:"Conversation confirmed",scheduledFor:"Return scheduled for {{date}}",followUpsTitle:"Scheduled returns ({{count}})",noFollowUps:"No pending returns.",followUpOn:"Return on {{date}}",recordedOn:"Recorded on {{date}}",markCompleted:"Mark as completed",unknownStreet:"Unknown street",unknownType:"Unknown type",addressLabel:"{{street}}  no. {{range}}"},h1={title:"Buildings and Villages",subtitle:"Register, filter, and organize information about buildings, villages, and condominiums in the territory.",newRecord:"New record",filters:{search:"Search",searchPlaceholder:"Name, responsible person, or address",territory:"Territory",type:"Type",modality:"Modality",allModalities:"All"},records:{title:"Records",count:"{{count}} record found",count_plural:"{{count}} records found",loading:"Loading records...",empty:"No records found with the applied filters.",noName:"No name",noTerritory:"Territory not informed"},fields:{territory:"Territory",name:"Name",address:"Address",number:"Number",type:"Type",modality:"Modality",reception:"Reception type",residences:"Number of residences",responsible:"Responsible person",contactMethod:"Contact method",letterStatus:"Letter status",letterHistory:"Correspondence history",assignedAt:"Assigned on",returnedAt:"Returned on",block:"Block",notes:"Notes"},placeholders:{territory:"Select a territory",name:"Building or village identification",address:"Street, avenue, or reference",number:"Property number",type:"Building, village, condominium...",modality:"Condominium, gated community...",reception:"Reception desk, intercom...",responsible:"Name of the superintendent, doorman...",contactMethod:"Phone, email, concierge...",block:"Block identification",notes:"Relevant details, schedules, access instructions..."},letterStatus:{notSent:"No letter sent",inProgress:"Correspondence in progress",sent:"Letter sent",responded:"Response received",unknown:"Status unknown"},letterHistory:{add:"Add entry",empty:"No correspondence recorded yet.",sentAt:"Sent on",status:"Status",remove:"Remove",notes:"Notes",notesPlaceholder:"Summary, follow-up, reply details..."},modal:{editTitle:"Edit record",createTitle:"New record",descriptionEdit:"Fill in the fields below to update the building or village.",descriptionCreate:"Fill in the fields below to register the building or village."},validation:{selectTerritory:"Select a territory",nameRequired:"Enter the building or village name",invalidNumber:"Enter a valid number"},feedback:{loadError:"Could not load the data",deleteSuccess:"Record removed successfully",deleteError:"Could not remove the record",updateSuccess:"Record updated successfully",createSuccess:"Record created successfully",saveError:"Could not save the record"},confirmDelete:"Do you really want to remove this record?"},p1={title:"Letters",subtitle:"Review correspondence sent and responses grouped by responsible person.",summary:"Responsibles tracked: {{responsibles}}  Letters recorded: {{letters}}",loading:"Loading correspondence...",empty:"No correspondence has been recorded yet.",feedback:{loadError:"Failed to load correspondence data"},groupSummary:"Letters recorded: {{letters}}  Properties: {{buildings}}",contactMethods:"Contact methods: {{methods}}",contactMethod:"Preferred contact",history:"History",noHistory:"No letters recorded for this property.",unnamedBuilding:"Unnamed building/village",unknownTerritory:"Territory unknown"},m1={tabs:{streets:"Streets",addresses:"Addresses",propertyTypes:"Property types",summary:"Summary"},territorySelector:{label:"Territory",placeholder:"Select a territory"},streetsForm:{streetNamePlaceholder:"Street name"},streetsTable:{name:"Name"},addressesForm:{selectStreet:"Select a street",selectType:"Type",numberStart:"Start",numberEnd:"End"},addressesTable:{street:"Street",start:"Start",end:"End",type:"Type",lastVisit:"Last successful visit",nextVisit:"Next visit allowed",actions:"Actions",markVisit:"Mark successful visit",neverVisited:"Never visited",cooldownNotScheduled:"No cooldown scheduled",cooldownActive:"This address is locked until {{date}}.",cooldownTooltip:"Next visit allowed on {{date}}",cooldownAlert:"{{count}} address cannot be revisited until its cooldown expires.",cooldownAlert_plural:"{{count}} addresses cannot be revisited until their cooldowns expire."},propertyTypesForm:{namePlaceholder:"Property type name"},propertyTypesTable:{name:"Name",actions:"Actions",empty:"No property types registered."},feedback:{loadError:"Unable to load territories or property types.",createSuccess:"Property type created successfully.",updateSuccess:"Property type updated successfully.",deleteSuccess:"Property type removed successfully.",saveError:"Unable to save the property type.",deleteError:"Unable to delete the property type."},summary:{totalStreets:"Total streets: {{count}}",totalAddresses:"Total addresses: {{count}}",totalPropertyTypes:"Total property types: {{count}}"}},g1={ativo:"Active",devolvido:"Returned",atrasado:"Late",pendente:"Pending",emAndamento:"In progress",inativo:"Inactive",arquivado:"Archived"},y1={newExit:"Create field exit",name:"Name",namePlaceholder:"E.g.: Saturday Morning Group",weekday:"Weekday",time:"Time",save:"Save exit",exitsWithCount:"Field exits ({{count}})",noExits:"No exits registered.",confirmDelete:"Delete exit?",delete:"Delete"},v1={pageTitle:"User management",form:{createTitle:"New user",editTitle:"Edit user",name:"Name",email:"Email",role:"Role",password:"Password",passwordPlaceholder:"Set a secure password",passwordConfirmation:"Confirm password",passwordConfirmationPlaceholder:"Repeat the password",passwordHint:"Fill both fields to set or update the password. Leave them blank to keep the current one.",passwordRequired:"Please provide a password.",passwordMismatch:"Passwords do not match.",namePlaceholder:"Full name",emailPlaceholder:"name@example.com",save:"Save user",update:"Update user",cancel:"Cancel edit"},listTitle:"Registered users ({{count}})",empty:"No users registered.",noEmail:"No email provided",actions:{edit:"Edit",delete:"Delete"},confirmDelete:"Are you sure you want to remove {{name}}?",toast:{createSuccess:"User saved",updateSuccess:"User updated",deleteSuccess:"User removed",saveError:"Unable to save the user."},roles:{admin_master:"Admin master",admin:"Administrator",manager:"Manager",publisher:"Publisher",viewer:"Viewer"}},x1={createTerritory:"Create Territory",editTerritory:"Edit Territory",name:"Name",namePlaceholder:"E.g.: Territory 12  Downtown",optionalImage:"Image (optional)",saveTerritory:"Save Territory",territoriesWithCount:"Territories ({{count}})",searchPlaceholder:"Search...",withImage:"With image",noTerritories:"No territories registered.",image:"Image",noImagePlaceholder:"",confirmDelete:"Delete territory?",pageInfo:"Page {{page}} of {{pageCount}}",validation:{nameRequired:"Name is required"}},w1={selectExit:"Select an exit",noAvailableTerritories:"No territories available",selectTerritoryAndExit:"Select territory and exit",newAssignment:"New Assignment",territory:"Territory",selectPlaceholder:"Select",exit:"Exit",assignmentDate:"Assignment date",returnDate:"Return date",generateSuggestion:"Generate suggestion",save:"Save",assignmentsWithCount:"Assignments ({{count}})",noAssignments:"No assignments.",status:"Status",reactivate:"Reactivate",markAsReturned:"Mark as returned",confirmDelete:"Delete assignment?",delete:"Delete"},b1={cards:{rules:"Suggestion Rules",generated:"Generated Suggestions"},actions:{saveDefaults:"Save defaults",generate:"Generate Suggestions",applyAll:"Apply All",viewTour:"View tour"},labels:{startDate:"Start date",duration:"Duration (days)",avoidCount:"Avoid repetition (last N)",monthsPerExit:"Repeat per exit (months)",recentWeight:"Recency weight",balanceWeight:"Exit load weight"},tooltips:{startDate:"Starting date to generate suggestions",duration:"Default assignment duration in days",avoidCount:"Number of recent assignments to avoid repeating",monthsPerExit:"Minimum months before repeating the same territory in the same exit",recentWeight:"Higher values penalize recently used territories",balanceWeight:"Higher values balance exit workload"},messages:{waiting:"Waiting for generation",empty:"No suggestions (check territories and exits)."},table:{exit:"Exit",territory:"Territory",start:"Assignment",end:"Return"},toast:{nothingToApply:"Nothing to apply",applied:"Suggestions applied"},tour:{progress:"Step {{current}} of {{total}}",finish:"Finish tour"},reasons:{exitLoad:"Exit load {{value}}%",recent:"Recent {{value}}%",neverUsed:"Never used"}},_1={warningDays:"Alert (days)",overdue:"Overdue",dueIn:"D-{{diff}}",noAssignments:"No assignments."},S1={title:"Reports"},k1={updateAvailable:"New version available. Update?",loading:"Loading...",saving:"Saving...",error:"Something went wrong",success:"Completed successfully",retry:"Retry",close:"Close",copy:"Copy",copied:"Copied to clipboard",noData:"No data available",search:"Search",exportSuccess:"Export file generated",exportError:"Unable to export data",importSuccess:"Data imported successfully",importError:"Unable to import data",clearConfirm:"Clear ALL data?",clearSuccess:"Data cleared",clearError:"Unable to clear data",theme:{light:"Light",dark:"Dark"}},N1={signIn:"Sign in",signOut:"Sign out",email:"Email",password:"Password",forgotPassword:"Forgot your password?",rememberMe:"Remember me"},E1={english:"English",portuguese:"Portuguese",spanish:"Spanish"},C1={save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",create:"Create",view:"View",update:"Update",back:"Back",next:"Next",previous:"Previous",yes:"Yes",no:"No"},j1={filters:"Filters",apply:"Apply",clear:"Clear",reset:"Reset",from:"From",to:"To",all:"All",status:"Status"},T1={actions:"Actions",rowsPerPage:"Rows per page",of:"of",empty:"No records found"},A1={next:"Next",previous:"Previous",first:"First",last:"Last",page:"Page",of:"of"},I1={today:"Today",yesterday:"Yesterday",tomorrow:"Tomorrow"},P1={required:"This field is required",invalidEmail:"Enter a valid email",minLength:"Minimum length is {{min}}",maxLength:"Maximum length is {{max}}"},D1={home:i1,about:o1,navbar:l1,confirm:u1,scheduler:c1,sidebar:d1,naoEmCasa:f1,buildingsVillages:h1,letters:p1,ruasNumeracoes:m1,status:g1,exits:y1,users:v1,territories:x1,assignments:w1,suggestions:b1,calendar:_1,reports:S1,app:k1,auth:N1,language:E1,common:C1,filters:j1,table:T1,pagination:A1,dates:I1,validation:P1},R1={title:"Inicio",today:"Hoy es {{date}}",exampleNumber:"Nmero de ejemplo: {{value}}"},O1={title:"Acerca de"},L1={home:"Inicio",about:"Acerca de",settings:"Configuracin",profile:"Perfil",logout:"Cerrar sesin",dashboard:"Panel"},M1={cancel:"Cancelar",confirm:"Confirmar",delete:"Eliminar",save:"Guardar",yes:"S",no:"No",ok:"Aceptar",continue:"Continuar",areYouSure:"Est seguro?"},V1={title:"Exportacin mensual",enable:"Activar",disable:"Desactivar",nextRun:"Prxima ejecucin:",lastRun:"ltima ejecucin:",frequency:"Frecuencia",daily:"Diaria",weekly:"Semanal",monthly:"Mensual",time:"Hora",runNow:"Ejecutar ahora"},F1={territories:"Territorios",streets:"Calles",buildingsVillages:"Edificios y Villas",letters:"Correspondencia",exits:"Salidas",assignments:"Asignaciones",calendar:"Calendario",suggestions:"Sugerencias",notAtHome:"No en Casa",dashboard:"Panel",reports:"Informes",maps:"Mapas",users:"Usuarios",settings:"Configuracin",notifications:"Notificaciones"},$1={title:"No en Casa",todayAssignments:"Territorios asignados para hoy ({{count}})",noAssignments:"No hay territorios asignados para hoy.",miniMapAlt:"Mapa del territorio {{name}}",noImage:"Sin imagen disponible",addressesTitle:"Direcciones",noAddresses:"No hay direcciones registradas para este territorio.",table:{street:"Calle",numbers:"Nmeros",type:"Tipo",actions:"Acciones"},residential:"Residencial",commercial:"Comercial",other:"Otros",recordNotAtHome:"Registrar ausencia",streetAddresses:"{{count}} direccin",streetAddresses_plural:"{{count}} direcciones",confirmConversation:"Confirmar conversacin",conversationConfirmedLabel:"Conversacin confirmada",scheduledFor:"Visita programada para {{date}}",followUpsTitle:"Visitas programadas ({{count}})",noFollowUps:"No hay visitas pendientes.",followUpOn:"Visitar el {{date}}",recordedOn:"Registrado el {{date}}",markCompleted:"Marcar como completado",unknownStreet:"Calle desconocida",unknownType:"Tipo desconocido",addressLabel:"{{street}}  n. {{range}}"},U1={title:"Edificios y Villas",subtitle:"Registra, filtra y organiza informacin sobre edificios, villas y condominios del territorio.",newRecord:"Nuevo registro",filters:{search:"Buscar",searchPlaceholder:"Nombre, responsable o direccin",territory:"Territorio",type:"Tipo",modality:"Modalidad",allModalities:"Todas"},records:{title:"Registros",count:"{{count}} registro encontrado",count_plural:"{{count}} registros encontrados",loading:"Cargando registros...",empty:"Ningn registro encontrado con los filtros aplicados.",noName:"Sin nombre",noTerritory:"Territorio no informado"},fields:{territory:"Territorio",name:"Nombre",address:"Direccin",number:"Nmero",type:"Tipo",modality:"Modalidad",reception:"Tipo de recepcin",residences:"Cantidad de residencias",responsible:"Responsable",contactMethod:"Mtodo de contacto",letterStatus:"Estado de la correspondencia",letterHistory:"Historial de correspondencia",assignedAt:"Asignado el",returnedAt:"Devuelto el",block:"Bloque",notes:"Observaciones"},placeholders:{territory:"Seleccione un territorio",name:"Identificacin del edificio o villa",address:"Calle, avenida o referencia",number:"Nmero de la propiedad",type:"Edificio, villa, condominio...",modality:"Condominio, villa cerrada...",reception:"Portera, intercomunicador...",responsible:"Nombre del sndico, portero...",contactMethod:"Telfono, correo, portera...",block:"Identificacin del bloque",notes:"Detalles relevantes, horarios, instrucciones de acceso..."},letterStatus:{notSent:"Ninguna carta enviada",inProgress:"Correspondencia en curso",sent:"Carta enviada",responded:"Respuesta recibida",unknown:"Estado desconocido"},letterHistory:{add:"Agregar registro",empty:"No se ha registrado correspondencia.",sentAt:"Fecha de envo",status:"Estado",remove:"Eliminar",notes:"Notas",notesPlaceholder:"Resumen, respuesta, detalles de seguimiento..."},modal:{editTitle:"Editar registro",createTitle:"Nuevo registro",descriptionEdit:"Complete los campos abajo para actualizar el edificio o villa.",descriptionCreate:"Complete los campos abajo para registrar el edificio o villa."},validation:{selectTerritory:"Seleccione un territorio",nameRequired:"Ingrese el nombre del edificio o villa",invalidNumber:"Ingrese un nmero vlido"},feedback:{loadError:"No se pudieron cargar los datos",deleteSuccess:"Registro eliminado con xito",deleteError:"No se pudo eliminar el registro",updateSuccess:"Registro actualizado con xito",createSuccess:"Registro creado con xito",saveError:"No se pudo guardar el registro"},confirmDelete:"Desea realmente eliminar este registro?"},z1={title:"Correspondencia",subtitle:"Revisa cartas enviadas y respuestas agrupadas por responsable.",summary:"Responsables registrados: {{responsibles}}  Cartas registradas: {{letters}}",loading:"Cargando correspondencia...",empty:"An no se ha registrado correspondencia.",feedback:{loadError:"No se pudo cargar la correspondencia"},groupSummary:"Cartas registradas: {{letters}}  Propiedades: {{buildings}}",contactMethods:"Mtodos de contacto: {{methods}}",contactMethod:"Contacto preferido",history:"Historial",noHistory:"No hay cartas registradas para esta propiedad.",unnamedBuilding:"Edificio/Villa sin nombre",unknownTerritory:"Territorio desconocido"},B1={tabs:{streets:"Calles",addresses:"Direcciones",propertyTypes:"Tipos",summary:"Resumen"},territorySelector:{label:"Territorio",placeholder:"Selecciona un territorio"},streetsForm:{streetNamePlaceholder:"Nombre de la calle"},streetsTable:{name:"Nombre"},addressesForm:{selectStreet:"Selecciona una calle",selectType:"Tipo",numberStart:"Inicio",numberEnd:"Fin"},addressesTable:{street:"Calle",start:"Inicio",end:"Fin",type:"Tipo",lastVisit:"ltima visita exitosa",nextVisit:"Prxima visita permitida",actions:"Acciones",markVisit:"Marcar visita exitosa",neverVisited:"Nunca visitado",cooldownNotScheduled:"Sin bloqueo activo",cooldownActive:"Esta direccin est bloqueada hasta {{date}}.",cooldownTooltip:"Prxima visita permitida el {{date}}",cooldownAlert:"{{count}} direccin est bloqueada hasta que termine el periodo de espera.",cooldownAlert_plural:"{{count}} direcciones estn bloqueadas hasta que termine el periodo de espera."},propertyTypesForm:{namePlaceholder:"Nombre del tipo de propiedad"},propertyTypesTable:{name:"Nombre",actions:"Acciones",empty:"Ningn tipo registrado."},feedback:{loadError:"No se pudieron cargar los territorios o los tipos de propiedad.",createSuccess:"Tipo de propiedad creado correctamente.",updateSuccess:"Tipo de propiedad actualizado correctamente.",deleteSuccess:"Tipo de propiedad eliminado correctamente.",saveError:"No se pudo guardar el tipo de propiedad.",deleteError:"No se pudo eliminar el tipo de propiedad."},summary:{totalStreets:"Total de calles: {{count}}",totalAddresses:"Total de direcciones: {{count}}",totalPropertyTypes:"Total de tipos de propiedad: {{count}}"}},K1={ativo:"Activo",devolvido:"Devuelto",atrasado:"Atrasado",pendente:"Pendiente",emAndamento:"En curso",inativo:"Inactivo",arquivado:"Archivado"},H1={newExit:"Registrar salida de campo",name:"Nombre",namePlaceholder:"Ej.: Grupo Sbado Maana",weekday:"Da de la semana",time:"Horario",save:"Guardar salida",exitsWithCount:"Salidas ({{count}})",noExits:"Ninguna salida registrada.",confirmDelete:"Eliminar salida?",delete:"Eliminar"},W1={pageTitle:"Gestin de usuarios",form:{createTitle:"Nuevo usuario",editTitle:"Editar usuario",name:"Nombre",email:"Correo electrnico",role:"Rol",password:"Contrasea",passwordPlaceholder:"Define una contrasea segura",passwordConfirmation:"Confirmar contrasea",passwordConfirmationPlaceholder:"Repite la contrasea",passwordHint:"Completa ambos campos para definir o actualizar la contrasea. Djalos en blanco para mantener la actual.",passwordRequired:"Ingresa una contrasea.",passwordMismatch:"Las contraseas no coinciden.",namePlaceholder:"Nombre completo",emailPlaceholder:"nombre@ejemplo.com",save:"Guardar usuario",update:"Actualizar usuario",cancel:"Cancelar edicin"},listTitle:"Usuarios registrados ({{count}})",empty:"No hay usuarios registrados.",noEmail:"Sin correo electrnico",actions:{edit:"Editar",delete:"Eliminar"},confirmDelete:"Desea eliminar a {{name}}?",toast:{createSuccess:"Usuario guardado",updateSuccess:"Usuario actualizado",deleteSuccess:"Usuario eliminado",saveError:"No se pudo guardar el usuario."},roles:{admin_master:"Administrador maestro",admin:"Administrador",manager:"Gestor",publisher:"Publicador",viewer:"Lector"}},Z1={createTerritory:"Registrar territorio",editTerritory:"Editar territorio",name:"Nombre",namePlaceholder:"Ej.: Territorio 12  Centro",optionalImage:"Imagen (opcional)",saveTerritory:"Guardar territorio",territoriesWithCount:"Territorios ({{count}})",searchPlaceholder:"Buscar...",withImage:"Con imagen",noTerritories:"Ningn territorio registrado.",image:"Imagen",noImagePlaceholder:"",confirmDelete:"Eliminar territorio?",pageInfo:"Pgina {{page}} de {{pageCount}}",validation:{nameRequired:"Nombre obligatorio"}},q1={selectExit:"Seleccione una salida",noAvailableTerritories:"No hay territorios disponibles",selectTerritoryAndExit:"Seleccione territorio y salida",newAssignment:"Nueva Asignacin",territory:"Territorio",selectPlaceholder:"Seleccione",exit:"Salida",assignmentDate:"Fecha de asignacin",returnDate:"Fecha de devolucin",generateSuggestion:"Generar sugerencia",save:"Guardar",assignmentsWithCount:"Asignaciones ({{count}})",noAssignments:"Sin asignaciones.",status:"Estado",reactivate:"Reactivar",markAsReturned:"Marcar como devuelto",confirmDelete:"Eliminar asignacin?",delete:"Eliminar"},Q1={cards:{rules:"Reglas de sugerencias",generated:"Sugerencias generadas"},actions:{saveDefaults:"Guardar valores predeterminados",generate:"Generar sugerencias",applyAll:"Aplicar todo",viewTour:"Ver tour"},labels:{startDate:"Fecha inicial",duration:"Duracin (das)",avoidCount:"Evitar repeticin (ltimas N)",monthsPerExit:"Repeticin por salida (meses)",recentWeight:"Peso de recencia",balanceWeight:"Peso de carga por salida"},tooltips:{startDate:"Fecha inicial para generar las sugerencias",duration:"Duracin predeterminada de las asignaciones en das",avoidCount:"Cantidad de asignaciones recientes a evitar repetir",monthsPerExit:"Tiempo mnimo en meses antes de repetir el mismo territorio en la misma salida",recentWeight:"Los valores mayores penalizan a los territorios usados recientemente",balanceWeight:"Los valores mayores equilibran la carga entre salidas"},messages:{waiting:"Esperando la generacin",empty:"Sin sugerencias (verifique los territorios y salidas)."},table:{exit:"Salida",territory:"Territorio",start:"Asignacin",end:"Devolucin"},toast:{nothingToApply:"Nada que aplicar",applied:"Sugerencias aplicadas"},tour:{progress:"Paso {{current}} de {{total}}",finish:"Finalizar tour"},reasons:{exitLoad:"Carga de salida {{value}}%",recent:"Reciente {{value}}%",neverUsed:"Nunca usado"}},G1={warningDays:"Alerta (das)",overdue:"Atrasado",dueIn:"D-{{diff}}",noAssignments:"Sin asignaciones."},Y1={title:"Informes"},J1={updateAvailable:"Nueva versin disponible. Actualizar?",loading:"Cargando...",saving:"Guardando...",error:"Algo sali mal",success:"Completado con xito",retry:"Intentar de nuevo",close:"Cerrar",copy:"Copiar",copied:"Copiado al portapapeles",noData:"No hay datos disponibles",search:"Buscar",exportSuccess:"Archivo de exportacin generado",exportError:"No se pudieron exportar los datos",importSuccess:"Datos importados con xito",importError:"No se pudieron importar los datos",clearConfirm:"Borrar TODOS los datos?",clearSuccess:"Datos borrados",clearError:"No se pudieron borrar los datos",theme:{light:"Claro",dark:"Oscuro"}},X1={signIn:"Iniciar sesin",signOut:"Cerrar sesin",email:"Correo electrnico",password:"Contrasea",forgotPassword:"Olvidaste tu contrasea?",rememberMe:"Recordarme"},eN={english:"Ingls",portuguese:"Portugus",spanish:"Espaol"},tN={save:"Guardar",cancel:"Cancelar",delete:"Eliminar",edit:"Editar",create:"Crear",view:"Ver",update:"Actualizar",back:"Volver",next:"Siguiente",previous:"Anterior",yes:"S",no:"No"},rN={filters:"Filtros",apply:"Aplicar",clear:"Limpiar",reset:"Restablecer",from:"Desde",to:"Hasta",all:"Todos",status:"Estado"},nN={actions:"Acciones",rowsPerPage:"Filas por pgina",of:"de",empty:"No se encontr ningn registro"},sN={next:"Siguiente",previous:"Anterior",first:"Primera",last:"ltima",page:"Pgina",of:"de"},aN={today:"Hoy",yesterday:"Ayer",tomorrow:"Maana"},iN={required:"Este campo es obligatorio",invalidEmail:"Introduce un correo electrnico vlido",minLength:"La longitud mnima es {{min}}",maxLength:"La longitud mxima es {{max}}"},oN={home:R1,about:O1,navbar:L1,confirm:M1,scheduler:V1,sidebar:F1,naoEmCasa:$1,buildingsVillages:U1,letters:z1,ruasNumeracoes:B1,status:K1,exits:H1,users:W1,territories:Z1,assignments:q1,suggestions:Q1,calendar:G1,reports:Y1,app:J1,auth:X1,language:eN,common:tN,filters:rN,table:nN,pagination:sN,dates:aN,validation:iN},lN={title:"Incio",today:"Hoje  {{date}}",exampleNumber:"Nmero de exemplo: {{value}}"},uN={title:"Sobre"},cN={home:"Incio",about:"Sobre",settings:"Configuraes",profile:"Perfil",logout:"Sair",dashboard:"Painel"},dN={cancel:"Cancelar",confirm:"Confirmar",delete:"Excluir",save:"Salvar",yes:"Sim",no:"No",ok:"OK",continue:"Continuar",areYouSure:"Tem certeza?"},fN={title:"Exportao mensal",enable:"Ativar",disable:"Desativar",nextRun:"Prxima execuo:",lastRun:"ltima execuo:",frequency:"Frequncia",daily:"Diria",weekly:"Semanal",monthly:"Mensal",time:"Hora",runNow:"Executar agora"},hN={territories:"Territrios",streets:"Ruas",buildingsVillages:"Prdios & Vilas",letters:"Cartas",exits:"Sadas",assignments:"Designaes",calendar:"Calendrio",suggestions:"Sugestes",notAtHome:"No em Casa",dashboard:"Painel",reports:"Relatrios",maps:"Mapas",users:"Usurios",settings:"Configuraes",notifications:"Notificaes"},pN={title:"No em Casa",todayAssignments:"Territrios designados para hoje ({{count}})",noAssignments:"Nenhum territrio designado para hoje.",miniMapAlt:"Mapa do territrio {{name}}",noImage:"Sem imagem disponvel",addressesTitle:"Endereos",noAddresses:"Nenhum endereo cadastrado para este territrio.",table:{street:"Rua",numbers:"Nmeros",type:"Tipo",actions:"Aes"},residential:"Residencial",commercial:"Comercial",other:"Outros",recordNotAtHome:"Registrar ausncia",streetAddresses:"{{count}} endereo",streetAddresses_plural:"{{count}} endereos",confirmConversation:"Confirmar conversa",conversationConfirmedLabel:"Conversa confirmada",scheduledFor:"Retorno agendado para {{date}}",followUpsTitle:"Retornos agendados ({{count}})",noFollowUps:"Nenhum retorno pendente.",followUpOn:"Retornar em {{date}}",recordedOn:"Registrado em {{date}}",markCompleted:"Marcar como concludo",unknownStreet:"Rua no informada",unknownType:"Tipo no informado",addressLabel:"{{street}}  n {{range}}"},mN={title:"Prdios e Vilas",subtitle:"Cadastre, filtre e organize informaes sobre prdios, vilas e condomnios do territrio.",newRecord:"Novo registro",filters:{search:"Buscar",searchPlaceholder:"Nome, responsvel ou endereo",territory:"Territrio",type:"Tipo",modality:"Modalidade",allModalities:"Todas"},records:{title:"Registros",count:"{{count}} registro encontrado",count_plural:"{{count}} registros encontrados",loading:"Carregando registros...",empty:"Nenhum registro encontrado com os filtros aplicados.",noName:"Sem nome",noTerritory:"Territrio no informado"},fields:{territory:"Territrio",name:"Nome",address:"Endereo",number:"Nmero",type:"Tipo",modality:"Modalidade",reception:"Tipo de recepo",residences:"Quantidade de residncias",responsible:"Responsvel",contactMethod:"Mtodo de contato",letterStatus:"Status da correspondncia",letterHistory:"Histrico de correspondncias",assignedAt:"Designado em",returnedAt:"Devolvido em",block:"Bloco",notes:"Observaes"},placeholders:{territory:"Selecione um territrio",name:"Identificao do prdio ou vila",address:"Rua, avenida ou referncia",number:"Nmero do imvel",type:"Prdio, vila, condomnio...",modality:"Condomnio, vila fechada...",reception:"Portaria, interfone...",responsible:"Nome do sndico, porteiro...",contactMethod:"Telefone, e-mail, portaria...",block:"Identificao do bloco",notes:"Detalhes relevantes, horrios, instrues de acesso..."},letterStatus:{notSent:"Nenhuma carta enviada",inProgress:"Correspondncia em andamento",sent:"Carta enviada",responded:"Resposta recebida",unknown:"Status no informado"},letterHistory:{add:"Adicionar registro",empty:"Nenhuma correspondncia registrada.",sentAt:"Data de envio",status:"Status",remove:"Remover",notes:"Anotaes",notesPlaceholder:"Resumo do contedo, resposta recebida..."},modal:{editTitle:"Editar registro",createTitle:"Novo registro",descriptionEdit:"Preencha os campos abaixo para atualizar o prdio ou vila.",descriptionCreate:"Preencha os campos abaixo para cadastrar o prdio ou vila."},validation:{selectTerritory:"Selecione um territrio",nameRequired:"Informe o nome do prdio ou vila",invalidNumber:"Informe um nmero vlido"},feedback:{loadError:"No foi possvel carregar os dados",deleteSuccess:"Registro removido com sucesso",deleteError:"No foi possvel remover o registro",updateSuccess:"Registro atualizado com sucesso",createSuccess:"Registro criado com sucesso",saveError:"No foi possvel salvar o registro"},confirmDelete:"Deseja realmente remover este registro?"},gN={title:"Correspondncias",subtitle:"Acompanhe cartas enviadas e respostas por responsvel.",summary:"Responsveis acompanhados: {{responsibles}}  Cartas registradas: {{letters}}",loading:"Carregando correspondncias...",empty:"Nenhuma correspondncia registrada at o momento.",feedback:{loadError:"No foi possvel carregar as correspondncias"},groupSummary:"Cartas registradas: {{letters}}  Imveis: {{buildings}}",contactMethods:"Mtodos de contato: {{methods}}",contactMethod:"Contato preferencial",history:"Histrico",noHistory:"Nenhuma carta registrada para este imvel.",unnamedBuilding:"Prdio/Vila sem nome",unknownTerritory:"Territrio no identificado"},yN={tabs:{streets:"Ruas",addresses:"Endereos",propertyTypes:"Tipos",summary:"Resumo"},territorySelector:{label:"Territrio",placeholder:"Selecione um territrio"},streetsForm:{streetNamePlaceholder:"Nome da rua"},streetsTable:{name:"Nome"},addressesForm:{selectStreet:"Selecione a rua",selectType:"Tipo",numberStart:"Incio",numberEnd:"Fim"},addressesTable:{street:"Rua",start:"Incio",end:"Fim",type:"Tipo",lastVisit:"ltima visita bem-sucedida",nextVisit:"Prxima visita liberada",actions:"Aes",markVisit:"Marcar visita bem-sucedida",neverVisited:"Nunca visitado",cooldownNotScheduled:"Sem bloqueio ativo",cooldownActive:"Este endereo est bloqueado at {{date}}.",cooldownTooltip:"Prxima visita liberada em {{date}}",cooldownAlert:"{{count}} endereo est bloqueado at o fim do perodo de resfriamento.",cooldownAlert_plural:"{{count}} endereos esto bloqueados at o fim do perodo de resfriamento."},propertyTypesForm:{namePlaceholder:"Nome do tipo de propriedade"},propertyTypesTable:{name:"Nome",actions:"Aes",empty:"Nenhum tipo cadastrado."},feedback:{loadError:"No foi possvel carregar territrios ou tipos de propriedade.",createSuccess:"Tipo de propriedade criado com sucesso.",updateSuccess:"Tipo de propriedade atualizado com sucesso.",deleteSuccess:"Tipo de propriedade removido com sucesso.",saveError:"No foi possvel salvar o tipo de propriedade.",deleteError:"No foi possvel remover o tipo de propriedade."},summary:{totalStreets:"Total de ruas: {{count}}",totalAddresses:"Total de endereos: {{count}}",totalPropertyTypes:"Total de tipos de propriedade: {{count}}"}},vN={ativo:"Ativo",devolvido:"Devolvido",atrasado:"Atrasado",pendente:"Pendente",emAndamento:"Em andamento",inativo:"Inativo",arquivado:"Arquivado"},xN={newExit:"Cadastrar Sada de Campo",name:"Nome",namePlaceholder:"Ex.: Grupo Sbado Manh",weekday:"Dia da Semana",time:"Horrio",save:"Salvar Sada",exitsWithCount:"Sadas ({{count}})",noExits:"Nenhuma sada cadastrada.",confirmDelete:"Excluir sada?",delete:"Excluir"},wN={pageTitle:"Gerenciamento de usurios",form:{createTitle:"Novo usurio",editTitle:"Editar usurio",name:"Nome",email:"E-mail",role:"Papel",password:"Senha",passwordPlaceholder:"Defina uma senha segura",passwordConfirmation:"Confirmar senha",passwordConfirmationPlaceholder:"Repita a senha",passwordHint:"Preencha ambos os campos para definir ou alterar a senha. Deixe em branco para manter a atual.",passwordRequired:"Informe uma senha.",passwordMismatch:"As senhas no coincidem.",namePlaceholder:"Nome completo",emailPlaceholder:"nome@exemplo.com",save:"Salvar usurio",update:"Atualizar usurio",cancel:"Cancelar edio"},listTitle:"Usurios cadastrados ({{count}})",empty:"Nenhum usurio cadastrado.",noEmail:"Nenhum e-mail informado",actions:{edit:"Editar",delete:"Excluir"},confirmDelete:"Deseja realmente remover {{name}}?",toast:{createSuccess:"Usurio salvo",updateSuccess:"Usurio atualizado",deleteSuccess:"Usurio removido",saveError:"No foi possvel salvar o usurio."},roles:{admin_master:"Admin master",admin:"Administrador",manager:"Gerente",publisher:"Publicador",viewer:"Leitor"}},bN={createTerritory:"Cadastrar Territrio",editTerritory:"Editar Territrio",name:"Nome",namePlaceholder:"Ex.: Territrio 12  Centro",optionalImage:"Imagem (opcional)",saveTerritory:"Salvar Territrio",territoriesWithCount:"Territrios ({{count}})",searchPlaceholder:"Buscar...",withImage:"Com imagem",noTerritories:"Nenhum territrio cadastrado.",image:"Imagem",noImagePlaceholder:"",confirmDelete:"Excluir territrio?",pageInfo:"Pgina {{page}} de {{pageCount}}",validation:{nameRequired:"Nome obrigatrio"}},_N={selectExit:"Selecione uma sada",noAvailableTerritories:"Sem territrios disponveis",selectTerritoryAndExit:"Selecione territrio e sada",newAssignment:"Nova Designao",territory:"Territrio",selectPlaceholder:"Selecione",exit:"Sada",assignmentDate:"Data Designao",returnDate:"Data Devoluo",generateSuggestion:"Gerar sugesto",save:"Salvar",assignmentsWithCount:"Designaes ({{count}})",noAssignments:"Sem designaes.",status:"Status",reactivate:"Reativar",markAsReturned:"Devolver",confirmDelete:"Excluir designao?",delete:"Excluir"},SN={cards:{rules:"Regras de sugesto",generated:"Sugestes geradas"},actions:{saveDefaults:"Salvar padres",generate:"Gerar sugestes",applyAll:"Aplicar tudo",viewTour:"Ver tour"},labels:{startDate:"Data inicial",duration:"Durao (dias)",avoidCount:"Evitar repetio (ltimas N)",monthsPerExit:"Repetio por sada (meses)",recentWeight:"Peso recncia",balanceWeight:"Peso carga sada"},tooltips:{startDate:"Data inicial para gerao das sugestes",duration:"Durao padro das designaes em dias",avoidCount:"Nmero de ltimas designaes consideradas para evitar repetio",monthsPerExit:"Tempo mnimo em meses antes de repetir o mesmo territrio na mesma sada",recentWeight:"Quanto maior, mais penaliza territrios usados recentemente",balanceWeight:"Quanto maior, mais equilibrada a carga entre sadas"},messages:{waiting:"Aguardando gerao",empty:"Sem sugestes (verifique se h territrios e sadas)."},table:{exit:"Sada",territory:"Territrio",start:"Designao",end:"Devoluo"},toast:{nothingToApply:"Nada para aplicar",applied:"Designaes aplicadas"},tour:{progress:"Passo {{current}} de {{total}}",finish:"Finalizar tour"},reasons:{exitLoad:"Carga sada {{value}}%",recent:"Recente {{value}}%",neverUsed:"Nunca usado"}},kN={warningDays:"Alerta (dias)",overdue:"Atrasado",dueIn:"D-{{diff}}",noAssignments:"Sem designaes."},NN={title:"Relatrios"},EN={updateAvailable:"Nova verso disponvel. Atualizar?",loading:"Carregando...",saving:"Salvando...",error:"Algo deu errado",success:"Concludo com sucesso",retry:"Tentar novamente",close:"Fechar",copy:"Copiar",copied:"Copiado para a rea de transferncia",noData:"Nenhum dado disponvel",search:"Pesquisar",exportSuccess:"Arquivo de exportao gerado",exportError:"No foi possvel exportar os dados",importSuccess:"Dados importados com sucesso",importError:"No foi possvel importar os dados",clearConfirm:"Limpar TODOS os dados?",clearSuccess:"Dados limpos",clearError:"No foi possvel limpar os dados",theme:{light:"Claro",dark:"Escuro"}},CN={signIn:"Entrar",signOut:"Sair",email:"E-mail",password:"Senha",forgotPassword:"Esqueceu sua senha?",rememberMe:"Lembrar-me"},jN={english:"Ingls",portuguese:"Portugus",spanish:"Espanhol"},TN={save:"Salvar",cancel:"Cancelar",delete:"Excluir",edit:"Editar",create:"Criar",view:"Visualizar",update:"Atualizar",back:"Voltar",next:"Prximo",previous:"Anterior",yes:"Sim",no:"No"},AN={filters:"Filtros",apply:"Aplicar",clear:"Limpar",reset:"Redefinir",from:"De",to:"At",all:"Todos",status:"Status"},IN={actions:"Aes",rowsPerPage:"Linhas por pgina",of:"de",empty:"Nenhum registro encontrado"},PN={next:"Prximo",previous:"Anterior",first:"Primeira",last:"ltima",page:"Pgina",of:"de"},DN={today:"Hoje",yesterday:"Ontem",tomorrow:"Amanh"},RN={required:"Este campo  obrigatrio",invalidEmail:"Digite um e-mail vlido",minLength:"O comprimento mnimo  {{min}}",maxLength:"O comprimento mximo  {{max}}"},ON={home:lN,about:uN,navbar:cN,confirm:dN,scheduler:fN,sidebar:hN,naoEmCasa:pN,buildingsVillages:mN,letters:gN,ruasNumeracoes:yN,status:vN,exits:xN,users:wN,territories:bN,assignments:_N,suggestions:SN,calendar:kN,reports:NN,app:EN,auth:CN,language:jN,common:TN,filters:AN,table:IN,pagination:PN,dates:DN,validation:RN},LN=typeof window<"u"?localStorage.getItem("locale"):null;it.use(Kw).init({resources:{"en-US":{translation:D1},"es-ES":{translation:oN},"pt-BR":{translation:ON}},lng:LN||"en-US",fallbackLng:"en-US",interpolation:{escapeValue:!1}});if("serviceWorker"in navigator){let e=!1;window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(async t=>{if(t.onupdatefound=()=>{const r=t.installing;r&&r.addEventListener("statechange",()=>{r.state==="installed"&&navigator.serviceWorker.controller&&confirm(it.t("app.updateAvailable"))&&r.postMessage({type:"SKIP_WAITING"})})},"Notification"in window&&await Notification.requestPermission()==="granted"){const n=await t.pushManager.getSubscription()||await t.pushManager.subscribe({userVisibleOnly:!0});localStorage.setItem("pushEndpoint",n.endpoint)}})}),navigator.serviceWorker.addEventListener("controllerchange",()=>{e||(window.location.reload(),e=!0)})}async function MN(){try{await t_()}catch(e){console.error("Failed to initialize the IndexedDB schema",e)}$u.createRoot(document.getElementById("root")).render(u.jsx(ge.StrictMode,{children:u.jsx(wv,{children:u.jsx(c_,{children:u.jsx(__,{children:u.jsx(Fk,{})})})})}))}MN();const VN=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));
